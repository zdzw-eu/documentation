
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../MIR-OCT-Volumetric-Inspection/">
      
      
        <link rel="next" href="../../WP06/Heat-Transfer-Digital-Twin/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Plastic Molding Inspection - Documentation ZDZW</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#plastic-molding-inspection" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Documentation ZDZW" class="md-header__button md-logo" aria-label="Documentation ZDZW" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Documentation ZDZW
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Plastic Molding Inspection
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Documentation ZDZW" class="md-nav__button md-logo" aria-label="Documentation ZDZW" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Documentation ZDZW
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Documentation ZDZW
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    WP04
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            WP04
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP04/Acoustic-Emissions-Integrity-Assesment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Acoustic Emissions Integrity Assesment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP04/EMAT-Ultrasonic-Inspection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    EMAT Ultrasonic Inspection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP04/Mechanical-Hardness-Inspector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mechanical Hardness Inspector
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP04/Mid-Infra-Red-OCT-2D/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mid Infra Red OCT-2D
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    WP05
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            WP05
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2D-Surface-Inspector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2D Surface Inspector
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3D-Surface-Inspector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3D Surface Inspector
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AI-Enhanced-Painting-Inspector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI-Enhanced Painting Inspector
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AR-Enhanced-Inspection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AR Enhanced Inspection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../MIR-OCT-Volumetric-Inspection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MIR-OCT Volumetric Inspection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Plastic Molding Inspection
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Plastic Molding Inspection
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-description" class="md-nav__link">
    <span class="md-ellipsis">
      General Description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#top-functionalities" class="md-nav__link">
    <span class="md-ellipsis">
      Top Functionalities
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture Diagram
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Image Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hardware-components" class="md-nav__link">
    <span class="md-ellipsis">
      Hardware Components
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#computation-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Computation Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-procedure" class="md-nav__link">
    <span class="md-ellipsis">
      Installation Procedure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use" class="md-nav__link">
    <span class="md-ellipsis">
      How To Use
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How To Use">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inspection" class="md-nav__link">
    <span class="md-ellipsis">
      Inspection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controls" class="md-nav__link">
    <span class="md-ellipsis">
      Controls
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Controls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general" class="md-nav__link">
    <span class="md-ellipsis">
      General
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trigger" class="md-nav__link">
    <span class="md-ellipsis">
      Trigger
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camera" class="md-nav__link">
    <span class="md-ellipsis">
      Camera
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target-detector" class="md-nav__link">
    <span class="md-ellipsis">
      Target Detector
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inspection_1" class="md-nav__link">
    <span class="md-ellipsis">
      Inspection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geometry-recorder" class="md-nav__link">
    <span class="md-ellipsis">
      Geometry Recorder
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-learning-materials" class="md-nav__link">
    <span class="md-ellipsis">
      Additional Learning Materials
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Additional Learning Materials">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cameras" class="md-nav__link">
    <span class="md-ellipsis">
      Cameras
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      Algorithms
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-a-beko-camera-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Appendix A: Beko Camera Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix A: Beko Camera Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Limitations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mounting" class="md-nav__link">
    <span class="md-ellipsis">
      Mounting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mounting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#igds-mobile-setup" class="md-nav__link">
    <span class="md-ellipsis">
      IGD's Mobile Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#igds-fixed-setup" class="md-nav__link">
    <span class="md-ellipsis">
      IGD's Fixed Setup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connection-and-software-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Connection and Software Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intrinsic-camera-calibration" class="md-nav__link">
    <span class="md-ellipsis">
      Intrinsic Camera Calibration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workspace-calibration" class="md-nav__link">
    <span class="md-ellipsis">
      Workspace Calibration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    WP06
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            WP06
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP06/Heat-Transfer-Digital-Twin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Heat Transfer Digital Twin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP06/Thermal-Inspection-Component-Surface-Monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Thermal Inspection for Component Surface Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP06/Thermal-Inspection-Heat-Sealing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Thermal Inspection for Heat Sealing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP06/Thermal-Inspection-Thermoforming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Thermal Inspection for Thermoforming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP06/Welding-Process-Inspector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welding Process Inspector
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    WP07
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            WP07
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP07/Interlinking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Interlinking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP07/Interoperability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Interoperability
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP07/Kubernetes-Platform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kubernetes Platform
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP07/Marketplace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Marketplace
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP07/Portal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Portal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP07/Usage-Traceability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage Traceability
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP07/Valuechain-App-Store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Valuechain AppStore
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-description" class="md-nav__link">
    <span class="md-ellipsis">
      General Description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#top-functionalities" class="md-nav__link">
    <span class="md-ellipsis">
      Top Functionalities
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture Diagram
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Image Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hardware-components" class="md-nav__link">
    <span class="md-ellipsis">
      Hardware Components
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#computation-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Computation Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-procedure" class="md-nav__link">
    <span class="md-ellipsis">
      Installation Procedure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use" class="md-nav__link">
    <span class="md-ellipsis">
      How To Use
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How To Use">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inspection" class="md-nav__link">
    <span class="md-ellipsis">
      Inspection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controls" class="md-nav__link">
    <span class="md-ellipsis">
      Controls
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Controls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general" class="md-nav__link">
    <span class="md-ellipsis">
      General
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trigger" class="md-nav__link">
    <span class="md-ellipsis">
      Trigger
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camera" class="md-nav__link">
    <span class="md-ellipsis">
      Camera
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target-detector" class="md-nav__link">
    <span class="md-ellipsis">
      Target Detector
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inspection_1" class="md-nav__link">
    <span class="md-ellipsis">
      Inspection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geometry-recorder" class="md-nav__link">
    <span class="md-ellipsis">
      Geometry Recorder
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-learning-materials" class="md-nav__link">
    <span class="md-ellipsis">
      Additional Learning Materials
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Additional Learning Materials">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cameras" class="md-nav__link">
    <span class="md-ellipsis">
      Cameras
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      Algorithms
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-a-beko-camera-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Appendix A: Beko Camera Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix A: Beko Camera Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Limitations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mounting" class="md-nav__link">
    <span class="md-ellipsis">
      Mounting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mounting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#igds-mobile-setup" class="md-nav__link">
    <span class="md-ellipsis">
      IGD's Mobile Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#igds-fixed-setup" class="md-nav__link">
    <span class="md-ellipsis">
      IGD's Fixed Setup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connection-and-software-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Connection and Software Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intrinsic-camera-calibration" class="md-nav__link">
    <span class="md-ellipsis">
      Intrinsic Camera Calibration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workspace-calibration" class="md-nav__link">
    <span class="md-ellipsis">
      Workspace Calibration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="plastic-molding-inspection">Plastic Molding Inspection</h1>
<h2 id="general-description">General Description</h2>
<p>The app automatically monitor the quality of the production using 3D reconstruction of manufactured goods regarding geometric correctness. The object is digitally reconstructed by an array of 3D-cameras. The 3D reconstruction of the object will be aligned and compared with the objectâ€™s CAD-model to determine its quality.</p>
<p>Based on the automatically provided model data, the app detects the errors and can visualize the results of the comparison as a false-colour image and point to the locations of individual defects by annotating the recorded images. Detected defects are classified and stored in a history, in order to be able to monitor production quality over time.</p>
<h2 id="top-functionalities">Top Functionalities</h2>
<ol>
<li><strong>Multi Camera Setup:</strong> A generic multi camera setup should be build which involves calibrating the cameras to ensure accurate and synchronized data collection. This calibration process involves determining the intrinsic and extrinsic parameters of each camera (if not provided by the camera itself). Once calibrated, the cameras should simultaneously capture data from different perspectives.</li>
<li><strong>3D-Reconstruction from multiple images:</strong> The provided depth data from different calibrated cameras should merge into a single 3D reconstruction (for example pointcloud or mesh). The aligning process can be supported by using local alignment methods like ICP to perform even better, especially to provide a more robust setup for industrial environments.</li>
<li><strong>Defect Localization:</strong> We need to localize defects in a local area and position them onto the given 3D object in a deformable object context<ul>
<li>Identify the local area where the defects are located. Use a localization technique algorithms (image processing or 3D feature based like normal-maps) to precisely determine the position of the defects within the local area.</li>
<li>Map the position of the defects onto the 3D object by aligning the coordinate systems of the local area and the 3D object.</li>
</ul>
</li>
<li><strong>Defect Characterization:</strong> Defects can be classified into various categories based on their characteristics or attributes. The most important defects must be clarified and categorized.</li>
<li><strong>Defect Visualization:</strong> This visual representation aids in quickly identifying and addressing the most critical defects. The detected defects should be visualized in a way, a human can understand. To enhance comprehension, the detected defects can be visualized using techniques such as a false color gradient or highlighting the area of the defect in the image.</li>
<li><strong>Automatic Target-/Actual-Comparison:</strong> By utilizing the provided CAD data and the scanned object data (pointcloud or mesh), an automated comparison should be performed between the target design and the actual object. This enables the identification of any deviations or variances that may exist.</li>
<li><strong>Handling of Tolerable Deformations:</strong> The system can tolerate deformations of the target object that occur due to gravity. I.e. such differences compared to the CAD or scanned difference are not classified as defects.</li>
</ol>
<h2 id="architecture-diagram">Architecture Diagram</h2>
<p><img alt="Plastic Molding Inspection Architecture" src="../images/WP05-PMI-VI_architecture.png" /></p>
<p>The system consists of six distinct components:</p>
<ul>
<li><strong>Defect Detection Controller:</strong> is the central component of the application. It creates and manages instances of all other components and controls all data-flow. In particular it opens a HTTP-server to serve the <strong>Volumetric Inspection UI</strong> and a websocket-server for subsequent communication with the UI.</li>
<li><strong>Volumetric Inspection UI:</strong> is a web-GUI deployed by the <strong>Defect Detection Controller</strong> it allows a user to configure the defect detection, see current detection results or view historical detection data.</li>
<li><strong>Defect Detector:</strong> is the component responsible for defect detection and classification. It will be realized as a class in the main application.</li>
<li><strong>Model Manager:</strong> is the component responsible for loading and managing all model- (i.e. CAD-) data. It loads this data from the file-system. It will be realized as a class in the main application.</li>
<li><strong>Camera Controller:</strong> is the interface to the camera. This includes the camera driver and respective libraries.</li>
<li><strong>Inspection Hardware:</strong> comprises one or more depth-cameras. Currently supported cameras are Ensenso X36.</li>
</ul>
<h2 id="image-overview">Image Overview</h2>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="image" src="../images/inline_setup.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Sample hardware setup in a factory.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="image" src="../images/inline_result.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">GUI of the system showing detected defects.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="image" src="../images/result_heatmap.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">A different result visualization pointing out all geometric differences between target and reference in a heatmap, including ones that occur due to gravity and the actual defects.</td>
</tr>
</tbody>
</table>
<h2 id="hardware-components">Hardware Components</h2>
<p>The minimum requirements are:</p>
<ul>
<li>An array of depth-cameras. The system has been tested with an Ensenso C-57M camera. The specific requirements for the cameras depend on the use-case.</li>
<li>A framework for mounting the cameras.</li>
<li>A PC for running the application (see Computation Requirements).</li>
<li>A monitor for displaying the results.</li>
</ul>
<h2 id="computation-requirements">Computation Requirements</h2>
<p>Plastic Molding Inspection requires at least the following hardware:</p>
<ul>
<li>CPU: 8 Core, 3000MHz</li>
<li>RAM: 16 GB</li>
<li>Space: 2 GB</li>
<li>GPU: nVidia with 6 GB VRAM.</li>
</ul>
<h2 id="installation-procedure">Installation Procedure</h2>
<p>The setup is highly use-case-dependent, in particular the chosen 3D-camera(s) and their positioning, please contact felix.gorschlueter@igd.fraunhofer.de for more information. Appendix A describes setup considerations for the inspection of inner fridge bodies at Beko.</p>
<h2 id="how-to-use">How To Use</h2>
<p>Run the inspection system with the following command line call from wherever the inspection system has been installed:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>python qiserv.py -c &quot;/path/to/config.yaml&quot;
</span></code></pre></div>
<p>Note that passing an initial configuration file is mandatory.</p>
<p>The figure below shows what is shown after startup. No image has been captured, yet, so the screen is black. Only the unaligned reference (indicated by the yellow color) can be seen. The menu bar's "File"-entry lets you:</p>
<ul>
<li>Save the current application configuration to a yaml-file.</li>
<li>Load an application configuration from a yaml-file.</li>
<li>Load a reference from a file.</li>
</ul>
<p>The sidebar labeled "Controls" contains all immediate controls and lets you configure the application. Note that you can collapse it using the triangular button to see more of the inspection result. You can also make the sidebar bigger by dragging its right edge. The application can be run in two modes, reflected by the tabs on top:</p>
<ul>
<li><strong>Inspection</strong>: configure and perform inspections.</li>
<li><strong>Recorder</strong>: configure and perform 3D-reconstructions ("reference recordings").</li>
</ul>
<p>The individual sections of each tab are explained in more detail in the following.</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="image" src="../images/qiserv_start.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">The initial view of the inspection application.</td>
</tr>
</tbody>
</table>
<h3 id="inspection">Inspection</h3>
<p>When the system has been configured, the inspection process runs fully automated and users only need to check the display for inspection results. During image capture users should be aware of the following:</p>
<ul>
<li>The 3D-camera is an active system. This means that a pattern is projected onto the target object during image capture. In the case of the ensenso camera this appears as a blue flash.</li>
<li>During image capture the target object should stand still. If you notice, that the target object is moving while it is captured, automated triggering needs to be recalibrated.</li>
<li>In order for the inspection to work, no other object may be near the target during capture. In particular the target object may not be touched.</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="image" src="../images/qiserv_inspection_view.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">The results of inspections are visualized by overlaying a camera image.</td>
</tr>
</tbody>
</table>
<p>By default the following is shown for an inspection:</p>
<ul>
<li>The aligned reference, drawn in blue, if the alignment was successful, if not it is drawn in yellow. In this case no inspection result is available.</li>
<li>The locations of detected defects, indicated by boxes and annotations stating the defect class (currently: "Geometric Deformation" or "Punching Error").</li>
</ul>
<h3 id="controls">Controls</h3>
<p>The primary mode of configuring the system is the GUI. Remember to save the configuration via "File" -&gt; "Save Configuration" after changing any settings.</p>
<blockquote>
<p>Some settings are not available on the GUI, but can only be set in the config-file. These are pointed out with the <strong>[config-file]</strong>-marker.</p>
<p>Some settings are only showns, if <code>General/Show advanced settings</code> is active. These are pointed out by the <strong>[advanced]</strong>-marker. Advanced settings are settings that require extended knowledge about computer-vision-algorithms to understand and thus should only be changed by respective experts.</p>
<p>Note that generally you need to trigger a new inspection for a changed configuration to take effect. Display-settings ("Show Xyz") are exempt from this and take effect immediately.</p>
</blockquote>
<h4 id="general">General</h4>
<ul>
<li><strong>Show advanced settings</strong>: check this to display advanced settings in all other sections. This setting is here to be able to simplify the GUI for everyday usage compared to more involved configurations, that require expert-knowledge.</li>
</ul>
<h4 id="trigger">Trigger</h4>
<p>In this section you can configure when an inspection is triggered.</p>
<ul>
<li><strong>Run (Hotkey: Space)</strong>: press this or space to manually trigger a capture and an inspection.</li>
<li><strong>Always</strong>: check this to constantly run inspections as fast as the system allows.</li>
<li><strong>On File Existence (Path: [/path/to/file])</strong>: check this to run inspections if a specific file exists. The file will be deleted after detecting it once.</li>
<li><strong>trigger_path [config-file]</strong>: path to the file whose existence triggers an inspection.</li>
<li><strong>On HTTP Request (URL: http://url/to/endpoint)</strong>: check this to run inspections if the HTTP-request to the specified URL returns the string "true". </li>
<li><strong>trigger_url [config-file]</strong>: the HTTP-endpoint to request trigger-signal at, if <code>On HTTP Request</code> is active.</li>
<li><strong>File-/HTTP-Trigger Delay</strong>: set a delay in seconds between one of the respective trigger-conditions being true and actually performing an inspection.</li>
</ul>
<h4 id="camera">Camera</h4>
<ul>
<li><strong>Log Frame</strong>: press this to manually log the last captured frame. This can then be reread by the inspection system The location to log frames currently can only be set in the config-file with the top-level-setting <code>log_dir</code>. By default this is <em>./qilog</em>.</li>
<li><strong>Show point cloud</strong>: check this to overlay the camera image with the recorded point cloud. Note that the shown point cloud is filtered by the ROI (see below).</li>
<li><strong>ROI 3D</strong>: this subsection deals with configuring a box-shaped region of interest (ROI). All 3D-points not inside this ROI are filtered out. The origin of this box is in its center. This should be configured to only include the space that is occupied by the target object. In particular it should filter out the ground and background.</li>
<li><strong>Show</strong>: check this to have the ROI shown as a white cube.</li>
<li><strong>Apply</strong>: check this to apply the ROI to the point cloud. If this is unchecked, no filtering is done.</li>
<li><strong>rx, ry, rz, angle</strong>: rotation of the ROI relative to workspace-coordinates. This is defined by an axis around which the ROI is rotated by the given angle in degrees.</li>
<li><strong>tx, ty, tz</strong>: the translation of the ROI relative to workspace-coordinates.</li>
<li><strong>sx, sy, sz</strong>: the scale (dimensions) of the ROI.</li>
</ul>
<h4 id="target-detector">Target Detector</h4>
<ul>
<li><strong>Score</strong>: the score of the target-alignment. This is currently identical to <em>fitness</em>.</li>
<li><strong>Is valid</strong>: shows <em>True</em>, if the alignment surpasses the given thresholds, otherwise <em>False</em>. This is also indicated by the colour of the rendered reference (blue: valid, yellow: invalid).</li>
<li><strong>Fitness</strong>: the ratio of "inliers" (<code>target points that could be matched / total target points</code>). This information can be used to calibrate the <em>Min Fitness</em>-setting.</li>
<li><strong>RMSE</strong>: the average of the distances of inliers and their reference counterparts. "RMSE" stands for "root mean squared error".</li>
<li><strong>Time</strong>: the time the reference detection took in seconds.</li>
<li><strong>Show Reference</strong>: press this to show the reference in a new window. You can rotate the scene by keeping the left mouse button pressed, move it by keeping the middle mouse button pressed and zoom with the scroll-wheel.</li>
<li><strong>Show Model</strong>: check this to display the reference as an overlay of the camera image. A blue reference means that target detection was successful, a yellow one means that it failed. If the target detection failed, no inspection is performed.</li>
<li><strong>Validation</strong>: in this section you can finde parameters for validating the target detection.</li>
<li><strong>Min Fitness</strong>: the minimum ratio of (<code>target points that could be matched / total target points</code>) for the detection to be deemed successful.</li>
<li><strong>Max RMSE</strong>: maximum average of distances of inliers to their reference counterparts.</li>
<li><strong>FPFHs [advanced]</strong>: this subsection contains settings for configuring the rough detection and alignment of target and reference using <em>Fast Point Feature Histograms</em>. FPFHs are 3D-features that describe regions of a point cloud in a way that can be matched to another point cloud, thus enabling us to find corresponding regions between these two clouds and aligning them.</li>
<li><strong>Downsample Voxel Size [advanced]</strong>: size of voxels to downsample target and reference to before doing rough alignment with FPFHs. After downsampling each cuboid cell with this edge length only contains one point. Downsampling has two purposes: it ensure that target and reference have the same average point density, which is important for accurate matching and using less points (i.e. a larger voxel size) speeds up target detection. The latter happens at the cost of loosing details, though.</li>
<li><strong>Feature Radius [advanced]</strong>: radius for the FPFH-calcuation. I.e. the size of regions to desribe using an FPFH. This should be at least twice the <code>Downsample Voxel Size</code>. As more point relationships need to be calculated, larger regions slow down detection.</li>
<li><strong>Feature Max Neighbours [advanced]</strong>: maximum number of neighbours to consider within a region for the FPFH-calculation. Decreasing this value makes the FPFH-calucation faster, as less neighbours are considered, but decreases the accuracy of the description of the respective region.</li>
<li><strong>RANSAC [advanced]</strong>: this subsection contains settings for matching FPFHs using the <em>RANdom SAmple Consensus</em>-method. This finds corresponding FPFHs between the reference and target and calculates a transformation to roughly align them. After finding correspondences between two sets of FPFHs using a nearest-neighbour-search in FPFH-space this set of correspondences contains a lot of false matches, i.e. points that are close in FPFH-space, as they are geometrically similar, but not necessarily so in 3D-space (e.g. flat regions). These corresponces lead to wrong alignments being calculated. RANSAC solves this by iteratively picking a random set of 3 correspondences in each iteration, calculating an alignment only from these points and scoring the result by calculating the fitness of the current alignment according to <code>Distance Threshold</code>. The result with the best score is then returned.</li>
<li><strong>Sanity Checks [advanced]</strong>: check this to apply a set of predefined sanity-checks to the randomly chosen subset before calculating the score for all points. Activating this speeds up alignment calculation and should generally be active. However, for some use-cases outside of the fridge-inspection it did not work, so it can be deactivated.</li>
<li><strong>Distance Threshold [advanced]</strong>: the maximum distance between target and reference points after the resulting transformation was applied for the match to count as a success.</li>
<li><strong>Max Iterations [advanced]</strong>: the maximum number of RANSAC-iterations. Decreasing this leads to faster convergence, but decreases the chance of finding a correct set of matches.</li>
<li><strong>Min Confidence [advanced]</strong>: the minimum confidence in the result required for an early termination. The algorithm terminates before <code>Max Iterations</code> is reached, if this confindence was achieved in the current iteration. The confidence score depends on the fitness of the current iteration and how many iterations have been performed. Increasing this potentially slows down alignment, but raises the chance of getting a good result. Setting this to 1 deactivates early termination.</li>
<li><strong>ICP [advanced]</strong>: this subsection contains settings for configuring accurate alignment using the <strong>Iterative Closest Point</strong>-algorithm. ICP produces a much more accurate alignment than FPFHs, but is only locally convergent, i.e. it only works if a rough alignment is already known. ICP works by matching the closest reference point for each target point based on the current alignment, calculating a new alignment, that minimizes this distance and repeating this process.</li>
<li><strong>Use ICP [advanced]</strong>: check this to use ICP. If this is not checked, alignment will only be performed using FPFHs and RANSAC, which only provides a rough alignment. In production use, this should always be active. However, in order to be able to configure FPFH-alignment and checking its result without having it filtered by ICP, this can be deactivated.</li>
<li><strong>Sampling Method [advanced]</strong>: method to use for downsampling target and reference point cloud for ICP. For large point clouds ICP can be very slow, so downsample the input. As for different use-cases, different downsampling-strategies can be best, this is configurable. The available methods are: <code>None</code>: don't downsample, <code>voxel</code>: downsample so that each voxel of a defined size only contains one point, <code>random</code>: randomly select a portion of points from the cloud, <code>uniform</code>: select every Nth point of the cloud.</li>
<li><strong>Sampling Param [advanced]</strong>: the meaning of this depends on the chosen <code>Sampling Method</code>. <code>None</code>: no effect, <code>voxel</code>: the voxel size to downsample to, <code>random</code>: the ratio of points to downsample to in [0-1], <code>uniform</code>: N for picking every Nth point.</li>
<li><strong>Distance Threshold [advanced]</strong>: the maximum distance for considering matches between target and reference as successful in each iteration and thus using this match in the calculation of the next alignment.</li>
<li><strong>Max Iterations [advanced]</strong>: maximum number of iterations to perform.</li>
<li><strong>Relative RMSE [advanced]</strong>: if from one iteration to the next the RMSE improves by this ratio or less, ICP terminates. The RMSE is the average distance between all successful target-reference-matches according to <code>Distance Threshold</code>.</li>
</ul>
<h4 id="inspection_1">Inspection</h4>
<ul>
<li><strong>Quality</strong>: shows whether the inspected target is deemed in order (IO) or not in order (NIO).</li>
<li><strong>Inspection Runtime</strong>: the time the inspection took in seconds. Note that this comprises <em>only</em> the target-reference-comparison, not capturing the scene or detecting the target.</li>
<li><strong>Active</strong>: check this to perform the comparison.</li>
<li><strong>Show Distances</strong>: check this to show the point-wise distances of target and reference with a colour map. Note that this is not well visible if <code>Target Detector/Show Model</code> or <code>Camera/Show point cloud</code> are also active.</li>
<li><strong>Show Defects</strong>: check this to show the detected defects as annotations.</li>
<li><strong>ROI</strong>: this subsection allows configuring a region of interest (ROI) that is applied during inspection <em>in reference coordinates</em> (i.e. <em>not</em> in workspace coordinates as <code>Camera/ROI 3D</code>). This allows filtering geometry in the target point cloud for which no reference exists and which would thus lead to false positive defects.</li>
<li><strong>Show</strong>: check this to show the ROI in the scene.</li>
<li><strong>Apply</strong>: check this to apply the ROI to the scene. I.e. if this is unchecked, no filtering is done.</li>
<li><strong>Set ROI to Ref BBox</strong>: press this to use the bounding box of the reference as ROI. Usually it is a good idea to initialize the ROI to this and adapt it manually afterwards.</li>
<li><strong>rx, ry, rz, angle</strong>: rotation of the ROI relative to reference-coordinates. This is defined by an axis around which the ROI is rotated by the given angle in degrees.</li>
<li><strong>tx, ty, tz</strong>: the translation of the ROI relative to reference-coordinates.</li>
<li><strong>sx, sy, sz</strong>: the scale (dimensions) of the ROI.</li>
<li><strong>Comparison</strong>: this subsection contains setting for the comparison of the target and the reference. When <code>Distance</code>-compare is active, point-wise distances between target and reference points are used to find defective geometry. I.e. if a target point is further away than <code>Tolerance</code> from the nearest point in the reference it is considered part of a defect. When <code>Normals</code>-compare is active, for each target point that is further away than <code>Tolerance</code> a point with a similar normal direction is searched in the reference. If this can't be found, it is considered defective.</li>
<li><strong>Compare Mode</strong>: Select whether to compare target and reference by distance only or also consider point normals.</li>
<li><strong>Tolerance</strong>: target points whose closest points in the reference are within this distance are never considered defective. For target points whose correspondences are further away than this, the defectiveness depends on <code>Compare Mode</code>.</li>
<li><strong>Sampling Method [advanced]</strong>: method to use for downsampling target and reference point cloud for comparison. Downsampling trades off detection-accuracy against speed. As for different use-cases, different downsampling-strategies can be best, this is configurable. The available methods are: <code>None</code>: don't downsample, <code>voxel</code>: downsample so that each voxel of a defined size only contains one point, <code>random</code>: randomly select a portion of points from the cloud, <code>uniform</code>: select every Nth point of the cloud.</li>
<li><strong>Sampling Param [advanced]</strong>: the meaning of this depends on the chosen <code>Sampling Method</code>. <code>None</code>: no effect, <code>voxel</code>: the voxel size to downsample to, <code>random</code>: the ratio of points to downsample to in [0-1], <code>uniform</code>: N for picking every Nth point.</li>
<li><strong>Max Neighbours [advanced, normal-compare only]</strong>: maximum number points to consider to look for the closest reference-point and a reference point with a similar normal for each target-point. Increasing this gives more accurate, but slower results.</li>
<li><strong>Neighbourhood Radius [advanced, normal-compare only]</strong>: maximum radius to look for the closest reference-point and a reference point with a similar normal for each target-point. Increasing this gives more accurate, but slower results. If no reference-point is found within this radius for a target-point, it is considered a defect.</li>
<li><strong>Max Normal Angle [advanced, normal-compare only]</strong>: if for a target point's normal no reference-normal with an angle smaller than this can be found, the point is considered defective.</li>
<li><strong>Min Side Neighbour Angle [advanced]</strong>: minimum angle between the target-reference-vector and the target normal for considering the closest point to a target point a "side neighbour".</li>
<li><strong>Max Side Neighbour Distance [advanced]</strong>: if the closest point in the reference is a side neighbour and further away than this, the target point is considered defective.</li>
<li><strong>Defect Clustering [advanced]</strong>: this subsection contains settings for clustering individual points that are considered defective to defects. It uses the density-based clustering algorithm DBSCAN.</li>
<li><strong>Max Input Points [advanced]</strong>: maximum number of points to input into the clustering. If more defective points than this have been found, they are randomly downsampled to this amount of points. Decreasing this makes the inspection faster but less accurate. Setting this to 0 deactivates this feature.</li>
<li><strong>Min Points [advanced]</strong>: minimum number of points to make a single defect. I.e. if a defect-candidate consists of less points than this, it is ignored. This can be used to ignore false positives due to noise in the 3D-reconstruction.</li>
<li><strong>Min Density [advanced]</strong>: maximum distance two defective points may be apart to be considered belonging to the same defect.</li>
</ul>
<h4 id="geometry-recorder">Geometry Recorder</h4>
<ul>
<li><strong>Status</strong>: a status message informing the user about the result of the last operation.</li>
<li><strong>Last Operation Runtime</strong>: the time needed for the last operation in seconds.</li>
<li><strong>Record all frames</strong>: check this to automatically add every captured frame to the list of key frames.</li>
<li><strong>Add</strong>: add the currently captured frame to the list of key frames.</li>
<li><strong>Clear</strong>: clear the list of key frames.</li>
<li><strong>Reconstruct</strong>: reconstruct a single point cloud from the individual clouds of the collected key frames. Note that depending on the settings and the number of frames to reconstruct from, this can take a long time. For 8 frames approximately 10 minutes.</li>
<li><strong>Show Result</strong>: press this to show the last reconstruction result in a new window. You can rotate the scene by keeping the left mouse button pressed, move it by keeping the middle mouse button pressed and zoom with the scroll-wheel. </li>
<li><strong>Save As</strong>: save the reconstruction result to a file.</li>
<li><strong>Key Frame Table</strong>: this lists the collected key frames. Each frame has a unique ID, a timestamp and actions you can perform on it.</li>
<li><strong>Remove</strong>: remove this frame from the list of key frames.</li>
<li><strong>Show</strong>: show the point cloud of this frame in a new window. You can rotate the scene by keeping the left mouse button pressed, move it by keeping the middle mouse button pressed and zoom with the scroll-wheel.</li>
<li><strong>FPFHs, RANSAC, ICP [advanced]</strong>: the key frames are aligned using the same algorithms as for <a href="#target-detector">Target Detection</a>. Refer to this section for information regarding this.</li>
<li><strong>Postprocessing [advanced]</strong>: after performing the reconstruction, the stitched point cloud is post processed by removing noise ("outliers") and sampling it to remove duplicate points.</li>
<li><strong>Do Outlier Removal [advanced]</strong>: check this to have outlier removal performed. This works by requiring each point to have a certain amount of minimum neighbours within a given radius to be considered an inlier.</li>
<li><strong>Min Neighbours [advanced]</strong>: minimum number of neighbours a point must have to not be considered an outlier.</li>
<li><strong>Neighbourhood Radius [advanced]</strong>: count neighbours for outlier removal within this radius.</li>
<li><strong>Downsampe Voxel Size [advanced]</strong>: downsample the resulting point cloud to have only one point in each voxel of this size.</li>
</ul>
<h2 id="additional-learning-materials">Additional Learning Materials</h2>
<h3 id="cameras">Cameras</h3>
<ul>
<li>Ensenso mechanical specifications for C-57M: https://www.ensenso.com/manual/3.6/hardware/mechanics/cx.html#c5x-m</li>
<li>Ensenso camera setup considerations: https://www.ensenso.com/manual/3.6/about/camera-setup-considerations.html</li>
<li>Ensenso instructions on camera calibration: https://www.ensenso.com/manual/3.6/guides/calibration/patterns.html</li>
<li>Ensenso overview on stereo vision: https://www.optonic.com/produkte/ensenso/tech-highlights-ensenso/</li>
</ul>
<h3 id="algorithms">Algorithms</h3>
<ul>
<li>FPFHs: description from the Point Cloud Library documentation: https://pcl.readthedocs.io/projects/tutorials/en/master/fpfh_estimation.html</li>
<li>FPFHs: original publication: https://pcl.readthedocs.io/projects/tutorials/en/master/fpfh_estimation.html</li>
<li>RANSAC: on Wikipedia: https://de.wikipedia.org/wiki/RANSAC-Algorithmus</li>
<li>ICP: on Wikipedia: https://en.wikipedia.org/wiki/Iterative_closest_point</li>
<li>DBSCAN: on Wikipedia: https://de.wikipedia.org/wiki/DBSCAN</li>
</ul>
<h2 id="appendix-a-beko-camera-setup">Appendix A: Beko Camera Setup</h2>
<p>Besides general advice given in <a href="https://www.ensenso.com/manual/3.6/about/camera-setup-considerations.html">Ensenso's documentation</a>, camera placement is determined by the following requirements:</p>
<ol>
<li>The size of defects to detect. The camera has to be close enough to be able to capture the defects to look for according to its accuracy. In the pilot application defects can be as small as 0.5mm.</li>
<li>The position of expected defects on the target object. In the pilot application defects can occur anywhere, so every point of the object is equally important.</li>
</ol>
<p>The camera used in the pilot application is an Ensenso C57-6-M, which has the following specifications:</p>
<ul>
<li>A field of view of about 45Â°.</li>
<li>A baseline of 455mm.</li>
<li>An accuracy of 0.26mm in z- and 0.37mm in xy-direction at 1m distance from the target object.</li>
</ul>
<p>This leads to these conclusions for placement:</p>
<ol>
<li>The camera should be placed as close as possible to the target application, to get the highest accuracy.</li>
<li>The camera should be placed so that the whole fridge body is in its field of view, so we see as much as possible. To account for inaccuracies due to handling, </li>
<li>The camera should be placed so that all three visible sides of the fridge body have the same angle to the image plane, in order to be able to inspect every side with the same accuracy.</li>
</ol>
<p>Figure 1 shows optimal placements of Ensenso C57-6-M-cameras under these conclusions for a 1000mm- and 1800mm-fridge body respectively.</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="image" src="../images/camsetup_tech_drawings.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Technical drawing of the optimal setups for fridge-bodies of 1000mm and 1800mm length respectively.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="image" src="../images/camsetup_igd_lab_setup.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Sample setup for small fridge bodies in IGDs laboratory.</td>
</tr>
</tbody>
</table>
<h3 id="limitations">Limitations</h3>
<ul>
<li>The size of the individual objects can vary, therefore the largest volume to be captured is decisive for the distance calculation. For this, Arcelik must define the capture space (largest volume in all 3 directions).</li>
<li>If the objects have indentations on the top or indentations and/or elevations on the side surfaces, they may not be captured correctly because using only one static camera can lead to occlusions.</li>
</ul>
<h3 id="mounting">Mounting</h3>
<p>We recommend placing the camera with an at least semi-mobile setup, in order to be able to easily change the camera placement, if the need occurs. This would for instance be modular systems based on aluminium profiles. A long-term mounting-solution probably requires <a href="https://de.ids-imaging.com/store/ensenso-mounting-kit.html">the mounting-kit</a>, altough one could probably also build a custom-solution. The cameras thread-specifcations and placements are documented <a href="https://www.ensenso.com/manual/3.6/hardware/mechanics/cx.html#c5x-m">here</a>.</p>
<h4 id="igds-mobile-setup">IGD's Mobile Setup</h4>
<p>A simple and highly mobile solution for experimentation is using a tripod and a manfrotto superclamp, as shown in figure 2. This can, however, only be a short-term-solution, as it is prone to being moved or even toppled due to accidents and it is susceptible to vibrations.</p>
<p>The setup above consists of the following parts:</p>
<ul>
<li>A <a href="https://www.manfrotto.com/us-en/super-photo-clamp-without-stud-aluminium-035/">Manfrotto superclamp</a>.</li>
<li>A tripod. We have a <a href="https://www.cullmann.de/products/primax/primax-390/">Cullmann Primax 390 tripod</a>, which has a maximum height of 1.69m, so it is <strong>not suitable</strong> for recording at the production line, as we require 2.4m. If you decide to build a similar setup, buy a tripod with a maximum height of at least 2.4m. To attach the superclamp without any adapter, you need a screw with an M6-thread (a.k.a. 1/4") and to tilt down the camera watch out to buy a tripod with a tiltable head. <a href="https://www.futech-tools.com/en/p/092.240/tripod-light-duty-240cm-tilting-head-1-4">This one</a> looks like it could fulfull all requirements.</li>
</ul>
<h4 id="igds-fixed-setup">IGD's Fixed Setup</h4>
<p>The older X36-cameras we have are also attached with Super Clamps, but these clamp to the framework, hold 3-way-joints (tripod-heads), which in turn have the camera attached (see figure 3). The 3-way-joints are very convenient, as they can easily be brought to the desired orientation.</p>
<p>This setup requires the following parts:</p>
<ul>
<li>A <a href="https://www.manfrotto.com/us-en/super-photo-clamp-without-stud-aluminium-035/">Manfrotto superclamp</a>.</li>
<li>A <a href="https://www.manfrotto.com/us-en/3d-junior-pan-tilt-tripod-head-with-individual-axis-control-056/">Manfrotto 3D Junior tripod head</a></li>
<li>As one side of the tripod head has a 3/8"-thread, a <a href="https://www.manfrotto.com/us-en/reversible-short-stud-037/">stud like this</a> to fix it to the superclamp.</li>
<li>For the C57 <a href="https://de.ids-imaging.com/store/ensenso-mounting-kit.html">the Ensenso mounting kit</a> or another solution that allows attaching the camera with an M6-thread (a.k.a. 1/4").</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="image" src="../images/camsetup_igd_x36mount.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">IGD's mounting solution for X36 cameras.</td>
</tr>
</tbody>
</table>
<h3 id="connection-and-software-setup">Connection and Software Setup</h3>
<ul>
<li>Connect the camera to the same network the PC to be used with the camera is in. In the simplest case plug it into the LAN-port of your PC. At IGD we use a PC with two network-adapters (on-board and PCI), one to connect to our company-network and one to connect the camera.</li>
<li>Download and install the <a href="https://community.ensenso.com/t/ensenso-sdk-downloads/58">Ensenso SDK</a>. Note that you need to register, in order to be able to download it.</li>
<li>Open nxView.</li>
<li>Select the camera with the correct serial. In case of the C57-M two cameras appear, one for the 3D-stereo-camera and one for the colour-camera. Both are automatically selected, which is correct. Click "Open". If any network settings are not correct (i.e. IP-settings of camera and or PC have not been set yet or are incorrect), nxView will offer you a wizard you can follow to fix this.</li>
<li>You should be able to see the images and the 3D-reconstruction now and interact with it. Note that this shows a virtual camera recording a virtual scene, what you see will probably differ.</li>
</ul>
<p><img alt="image" src="../images/nxview_initial.png" /></p>
<h3 id="intrinsic-camera-calibration">Intrinsic Camera Calibration</h3>
<p>The cameras are intrinsically calibrated by default. To check the quality of the calibration you can use the calibration pattern. Don't open the camera as seen in 1. but start "Calibrate..". Place the pattern in front of the camera and select "control results". You will check the current calibration <img alt="image" src="https://github.com/zdzw-eu/Plastic-Molding-Inspection/assets/144899285/7e79e3e0-ba7c-4123-a5ec-0136d5546b96" /></p>
<p>If you need to recalibrate the camera, you can follow the calibration steps as provided. Be aware that the calculation of the calibration will be calculated in the background after collecting all data. Therefore do not close the application of select "Control results", this may lead to reloading of the old calibration and will overwrite your current work.</p>
<h3 id="workspace-calibration">Workspace Calibration</h3>
<p>We need to calibrate a <em>workspace</em> coordinate system for the inspection system using a known calibration pattern. This is a coordinate system where the xy-plane is the "floor" of the scene and its origin is roughly where the target object is located. Working with the described coordinate system makes configuring the scene's region of interest (ROI) much easier than doing this in the default camera coordinate system. This ROI is a virtual cuboid filtering out background and floor from the 3D-scene.</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><img src="images/workspace_calib_comparison.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Without workspace calibration all 3D-data is relative to the camera's coordinate system (left), after workspace calibration we can work in a coordinate system that's located on the scene's floor (right).</td>
</tr>
</tbody>
</table>
<p>To calibrate the workspace follow these steps:</p>
<ol>
<li>Put the <a href="https://manual.ensenso.com/latest/guides/calibration/patterns.html">calibration pattern</a> roughly where you expect the target object to be. Also orient the pattern as the target object will be oriented. You don't need to be very precise here, though.</li>
<li>Open the camera with NxView.</li>
<li>Load the current camera settings. This is important to include the previously configured settings in the new settings. Current camera settings can e.g. be found at <code>qiserv/data/fridge_inspection/c57m_beko.ensparam</code>.</li>
<li>In the lower right corner: "Workspace Calibration" -&gt; "Set origin with calibration plate" -&gt; "Start". NxView will now take a few shots of the calibration pattern, detect it in the images and set the workspace coordinate system accordingly.</li>
<li>You can verify that the workspace has been calibrated by checking that the coordinate axes are now placed where the pattern is located in the "3D View".</li>
<li>Go to "Parameters" (Tool-button top right) -&gt; "Save ..." and save the new camera settings to the file you use in the inspection application. E.g. <code>qiserv/data/fridge_inspection/c57m_beko.ensparam</code>.</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align: center;"><img src="images/workspace_calib_nxview.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">NxView controls you need for the workspace calibration.</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>