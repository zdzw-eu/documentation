
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Portal/">
      
      
        <link rel="next" href="../Valuechain-App-Store/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Usage Traceability - Documentation ZDZW</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#usage-traceability" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Documentation ZDZW" class="md-header__button md-logo" aria-label="Documentation ZDZW" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Documentation ZDZW
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Usage Traceability
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Documentation ZDZW" class="md-nav__button md-logo" aria-label="Documentation ZDZW" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Documentation ZDZW
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Documentation ZDZW
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    WP04
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            WP04
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP04/Acoustic-Emissions-Integrity-Assesment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Acoustic Emissions Integrity Assesment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP04/EMAT-Ultrasonic-Inspection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    EMAT Ultrasonic Inspection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP04/Mechanical-Hardness-Inspector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mechanical Hardness Inspector
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP04/Mid-Infra-Red-OCT-2D/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mid Infra Red OCT-2D
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    WP05
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            WP05
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP05/2D-Surface-Inspector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2D Surface Inspector
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP05/3D-Surface-Inspector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3D Surface Inspector
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP05/AI-Enhanced-Painting-Inspector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI-Enhanced Painting Inspector
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP05/AR-Enhanced-Inspection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AR Enhanced Inspection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP05/MIR-OCT-Volumetric-Inspection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MIR-OCT Volumetric Inspection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP05/Plastic-Molding-Inspection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plastic Molding Inspection
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    WP06
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            WP06
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP06/Heat-Transfer-Digital-Twin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Heat Transfer Digital Twin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP06/Thermal-Inspection-Component-Surface-Monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Thermal Inspection for Component Surface Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP06/Thermal-Inspection-Heat-Sealing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Thermal Inspection for Heat Sealing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP06/Thermal-Inspection-Thermoforming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Thermal Inspection for Thermoforming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../WP06/Welding-Process-Inspector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welding Process Inspector
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    WP07
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            WP07
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Interlinking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Interlinking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Interoperability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Interoperability
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Kubernetes-Platform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kubernetes Platform
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Marketplace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Marketplace
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Portal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Portal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Usage Traceability
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Usage Traceability
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-general-description" class="md-nav__link">
    <span class="md-ellipsis">
      1. General Description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-top-ten-functionalities" class="md-nav__link">
    <span class="md-ellipsis">
      2. Top Ten Functionalities
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      3. Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Diagram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-smartcontract-life-cycle" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. SmartContract Life Cycle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2. SmartContract Life Cycle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321-create-smartcontract" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.1. Create SmartContract
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322-install-smartcontract" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.2. Install SmartContract
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#323-invoke-smartcontract" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.3. Invoke SmartContract
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#324-query-smartcontract" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.4. Query SmartContract
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#325-renew-smartcontract" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.5. Renew SmartContract
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#326-block-smartcontract" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.6. Block SmartContract
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-image-overview" class="md-nav__link">
    <span class="md-ellipsis">
      4. Image Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Image Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-traceability-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Traceability Gateway
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-hardware-components" class="md-nav__link">
    <span class="md-ellipsis">
      5. Hardware Components
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-computation-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      6. Computation Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Computation Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-traceability-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      6.1. Traceability Gateway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-usage-tracking-visualization" class="md-nav__link">
    <span class="md-ellipsis">
      6.2. Usage tracking Visualization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-blockchain-platform" class="md-nav__link">
    <span class="md-ellipsis">
      6.3. Blockchain Platform
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-installation-procedure" class="md-nav__link">
    <span class="md-ellipsis">
      7. Installation Procedure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Installation Procedure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-traceability-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      7.1. Traceability Gateway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-usage-tracking-visualization" class="md-nav__link">
    <span class="md-ellipsis">
      7.2. Usage tracking Visualization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-blockchain-platform" class="md-nav__link">
    <span class="md-ellipsis">
      7.3. Blockchain Platform
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-how-to-use" class="md-nav__link">
    <span class="md-ellipsis">
      8. How To Use
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. How To Use">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-traceability-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      8.1. Traceability Gateway
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.1. Traceability Gateway">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#811-keycloack-authentication-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.1 Keycloack Authentication Nodes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-blockchain-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      8.2. Blockchain Nodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.2. Blockchain Nodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#821-blockchain-pay-per-volume-ppv-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.1 Blockchain Pay Per Volume (PPV) Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#822-blockchain-pay-per-use-ppu" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.2 Blockchain Pay Per Use (PPU)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#823-blockchain-pay-per-period-ppp" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.3 Blockchain Pay Per Period (PPP)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.2.3 Blockchain Pay Per Period (PPP)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8231-cloud-zapp-pay-per-period-ppp" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.3.1 Cloud zApp Pay Per Period (PPP)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8232-onprem-zapp-pay-per-period-ppp" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.3.2 Onprem zApp Pay Per Period (PPP)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-traceability-gateway-use-case-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      8.3. Traceability Gateway Use Case Nodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.3. Traceability Gateway Use Case Nodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#831-av-ai-based-qc-zapp" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.1 AV AI-based QC zApp
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.3.1 AV AI-based QC zApp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8311-welding-inspector-zapp" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.1.1 Welding Inspector zApp
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#832-visual-inspector-zapp" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.2 Visual Inspector zApp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#833-node-red-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.3 Node-RED Dependencies
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.3.3 Node-RED Dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8331-mysql-local-instance" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.3.1 MySQL Local Instance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8332-blockchain-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.3.2 Blockchain Pipeline
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-usage-tracking-visualization" class="md-nav__link">
    <span class="md-ellipsis">
      8.4. Usage Tracking Visualization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.4. Usage Tracking Visualization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#smart-contract-selection-and-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Smart Contract Selection and Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-components-across-views" class="md-nav__link">
    <span class="md-ellipsis">
      Common Components Across Views
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#smart-contract-details-and-signing-information" class="md-nav__link">
    <span class="md-ellipsis">
      Smart Contract Details and Signing Information
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-timeline-charts" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive Timeline Charts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paypervolume-model-view" class="md-nav__link">
    <span class="md-ellipsis">
      PayPerVolume Model View
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#payperuse-model-view" class="md-nav__link">
    <span class="md-ellipsis">
      PayPerUse Model View
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#payperperiod-model-view" class="md-nav__link">
    <span class="md-ellipsis">
      PayPerPeriod Model View
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85-blockchain-platform" class="md-nav__link">
    <span class="md-ellipsis">
      8.5. Blockchain Platform
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5. Blockchain Platform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#851-application-purchase" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.1. Application Purchase
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.1. Application Purchase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8511-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.1.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8512-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.1.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8513-examples" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.1.3. Examples
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#852-installation-of-the-application-on-a-machine" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.2. Installation of the Application on a Machine
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.2. Installation of the Application on a Machine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8521-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.2.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8522-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.2.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8523-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.2.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#853-application-usage" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.3. Application Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.3. Application Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8531-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.3.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8532-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.3.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8533-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.3.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#854-application-renewal" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.4. Application Renewal
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.4. Application Renewal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8541-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.4.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8542-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.4.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8543-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.4.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#855-application-decommissioning" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.5. Application Decommissioning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.5. Application Decommissioning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8551-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.5.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8552-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.5.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8553-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.5.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#856-get-all-the-contracts-owned-by-a-company" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.6. Get all the Contracts owned by a Company
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.6. Get all the Contracts owned by a Company">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8561-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.6.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8562-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.6.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8563-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.6.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#857-get-the-metadata-of-a-smart-contract" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.7. Get the Metadata of a Smart Contract
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.7. Get the Metadata of a Smart Contract">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8571-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.7.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8572-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.7.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8573-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.7.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#858-get-purchase-data-about-an-application" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.8. Get purchase data about an application
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.8. Get purchase data about an application">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8581-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.8.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8582-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.8.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8583-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.8.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#859-get-installation-data-about-an-application" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.9. Get installation data about an application
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.9. Get installation data about an application">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8591-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.9.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8592-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.9.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8593-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.9.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8510-get-usage-information-from-a-zapp-for-pay-per-volume-and-pay-per-period" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.10. Get usage information from a zApp (for Pay per Volume and Pay per Period)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.10. Get usage information from a zApp (for Pay per Volume and Pay per Period)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#85101-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.10.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85102-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.10.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85103-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.10.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8511-get-functionality-usage-information-from-a-zapp-only-for-pay-per-use" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.11. Get functionality usage information from a zApp (only for Pay per Use)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.11. Get functionality usage information from a zApp (only for Pay per Use)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#85111-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.11.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85112-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.11.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85113-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.11.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8512-get-the-last-usage-status-from-a-zapp" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.12. Get the last usage status from a zApp
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.12. Get the last usage status from a zApp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#85121-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.12.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85122-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.12.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85123-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.12.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8513-get-the-accumulated-uses-for-a-functionality-of-zapp-for-pay-per-use" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.13. Get the accumulated uses for a functionality of zApp (for Pay per Use)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.13. Get the accumulated uses for a functionality of zApp (for Pay per Use)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#85131-input" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.13.1. Input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85132-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.13.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85133-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.13.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8514-get-all-the-smart-contract-a-company-owns-for-a-specific-zapp" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.14. Get all the Smart Contract a Company owns for a specific zApp
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.14. Get all the Smart Contract a Company owns for a specific zApp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#85141-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.14.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85142-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.14.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85143-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.14.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8515-get-all-the-versions-for-a-specific-smartcontract" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.15. Get all the versions for a specific SmartContract
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.15. Get all the versions for a specific SmartContract">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#85151-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.15.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85152-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.15.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85153-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.15.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-additional-material" class="md-nav__link">
    <span class="md-ellipsis">
      9. Additional Material
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Additional Material">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-additional-learning-material" class="md-nav__link">
    <span class="md-ellipsis">
      9.1. Additional Learning Material
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-anexes" class="md-nav__link">
    <span class="md-ellipsis">
      9.2. Anexes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Valuechain-App-Store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Valuechain AppStore
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-general-description" class="md-nav__link">
    <span class="md-ellipsis">
      1. General Description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-top-ten-functionalities" class="md-nav__link">
    <span class="md-ellipsis">
      2. Top Ten Functionalities
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      3. Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Diagram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-smartcontract-life-cycle" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. SmartContract Life Cycle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2. SmartContract Life Cycle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321-create-smartcontract" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.1. Create SmartContract
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322-install-smartcontract" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.2. Install SmartContract
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#323-invoke-smartcontract" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.3. Invoke SmartContract
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#324-query-smartcontract" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.4. Query SmartContract
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#325-renew-smartcontract" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.5. Renew SmartContract
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#326-block-smartcontract" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.6. Block SmartContract
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-image-overview" class="md-nav__link">
    <span class="md-ellipsis">
      4. Image Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Image Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-traceability-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Traceability Gateway
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-hardware-components" class="md-nav__link">
    <span class="md-ellipsis">
      5. Hardware Components
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-computation-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      6. Computation Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Computation Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-traceability-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      6.1. Traceability Gateway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-usage-tracking-visualization" class="md-nav__link">
    <span class="md-ellipsis">
      6.2. Usage tracking Visualization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-blockchain-platform" class="md-nav__link">
    <span class="md-ellipsis">
      6.3. Blockchain Platform
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-installation-procedure" class="md-nav__link">
    <span class="md-ellipsis">
      7. Installation Procedure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Installation Procedure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-traceability-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      7.1. Traceability Gateway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-usage-tracking-visualization" class="md-nav__link">
    <span class="md-ellipsis">
      7.2. Usage tracking Visualization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-blockchain-platform" class="md-nav__link">
    <span class="md-ellipsis">
      7.3. Blockchain Platform
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-how-to-use" class="md-nav__link">
    <span class="md-ellipsis">
      8. How To Use
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. How To Use">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-traceability-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      8.1. Traceability Gateway
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.1. Traceability Gateway">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#811-keycloack-authentication-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.1 Keycloack Authentication Nodes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-blockchain-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      8.2. Blockchain Nodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.2. Blockchain Nodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#821-blockchain-pay-per-volume-ppv-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.1 Blockchain Pay Per Volume (PPV) Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#822-blockchain-pay-per-use-ppu" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.2 Blockchain Pay Per Use (PPU)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#823-blockchain-pay-per-period-ppp" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.3 Blockchain Pay Per Period (PPP)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.2.3 Blockchain Pay Per Period (PPP)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8231-cloud-zapp-pay-per-period-ppp" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.3.1 Cloud zApp Pay Per Period (PPP)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8232-onprem-zapp-pay-per-period-ppp" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.3.2 Onprem zApp Pay Per Period (PPP)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-traceability-gateway-use-case-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      8.3. Traceability Gateway Use Case Nodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.3. Traceability Gateway Use Case Nodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#831-av-ai-based-qc-zapp" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.1 AV AI-based QC zApp
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.3.1 AV AI-based QC zApp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8311-welding-inspector-zapp" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.1.1 Welding Inspector zApp
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#832-visual-inspector-zapp" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.2 Visual Inspector zApp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#833-node-red-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.3 Node-RED Dependencies
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.3.3 Node-RED Dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8331-mysql-local-instance" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.3.1 MySQL Local Instance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8332-blockchain-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.3.2 Blockchain Pipeline
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-usage-tracking-visualization" class="md-nav__link">
    <span class="md-ellipsis">
      8.4. Usage Tracking Visualization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.4. Usage Tracking Visualization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#smart-contract-selection-and-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Smart Contract Selection and Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-components-across-views" class="md-nav__link">
    <span class="md-ellipsis">
      Common Components Across Views
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#smart-contract-details-and-signing-information" class="md-nav__link">
    <span class="md-ellipsis">
      Smart Contract Details and Signing Information
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-timeline-charts" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive Timeline Charts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paypervolume-model-view" class="md-nav__link">
    <span class="md-ellipsis">
      PayPerVolume Model View
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#payperuse-model-view" class="md-nav__link">
    <span class="md-ellipsis">
      PayPerUse Model View
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#payperperiod-model-view" class="md-nav__link">
    <span class="md-ellipsis">
      PayPerPeriod Model View
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85-blockchain-platform" class="md-nav__link">
    <span class="md-ellipsis">
      8.5. Blockchain Platform
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5. Blockchain Platform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#851-application-purchase" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.1. Application Purchase
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.1. Application Purchase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8511-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.1.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8512-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.1.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8513-examples" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.1.3. Examples
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#852-installation-of-the-application-on-a-machine" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.2. Installation of the Application on a Machine
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.2. Installation of the Application on a Machine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8521-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.2.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8522-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.2.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8523-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.2.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#853-application-usage" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.3. Application Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.3. Application Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8531-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.3.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8532-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.3.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8533-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.3.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#854-application-renewal" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.4. Application Renewal
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.4. Application Renewal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8541-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.4.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8542-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.4.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8543-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.4.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#855-application-decommissioning" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.5. Application Decommissioning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.5. Application Decommissioning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8551-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.5.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8552-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.5.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8553-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.5.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#856-get-all-the-contracts-owned-by-a-company" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.6. Get all the Contracts owned by a Company
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.6. Get all the Contracts owned by a Company">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8561-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.6.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8562-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.6.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8563-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.6.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#857-get-the-metadata-of-a-smart-contract" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.7. Get the Metadata of a Smart Contract
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.7. Get the Metadata of a Smart Contract">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8571-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.7.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8572-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.7.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8573-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.7.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#858-get-purchase-data-about-an-application" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.8. Get purchase data about an application
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.8. Get purchase data about an application">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8581-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.8.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8582-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.8.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8583-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.8.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#859-get-installation-data-about-an-application" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.9. Get installation data about an application
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.9. Get installation data about an application">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8591-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.9.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8592-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.9.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8593-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.9.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8510-get-usage-information-from-a-zapp-for-pay-per-volume-and-pay-per-period" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.10. Get usage information from a zApp (for Pay per Volume and Pay per Period)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.10. Get usage information from a zApp (for Pay per Volume and Pay per Period)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#85101-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.10.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85102-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.10.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85103-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.10.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8511-get-functionality-usage-information-from-a-zapp-only-for-pay-per-use" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.11. Get functionality usage information from a zApp (only for Pay per Use)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.11. Get functionality usage information from a zApp (only for Pay per Use)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#85111-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.11.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85112-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.11.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85113-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.11.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8512-get-the-last-usage-status-from-a-zapp" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.12. Get the last usage status from a zApp
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.12. Get the last usage status from a zApp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#85121-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.12.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85122-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.12.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85123-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.12.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8513-get-the-accumulated-uses-for-a-functionality-of-zapp-for-pay-per-use" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.13. Get the accumulated uses for a functionality of zApp (for Pay per Use)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.13. Get the accumulated uses for a functionality of zApp (for Pay per Use)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#85131-input" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.13.1. Input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85132-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.13.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85133-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.13.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8514-get-all-the-smart-contract-a-company-owns-for-a-specific-zapp" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.14. Get all the Smart Contract a Company owns for a specific zApp
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.14. Get all the Smart Contract a Company owns for a specific zApp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#85141-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.14.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85142-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.14.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85143-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.14.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8515-get-all-the-versions-for-a-specific-smartcontract" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.15. Get all the versions for a specific SmartContract
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5.15. Get all the versions for a specific SmartContract">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#85151-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.15.1. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85152-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.15.2. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85153-example" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.15.3. Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-additional-material" class="md-nav__link">
    <span class="md-ellipsis">
      9. Additional Material
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Additional Material">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-additional-learning-material" class="md-nav__link">
    <span class="md-ellipsis">
      9.1. Additional Learning Material
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-anexes" class="md-nav__link">
    <span class="md-ellipsis">
      9.2. Anexes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="usage-traceability">Usage Traceability</h1>
<h2 id="1-general-description">1. General Description</h2>
<p>The Usage Traceability represents the central communication layer between the Marketplace, the Assets (applications users) and the ZDZW Blockchain. It provides the following main functions:</p>
<ul>
<li>Provides zApps with a connection to the blockchain through the Traceability Gateway and the zApp usage tracking UI.</li>
<li>Provides the marketplace, Traceability Gateway and the zApp usage tracking UI with the required backend to interact directly with the blockchain through an API.</li>
<li>Manages smart contracts to track how much a ZDZW Inspection Solution has been used.</li>
<li>Implements business logic to enable traceability of usage data and monetisation management.</li>
<li>Stores on the ZDZW Blockchain the terms of the smart contract.</li>
<li>Provides information to the Marketplace to trigger payments according to the terms implemented in the smart contract.</li>
<li>Tracks and stores the usage of ZDZW applications by end users on the Blockchain (BaaS).</li>
</ul>
<h2 id="2-top-ten-functionalities">2. Top Ten Functionalities</h2>
<ol>
<li>
<p><strong>Establish a secure &amp; distributed database:</strong> The solution will store information regarding the acquisition, installation (if required), use and decommission of the zApps by different users in a distributed and secure manner. DLT-based technologies will be exploited for this purpose.</p>
</li>
<li>
<p><strong>Blockchain network management, deployment:</strong> The solution shall deploy and manage the chosen Blockchain platform.</p>
</li>
<li>
<p><strong>Blockchain integration with zApps and Marketplace:</strong> The solution will integrate the Marketplace with the traceability system, linking the Marketplace's zApps acquisition process with the Blockchain. It will also enable the Traceability Gateway to connect the installation and usage processes of the zApps with the Blockchain seamlessly. These integrations ensure secure storage and retrieval of usage data, creating a cohesive link between acquiring zApps and their traceability on the Blockchain.</p>
</li>
<li>
<p><strong>Integration flow runtime:</strong> The solution will enable a streamlined and dynamic integration flow runtime within the Traceability Gateway, allowing developers to manage data ingestion, processing, and Blockchain registration efficiently.</p>
</li>
<li>
<p><strong>Data ingestion, data transformation, and Blockchain registration functions:</strong> The solution will empower efficient data ingestion, seamless data transformation, and reliable Blockchain registration functions within the Traceability Gateway, ensuring a cohesive and effective integration process.</p>
</li>
<li>
<p><strong>Function palette management:</strong> The solution will facilitate comprehensive function palette management within the Traceability Gateway, offering developers a versatile toolkit to customise and optimise integration flows for zApps traceability.</p>
</li>
<li>
<p><strong>Integration flow management:</strong> The solution will enable effective integration flow management within the Traceability Gateway, allowing developers to efficiently organise and oversee the data flow for seamless zApps traceability.</p>
</li>
<li>
<p><strong>Integration flow edition user interface:</strong> The solution will provide an intuitive user interface for editing integration flows within the Traceability Gateway, ensuring a user-friendly experience for developers to customise and optimise the data flow for zApps traceability.</p>
</li>
<li>
<p><strong>Function palette management UI:</strong> The solution will feature a user-friendly interface for managing the function palette within the Traceability Gateway, offering developers a seamless experience in customising and optimising integration flows for zApps traceability.</p>
</li>
<li>
<p><strong>Provide Smart Contract Templates:</strong> The solution shall provide the templates for the deployed smart contracts that will manage the storage of zApps usage data.</p>
</li>
<li>
<p><strong>Manage Smart Contracts:</strong> The solution shall manage the smart contracts involved in the storage and retrieval of zApps data from the Blockchain platform. This includes their deployment, initialisation and querying.</p>
</li>
<li>
<p><strong>Storage Blockchain transactions:</strong> The solution shall store the zApps' usage data in transactions within the Blockchain platform so that it can be queried at a later stage.</p>
</li>
<li>
<p><strong>Request and Usage registration:</strong> The solution shall store information regarding when a zApp was acquired and under what conditions. It will also record data on when and where it is installed (if required), the dates and frequency of use, and when the zApp is decommissioned.</p>
</li>
<li>
<p><strong>Application Usage Tracking Visualisation (Every zApp a user owns) (<em>Figure 2</em>):</strong> Enables users to visually track and analyse the usage patterns and frequency of each zApp they own.</p>
</li>
<li>
<p><strong>Application Usage Tracking Visualisation (Specific zApp) (<em>Figure 3</em>):</strong> Offers a dedicated interface displaying detailed analytics and usage metrics of a particular zApp, aiding users in understanding its performance through interactive visual representations.</p>
</li>
</ol>
<h2 id="3-architecture">3. Architecture</h2>
<h3 id="31-diagram">3.1. Diagram</h3>
<p><img alt="Architecture" src="../images/WP7-UT-AWS.jpg" /></p>
<p><em>Figure 1. Solution Architecture</em></p>
<p>The solution requires data from other modules created in ZDZW, like the Marketplace. These modules (in grey in <em>Figure 1</em>) are external to those created in T7.4. However, they are represented in the figure to facilitate the understanding of how the T7.4 modules will be integrated with the rest of the ZDZW platform. Thus, the architecture of this task can be divided into three main subgroups:</p>
<ul>
<li>The zApp - Blockchain communication.</li>
<li>The graphical interface.</li>
<li>The backend manages the direct interaction with the Blockchain.</li>
</ul>
<p><strong>zApp - Blockchain communication</strong></p>
<p>The Zapps use these components to store information about the installation (if necessary), usage and decommissioning of the apps. It consists of:</p>
<ul>
<li><strong>Traceability Gateway:</strong> created by UPV. It is one of the modules with which the zApps interact directly. This component enables the integration of the modules designed in T7.4 with the Marketplace and the zApps. It provides Software Development Kits (SDKs) that developers can use in their backend solutions to integrate with the traceability solution, and a dedicated interoperability solution based on Node-Red. This traceability solution allows zApps developers to easily edit and manage integration flows to register zApp backend data into the Blockchain, using a dedicated integration flow runtime component. Integration flows normally combine data ingestion functions, data processing functions, and a Blockchain storage function to register new data in the Blockchain. Data processing functions allow ingesting data from backend services such as database services (relational or non-relational database), file systems (e.g. CSV or XML files), or messaging services (e.g. MQTT or AMQP brokers). Data transformation functions support the Blockchaintion of data to the specific JSON formatted data that the zApp will use to trace usability data. Finally, the Blockchain storage function facilitates the connection to the API Blockchain component.</li>
<li><strong>The API gateway</strong>, created by SAG. This module is external to the T7.4 task and its use is 'invisible' to the zapps. It manages user authentication, ensuring users can only access their organisation's data.</li>
</ul>
<p><strong>Graphical interface</strong></p>
<ul>
<li><strong>The zApp usage tracking</strong>: This component, the 'visualisation' of usage data, is developed by AIMEN.</li>
</ul>
<p><strong>Back end</strong></p>
<p>This component is the backend; it manages the data coming from the traceability gateway and the Marketplace, and it stores them in the Blockchain. It also delivers the data to the frontend for visualisation.
This component is pure backend, and its use is only intended for the Marketplace, the Zapp usage tracking (UI) and the traceability gateway.</p>
<ul>
<li><strong>Blockchain API:</strong> This service allows other modules to interact with the Blockchain, including all the necessary services for managing Smart Contracts and interacting with the services provided by AWS BaaS. Therefore, it will offer the necessary endpoints to the Marketplace to generate Smart Contracts for each purchase of a zApp. In addition, the API must also provide the necessary endpoints to store the transactions produced by the installation and/or use of a zApp. Finally, it must also handle requests coming from the zApp Traceability Monitoring.</li>
<li><strong>Smart Contract Management:</strong> This service manages Smart Contracts. It will store different types of Smart Contracts according to the conditions of use of the zApp. In addition, it will install, instantiate and execute a Smart Contract, as well as finish once the execution condition has expired.</li>
<li><strong>Traceability Data Management:</strong> This service manages the provisioning and storage of usage data for traceability. Whenever a zApp is used based on the usage condition selected in the Marketplace, this service will store the transaction in the Blockchain, and all requests for zApp usage will also be made through this module.</li>
<li><strong>Blockchain Network:</strong> The Blockchain service stores zApp usage information and Smart Contracts for each zApp purchase.</li>
</ul>
<h3 id="32-smartcontract-life-cycle">3.2. SmartContract Life Cycle</h3>
<p>This section explains the SmartContract life cycle process and, for each phase, the sequence diagram between the different modules of the architecture. The life cycle of a SmartContract is directly correlated with the life cycle phases of an application available on the MarketPlace.</p>
<p>The modules developed in this task work closely to trace the app's purchase, installation, use and decommission. Thus, to use the following modules correctly, it is crucial to understand the defined lifecycle for the purchased apps through the smart contracts IDs.</p>
<p><img alt="Smart Contract Lifecycle" src="../images/WP7-SCLifeCycle.jpg" /></p>
<p><em>Figure 2. Application Life Cycle - SmartContract Life Cycle</em></p>
<p>As the image shows, the different steps in the lifecycle of a purchased app are:</p>
<ol>
<li>Purchase. It must be done through the Marketplace.</li>
<li>If on-premise, it must be installed. Uninstalled apps cannot be used, and if not installed, the pay-per-period business model cannot provide the Expiration Timestamp.</li>
<li>Use.</li>
<li>Renewal: This step is under development.</li>
<li>Decommission. A decommissioned app cannot be used.</li>
</ol>
<p>Furthermore, in the pay-per-period model, there is an additional step invisible to the user called "Activation". If the app is on-premise, activation happens when the app is installed. If the app is on the cloud, activation happens when the app is used for the first time. The Activation step defines when the apps start to be used; thus, the purchased time starts running. This is when the Expiration Timestamp is also calculated.</p>
<p>The compulsory phases to be able to use the applications are the following:</p>
<ul>
<li>On-premise application: purchase, installation, use, decommissioning.</li>
<li>Cloud application: purchase, use, decommissioning.
  The Renewal phase is an optional phase that can be taken when the application is still in use and the user/company wants to continue using it.</li>
</ul>
<p>The sequence diagram for each of the above phases has been further defined in the next sections.</p>
<h4 id="321-create-smartcontract">3.2.1. Create SmartContract</h4>
<p>The first phase is the purchase of the application, at which point the SmartContract associated with the purchase is created. A SmartContractID is also generated for its identification, which is used to access the contract data throughout its lifecycle. The sequence diagram of the SmartContract creation process is as follows:</p>
<p><img alt="Create Smart Contract" src="../images/WP7-createSmartContract.jpg" />
<em>Figure 3. Create SmartContract sequence diagram</em></p>
<h4 id="322-install-smartcontract">3.2.2. Install SmartContract</h4>
<p>This phase differs depending on whether the application is purchased to run on-premise or in the cloud.</p>
<ul>
<li>If the Application is on-premise, the exact machine on which it will be installed is defined in this phase. In addition, if the app has been purchased under a pay-per-period, this phase is also the moment when it will be activated. Both the time of installation and activation are recorded on the Blockchain.</li>
<li>This phase is unnecessary if the application is in the cloud. If the application has been purchased as a pay-per-period, its activation occurs during the first use.</li>
</ul>
<p><img alt="Installation Smart Contract" src="../images/WP7-InstalationSmartContract.jpg" /></p>
<p><em>Figure 4. Install SmartContract sequence diagram</em></p>
<h4 id="323-invoke-smartcontract">3.2.3. Invoke SmartContract</h4>
<p>Each time the application is used, the usage is stored in order to obtain a trace. For this purpose, the SmartContract must have been created and the application installed. If, in addition, the application is on-premise and is a pay-per-period, it has also been activated. If it is on-cloud, it will be activated during the first invoke.</p>
<p>Each time an invoke is performed, in addition to the usage data (i.e. how many uses or when they happened), the timestamp of when that information has been stored in the blockchain is also recorded.</p>
<p>In terms of how the invokes take place, if the application is automatic ( i.e., without user intervention), the Traceability Gateway is responsible for querying and sending the registration request to the Blockchain API. The other option is for the user to have a dash button in their application. This button will send the registration request to the Blockcahin through the Traceability Gateway.</p>
<p>The sequence diagram of the SmartContract invocation is as follows.</p>
<p><img alt="Invoke Smart Contract" src="../images/WP7-InvokeSmartContract.jpg" /></p>
<p><em>Figure 5. Invoke SmartContract sequence diagram</em></p>
<h4 id="324-query-smartcontract">3.2.4. Query SmartContract</h4>
<p>Once the application is running, there is the option to query the SmartContract to find out how many uses are registered, how many uses are left before the end of the contract or how many days are left before the contract expires. The sequence diagram for querying the SmartContract is as follows.</p>
<p><img alt="Query Smart Contract" src="../images/WP7-QuerySmartContract.jpg" /></p>
<p><em>Figure 6. Query SmartContract sequence diagram</em></p>
<h4 id="325-renew-smartcontract">3.2.5. Renew SmartContract</h4>
<p>In the lifecycle of an application, the renewal phase is an optional phase that the user can perform to extend the lifecycle of the SmartContract. To do so, this renewal will be activated from the Marketplace. The terms and conditions of the renewal contract remain unchanged. For example, suppose that the initial contract had 50 uses; the renewal will be for an additional 50 uses, and if the contract was for 30 days, the renewal will be for another 30 days.</p>
<p>The sequential diagram of the SmartContract renewal process is as follows.</p>
<p><img alt="renew Smart Contract" src="../images/WP7-renewSmartContract.jpg" /></p>
<p><em>Figure 7. Renew SmartContract sequence diagram</em></p>
<h4 id="326-block-smartcontract">3.2.6. Block SmartContract</h4>
<p>Once the contract expires, the application must block its runtime and notify that the contract is no longer in force. The Traceability gateway application will send the request to the Blockchain API to block the Smartcontract. This will indicate that, officially, the contract is no longer in force.</p>
<p>However, this does not prevent users from using the application; instead, the application itself must block users from using it. If it does not do so, the Blockchain will register the uses, and the Marketplace will be able to bill these uses at the price set for this case. The sequence diagram of the SmartContract blockchain process is as follows:</p>
<p><img alt="Block Smart Contract" src="../images/WP7-BlockSmartContract.jpg" /></p>
<p><em>Figure 8. Block SmartContract sequence diagram</em></p>
<h2 id="4-image-overview">4. Image Overview</h2>
<p>The usage tracking system interface is a tool designed to monitor and analyze the usage of smart contract-based applications in ZDZW. With a user-friendly interface, this system provides an intuitive overview of application usage, enabling users to gain actionable insights at a glance.</p>
<p>Users can track the usage of the various applications they have purchased from the ZDZW Marketplace. The platform offers a summary of usage data, highlighting the most frequently utilized applications. By presenting this information visually, users can easily identify trends and prioritize their resources effectively.</p>
<p><img alt="Login 1" src="../images/WP7-UT-usage-tracking-login.png" /></p>
<p><em>Figure 9. Initial page for unauthenticated user</em></p>
<!-- ### 4.2. Usage Tracker: one zApp

*Figure 10* shows the information relating to a specific zApp. The individualized view presents information like the chosen payment method, how many uses they have left or how much they have used the zApp during the last months. Additionally, our implementation includes a date filter, allowing users to refine and analyze usage data based on specific timeframes for enhanced insights and tailored assessments.

![Screenshot 2].(./images/WP7-UT-usage-tracking-SCs.png)

*Figure 10.* -->

<h3 id="41-traceability-gateway">4.1. Traceability Gateway</h3>
<p>The Traceability Gateway offers a user-friendly interface through Node-RED, providing a visual and intuitive way to configure integration flows for zApps traceability. Follow these steps to effectively use the Traceability Gateway:</p>
<ol>
<li>
<p><strong>Access the Node-RED Interface:</strong>
   Open a web browser and navigate to <code>http://localhost:1880</code> or the specified host and port where Node-RED is running. This grants access to the Node-RED user interface.</p>
</li>
<li>
<p><strong>Explore the Node Palette:</strong>
   On the left side of the interface, you'll find the node palette containing various nodes representing different functionalities tailored for different smart contract types.</p>
</li>
<li>
<p><strong>Drag and Drop Nodes:</strong>
   Build integration flows by dragging nodes from the palette and dropping them onto the editing area. This allows you to visually design the flow of data for traceability within the ZDZW platform.</p>
</li>
<li>
<p><strong>Interconnect Nodes:</strong>
   Connect nodes by drawing links between them to define the logical sequence of data processing. This interconnection forms the integration flow, ensuring a smooth transition of data from one node to another.</p>
</li>
<li>
<p><strong>Configure Nodes:</strong>
   Double-click on each node to configure its parameters according to your specific use case. Configure settings such as connection details, data transformations, and other parameters required for traceability.</p>
</li>
<li>
<p><strong>Deploy Integration Flows:</strong>
   Save your configured integration flows within Node-RED, and click the "Deploy" button. This action activates the changes and makes your integration flows operational, ready to handle zApps traceability data.</p>
</li>
<li>
<p><strong>Monitor Execution:</strong>
   Use the Node-RED interface to monitor the execution of integration flows. The interface provides real-time feedback on the status of nodes, ensuring transparency in the data processing pipeline.</p>
</li>
<li>
<p><strong>Troubleshoot and Debug:</strong>
   In case of issues, utilize the Node-RED interface to troubleshoot and debug integration flows. Examine logs, inspect node statuses, and make adjustments as needed to ensure smooth operation.</p>
</li>
<li>
<p><strong>Iterate and Improve:</strong>
   Continuously iterate on your integration flows based on evolving requirements. Use the flexibility of the Node-RED interface to make improvements, add new nodes, or modify existing configurations for enhanced traceability.</p>
</li>
<li>
<p><strong>Save and Export Flows (Optional):</strong>
    Save your integration flows as a project within Node-RED, allowing for easy retrieval and modification. Optionally, export flows for sharing with other developers or for backup purposes.</p>
</li>
</ol>
<p>By following these steps, you can effectively use the Traceability Gateway through Node-RED, enabling seamless integration and management of zApps traceability within the ZDZW platform. Adjust configurations as necessary to meet specific traceability requirements.</p>
<p>Although the Traceability Gateway is a backend module, it also incorporates an interface. <em>Figure 11</em> shows the user interface of the traceability Gateway. The tool provides a toolkit of nodes that can be used to integrate backend functions. Some of the nodes include MQTT clients, TCP/IP clients, HTTP clients or servers, relational and non-relational database clients, CSV file readers, etc. Through the interface, users can drag a node and drop it in the edition area, and then interconnect nodes to build the integration logic with the Blockchain traceability nodes as a flow.</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-All-Nodes.jpg" /></p>
<p><em>Figure 11. Traceability Gateway</em></p>
<p>For example, users can integrate Node-RED with the Traceability Gateway and a SQL database, enabling them to orchestrate a robust and customizable workflow for efficient management of zApp usage data within the ZDZW platform. The visual representation of the flow not only simplifies the design process but also facilitates easy monitoring and maintenance of intricate integration processes. As depicted in Figure 12, the interconnected nodes and logical sequence provide a clear overview, empowering users to visualize and optimize their data processing pipeline effortlessly.</p>
<p><img alt="traceability_gateway Img" src="../images/WP7-UT-traceability-gateway.png" /></p>
<p><em>Figure 12. Traceability Gateway</em></p>
<h2 id="5-hardware-components">5. Hardware Components</h2>
<p>This does not apply to T7.4.</p>
<h2 id="6-computation-requirements">6. Computation Requirements</h2>
<p>The minimum and recommended CPU, RAM and storage requirements are as follows.</p>
<h3 id="61-traceability-gateway">6.1. Traceability Gateway</h3>
<p>The deployment of the Traceability Gateway is containerized using Docker, providing a convenient and isolated environment for efficient execution. Below are the specific computation requirements for the Traceability Gateway within a Dockerized deployment:</p>
<ul>
<li>
<p><strong>Processor (CPU):</strong> The Traceability Gateway Docker container is optimized for containerized environments and adapts well to varying CPU resources. A quad-core or higher processor is recommended for handling increased workloads and concurrent integration flows.</p>
</li>
<li>
<p><strong>Random Access Memory (RAM):</strong> Allocate a minimum of 8GB of RAM to the Docker container hosting the Traceability Gateway.</p>
</li>
<li>
<p><strong>Storage:</strong> Docker containers benefit from efficient storage utilization. Ensure the host system provides sufficient disk space for Docker images and containers. A minimum of 20GB of available disk space is recommended to accommodate configuration files, logs, and temporary data within the Traceability Gateway container.</p>
</li>
<li>
<p><strong>Operating System Compatibility:</strong> Docker containers offer platform-agnostic deployment. The Traceability Gateway Docker image is compatible with various operating systems. Users can deploy the Docker container on Linux, Windows, or macOS systems that support Docker. Ensure that the host system has Docker installed and configured.</p>
</li>
</ul>
<p>By considering these computation requirements in a Dockerized environment, users can optimize the Traceability Gateway deployment, leveraging containerization's benefits for efficient integration and management of zApps traceability within the ZDZW platform.</p>
<h3 id="62-usage-tracking-visualization">6.2. Usage tracking Visualization</h3>
<p>The Usage Tracking Visualization is a web application that uses the Angular framework to display data and charts. It runs inside a Docker container, which makes it easy to deploy and manage. To run the Usage Tracking Visualization, a server with Docker installed will be needed, as well as hardware of at least 2 CPU cores and 4 GB of RAM for optimal performance.</p>
<h3 id="63-blockchain-platform">6.3. Blockchain Platform</h3>
<p>These computation requirements for the blockchain pertain to those needed for its deployment during the development phase of ZDZW. They do not apply to production or the computational requirements for partners using solutions created in T7.4.</p>
<p>The BAAS platform chosen is the one provided by AWS. Using AWS to deploy a Blockchain network requires combining several of its products. Therefore, it must be ensured that all of them are available in the AWS region being used. We will use Ireland, <code>eu-west-1</code>, which ensures that the data is on EU soil.</p>
<p>Thus, Amazon Managed Blockchain (AMB) has been leveraged to create a private Blockchain network based on Hyperdledger Fabric. AMB can be used to create the Hyperledger network, the members, and their peers. However, this service needs Fabric clients to interact with the network (created using the AWS service EC2), connection management and traffic control (created using the AWS VPC). An overview of the configuration is presented in <em>Figure 13</em>.</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-AWS-deployment.png" /></p>
<p><em>Figure 13. AWS Hyperledger Deployment</em></p>
<p>For this configuration to be successful, there are minimum requirements that both the peer nodes and the client fabric must meet.</p>
<ul>
<li>The Blockchain instance type of the peer node must be at least of type <code>bc.t3.small</code>.</li>
<li>
<p>The EC2 instance containing the Fabric Client must be at least of type <code>t3.medium</code> and must be given a storage capacity of at least 20 GiB. Furthermore, when configuring the EC2 instance, the Amazon Machine Image (AMI) must be chosen, which, in the case of the instance for the Fabric client, must be Amazon Linux. Moreover, among the available images, Amazon Linux 2023 AMI 2023.1.20230825.0 x86_64 HVM kernel-6.1 and 64-bit architecture have been chosen. Finally, to finish configuring the EC2 instance, it is necessary to ensure that the EC2 instance has all the necessary packages, such as Docker, Docker-compose, or Golang. The required versions of those packages are:</p>
</li>
<li>
<p>Docker17.06.2-ce or later</p>
</li>
<li>
<p>Docker-compose1.14.0 or later</p>
</li>
<li>
<p>Go1.14.x</p>
</li>
</ul>
<p><em>Note:</em> The <a href="./annex/ZDZW_AmazonManagedBlockhainDeployment_ANNEX.pdf">Deployment Annex</a> provides more information and details about the requirements.</p>
<h2 id="7-installation-procedure">7. Installation Procedure</h2>
<p>Step by step on how to install the application:</p>
<ul>
<li>Standalone</li>
<li>In the Kubernetes platform using helm charts: description of the different options</li>
</ul>
<h3 id="71-traceability-gateway">7.1. Traceability Gateway</h3>
<p>To deploy the Traceability Gateway using Docker Compose from the provided Git repository and Helm charts for Kubernetes (to be released in the future), follow these steps:</p>
<ol>
<li><strong>Clone the Git Repository:</strong></li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/zdzw-eu/traceability-gateway.git
</span></code></pre></div>
<ol>
<li><strong>Navigate to the Repository Directory:</strong></li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nb">cd</span><span class="w"> </span>traceability-gateway
</span></code></pre></div>
<ol>
<li>
<p><strong>Configure Docker Compose (Optional):</strong>
   Modify the <code>docker-compose.yml</code> file if specific configurations are required, such as adjusting ports or volumes.</p>
</li>
<li>
<p><strong>Build and Start the Docker Containers:</strong></p>
</li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
</span></code></pre></div>
<p>This command builds and starts the Traceability Gateway Docker containers in detached mode.</p>
<ol>
<li>
<p><strong>Access the User Interface:</strong>
   Open a web browser and navigate to <code>http://localhost:1880</code> to access the Node-RED user interface.</p>
</li>
<li>
<p><strong>Configure Integration Flows:</strong>
   Utilize the Node-RED interface to design and manage integration flows. Customize nodes, interconnect them, and configure each node based on your integration requirements.</p>
</li>
<li>
<p><strong>Save and Deploy Flows:</strong>
   Save your integration flows within Node-RED, and click the "Deploy" button to activate the changes. This ensures that your configured flows are ready for execution.</p>
</li>
<li>
<p><strong>Monitor Logs:</strong>
   Monitor the container logs for any potential issues or debug information. Use the following command to view logs:</p>
</li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>docker-compose<span class="w"> </span>logs<span class="w"> </span>-f
</span></code></pre></div>
<ol>
<li><strong>Shutdown the Containers:</strong>
   When needed, stop and remove the Traceability Gateway containers:</li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>docker-compose<span class="w"> </span>down
</span></code></pre></div>
<p>By following these steps with Docker Compose, you can deploy the Traceability Gateway from the specified Git repository, facilitating seamless integration and management of zApps traceability within the ZDZW platform. Adjust configurations as necessary for your specific deployment environment and requirements.</p>
<p><strong>*Note for Kubernetes Users:</strong> Helm charts for deploying the Traceability Gateway on Kubernetes are currently under development and will be released in the future. Stay tuned for updates on Helm chart availability. Adjust configurations as necessary for your specific deployment environment and requirements.*</p>
<h3 id="72-usage-tracking-visualization">7.2. Usage tracking Visualization</h3>
<p>To deploy the Tracking Web Application, a Helm chart has been configured for a simplified installation process. The Helm chart facilitates the deployment and management of the application on Kubernetes, ensuring that all necessary resources, such as services, pods, and ingress configurations, are correctly set up. Once the Helm chart is applied, the application will be accessible, allowing users to securely track their smart contract usage.</p>
<h3 id="73-blockchain-platform">7.3. Blockchain Platform</h3>
<p>This installation procedure for the blockchain pertains to that needed for its deployment during the development phase of ZDZW. It does not apply to production or any installation required for partners using solutions created in T7.4.</p>
<p>Once the minimum configuration explained in section 6.3 has been set up, connections to the Blockchain network can be established. For the first connection, the following are required:</p>
<ul>
<li>A Blockchain network.</li>
<li>A channel within this network.</li>
<li>An EC2 instance.</li>
<li>The security zones explained in section 6.1 to be correctly configured.</li>
</ul>
<p>For a successful first connection from a local computer, it is necessary to have:</p>
<ul>
<li>The private key used during the creation of the VPCs.</li>
<li>The public IP of the computer from which we are connecting.</li>
<li>The public DNS of the instance.</li>
</ul>
<p>To control incoming traffic to the EC2 instance, the public IP of the local machine will be permitted to connect to the VPC. Once permissions are granted, using SSH and the public DNS of the instance, it is possible to connect to the instance remotely.</p>
<p>Once on the instance, make sure the Docker container containing the fabric client is running:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>docker-compose<span class="w"> </span>-f<span class="w"> </span>docker-compose-cli.yaml<span class="w"> </span>up<span class="w"> </span>-d
</span></code></pre></div>
<p>Once the fabric client is up, packages can be installed and uninstalled in the instance like in a regular Ubuntu machine. As far as the installation and deployment of Smart contracts are concerned, this is done via dockerized .go scripts. A detailed explanation can be found in the <a href="https://github.com/zdzw-eu/UsageTraceability/blob/main/docs/annex/ZDZW_AmazonManagedBlockhainDeployment_ANNEX.pdf">Annex</a>.</p>
<h2 id="8-how-to-use">8. How To Use</h2>
<h3 id="81-traceability-gateway">8.1. Traceability Gateway</h3>
<p>Traceability Gateway Project is used to demonstrate the integration of different systems in a single gateway. It enables the use of different data protocols, databases and technologies together under the same framework.</p>
<p>The integration architecture is depicted in <em>Figure 14</em> for the solution provider partners. It shows the different data pipeline possibilities that enable seamless integration with each zApp solution by considering their working technology and provide connection to the existing Blockchain technology deployed for traceability purposes.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_14.png" /></p>
<p><em>Figure 14. Keycloack API Keys</em></p>
<h4 id="811-keycloack-authentication-nodes">8.1.1 Keycloack Authentication Nodes</h4>
<p>Before using the Traceability Gateway, the Keycloak authentication flow must be run first.
This flow will enable developers to authenticate their organization for future Smart Contract usage, installation and Blockchain use.</p>
<p>To properly configure this flow, the user must first:</p>
<ul>
<li>
<p>Access the Web Portal and Log In or Create an Account if you don't have any: <a href="https://portal-frontend-zdzw.cloud.zdzw-project.com">https://portal-frontend-zdzw.cloud.zdzw-project.com</a></p>
</li>
<li>
<p>Once successfully logged in, access the dashboard and click the developer tab on the bottom left part of the screen.
  The following API keys are used to validate your profile in the Node-RED microservice in order to enable access to the Blockchain traceability functions.</p>
</li>
</ul>
<p><img alt="Traceability Gateway" src="../images/Figure_15.png" /></p>
<p><em>Figure 15. Keycloack API Keys</em></p>
<p>Once we have our API Key values, the authentication flow in Node-RED needs to be configured. This flow will enable access to the token variable globally.
For that purpose, our flow will make the request via HTTP and store the variable as <code>global.token</code></p>
<p><img alt="Traceability Gateway" src="../images/Figure_16.png" /></p>
<p><em>Figure 16. Keycloack Node-RED Authentication Flow</em></p>
<p>The HTTP request needs to be done with the following configuration:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>URL:<span class="w"> </span>https://portal-api-zdzw.cloud.zdzw-project.com/developer/token
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>org-name:<span class="w"> </span><span class="s1">&#39;Prueba&#39;</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>x-api-key:<span class="w"> </span><span class="s1">&#39;143883a3ec5b269cece6bc3672e202c9a3f55a213095ef8ce2b6b193751af05d&#39;</span>
</span></code></pre></div>
<p>Note: <code>org-name</code> and <code>x-api-key</code> are values provided for each organization successfully registered (as in Figure 17)</p>
<p><img alt="Traceability Gateway" src="../images/Figure_17.png" /></p>
<p><em>Figure 17. Keycloack HTTP Request</em></p>
<p>Once the HTTP request is configured, the <code>msg.payload</code>, which acts as the token variable, needs to be assigned, saved and stored as <code>global.token</code>.
This makes the variable fully accessible in the Node-RED microservice.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_18.png" /></p>
<p><em>Figure 18. Keycloack 'set.global.token' configuration</em></p>
<p>For recurrent use, the variable can be easily accessed by using the 'Read Token Global' node. This node will provide the global variable as a <code>msg.payload</code>.
Users can confirm that the token is successfully stored and accessed using the proposed flow.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_19.png" /></p>
<p><em>Figure 19. Keycloack 'Read Token Global' configuration</em></p>
<p>That's it, your microservice is now properly configured and linked to your organization.</p>
<h3 id="82-blockchain-nodes">8.2. Blockchain Nodes</h3>
<p>Custom Blockchain nodes have been prepared based on ZDZW zApp and Marketplace. These nodes will enable ZDZW zApps to communicate with Smartcontracts and Blockchain service providers.
For that purpose, a series of nodes have been created to communicate with the Blockchain. Based on this premise, the nodes have been created according to the parameters described in the Blockchain Platform description in Section 8.1. All Blockchain nodes are already generated and installed by default in the Node-RED microservice. The nodes can be seen on the left side of the menu in <em>Figure 20</em> and <em>Figure 21</em>, and the return information is visualized in the debug right part of the screen in <em>Figure 20</em> and <em>Figure 21</em>, providing a success message when the request has been performed correctly.</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-Blockchain-Nodes.jpg" /></p>
<p><em>Figure 20. Blockchain Nodes Pipeline and Node RED UI</em></p>
<p>It must be noted that two types of nodes (GET for reading and INVOKE for writing) are included in this microservice:</p>
<ul>
<li><strong>GET Nodes:</strong> These nodes allow reading operations on the Blockchain provider to obtain information from specific Smart Contracts (<em>Figure 22</em>) or zApps (<em>Figure 23</em>)</li>
</ul>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-GET-SC-Nodes.jpg" /></p>
<p><em>Figure 21. Smart Contract Blockchain Nodes</em></p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-GET-zApp-Nodes.jpg" /></p>
<p><em>Figure 22. zApp Blockchain Nodes</em></p>
<p>Depending on the GET Smart Contract node selected certain Input Data (<em>Figure 23 and Figure 24</em>) will be required (<code>SmartContract ID</code>, <code>User ID</code>, <code>Machine ID</code>...).
This information is readily available in the smart contract once the purchase has been executed from ZDZW Marketplace.</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-GET-SC-Nodes-Input-SC-ID.jpg" /></p>
<p><em>Figure 23. Smart Contract ID Input Data</em></p>
<p><img alt="Traceability Gateway" src="../images/Figure_24.png" /></p>
<p><em>Figure 24. User ID Input Data</em></p>
<p>It works similarly when reading zApp Blockchain information. Input Data will be needed in order to receive a true response from our nodes (<em>Figure 25</em>)</p>
<p><img alt="Traceability Gateway" src="../images/Figure_25.png" /></p>
<p><em>Figure 25. zApp Input Data</em></p>
<ul>
<li><strong>INVOKE Nodes:</strong> These nodes allow writing operations on the Blockchain provider to update, set or create new data related to specific Smart Contracts or zApps.</li>
</ul>
<p>When using nodes for creating new Smart-Contracts the node can be used as seen in <em>Figure 26</em>:</p>
<p><img alt="Traceability Gateway" src="../images/Figure_26.png" /></p>
<p><em>Figure 26. Smart Contract Creation</em></p>
<p>Note that the Input Value <code>Functionalities</code> must be provided when creating a new Pay Per Use (PPU) Smart Contract, and the Input Value <code>Days</code> must be provided when creating a new Pay Per Period (PPP) Smart Contract:</p>
<ul>
<li><code>Invoke Init</code> Node is typically used when needing to INSTALL a zApp on a custom-name industrial equipment.</li>
<li><code>Invoke Info</code> Node is used to register/update uses of certain custom-name equipment in the Blockchain.</li>
</ul>
<p>When the Input information required (<em>Figure 27</em>,<em>Figure 28</em> ) is correct, <code>true</code> data response for usage registration or <code>initTrue</code> when initializing the app will be shown as in <em>Figure 29</em>.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_27.png" /></p>
<p><em>Figure 27. zApp Invoke Input Data (1)</em></p>
<p><img alt="Traceability Gateway" src="../images/Figure_28.png" /></p>
<p><em>Figure 28. zApp Invoke Input Data (2)</em></p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-INV-zApp-Nodes.jpg" /></p>
<p><em>Figure 29. zApp Invoke Nodes</em></p>
<h4 id="821-blockchain-pay-per-volume-ppv-example">8.2.1 Blockchain Pay Per Volume (PPV) Example</h4>
<p>This section describes the Node-RED flow and Gateway Nodes for managing the Pay Per Volume (PPV) use case when using Blockchain-based smart contracts.</p>
<p>If the Smart Contract is CLOUD based, it does NOT need to be initialized/installed on factory equipment.
The GetUserInfo and GetAllInfo nodes will provide this information so:</p>
<ul>
<li>MachineID: <code>unknow</code>, needs to be initialized on industrial equipment by providing a MachineID (i.e. Custom_Inspection_Equipment)
  [Include an image with the result]</li>
<li>MachineID: <code>cloud</code>, it is ready to be used.
  [Include an image with the result]</li>
</ul>
<p>The following flow examples include retrieving information about the current state of a purchased Smart Contract, installing a Smart Contract on a specific machine and registering uses associated with the Smart Contract in the Blockchain. The flow structure is divided into three main sections:</p>
<ol>
<li>Retrieving Smart Contract State Information</li>
<li>Initializing and Installing a zApp Smart Contract on a factory Machine</li>
<li>Registering Uses on the PPV Smart Contract</li>
</ol>
<p><img alt="Traceability Gateway" src="../images/WP7-Blockchain-Pay-Per_volume.png" /></p>
<p><em>Figure 30. Pay Per Volume Example</em></p>
<p><strong>1. Retrieving Smart Contract State Information</strong></p>
<p>This section contains nodes that retrieve user information and smart contract details, allowing for a comprehensive view of the current contract state. Nodes Involved:</p>
<ul>
<li><strong>Get User Info:</strong> Retrieves the user information associated with the contract.</li>
<li><strong>Get All Info:</strong> Gathers all relevant data related to the smart contract.</li>
<li><strong>Get Init Info:</strong> Provides the initial information for the contract.</li>
</ul>
<p>Flow Execution for this operation:</p>
<ul>
<li>Each node is triggered by a timestamp node to manually start the process and obtain information regarding the subcontract.</li>
<li>This flow will provide the main information, whther it is already installed and the usage it has been subject to.</li>
</ul>
<p><img alt="Traceability Gateway" src="../images/WP7-Blockchain-Pay-Per_volume_SC_information.png" /></p>
<p><em>Figure 31. Pay Per Volume zApp Usage Registration</em></p>
<p><strong>2. Initializing and Installing a zApp on a Machine</strong></p>
<p>This section configures and installs a zApp on a designated machine by associating it with a unique Machine ID on the smart contract. Nodes Involved:</p>
<ul>
<li><strong>Get User Info:</strong> Retrieves the necessary user information for installing the zApp.</li>
<li><strong>Invoke Init:</strong> Initializes the zApp Smart Contract installation on the machine.</li>
</ul>
<p>Flow Execution for this operation:</p>
<ul>
<li>The zApp initialization on the machine completes by registering the Machine ID with the smart contract ID.</li>
</ul>
<p><img alt="Traceability Gateway" src="../images/WP7-Blockchain-Pay-Per_volume_Installation.png" /></p>
<p><em>Figure 32. Pay Per Volume zApp Installation on Machine</em></p>
<p><strong>3. Registering Usage on the Pay Per Volume Smart Contract</strong></p>
<p>This section registers each usage instance of the zApp on the Blockchain under the Pay Per Volume model. Nodes Involved:</p>
<ul>
<li><strong>Invoke Info:</strong> Invokes information regarding registered usage on the Blockchain.</li>
</ul>
<p>Flow Execution for this operation:</p>
<ul>
<li>Both Invoke Info are activated through a timestamp node (could be activated by an inspection result, material consumption or length run).</li>
<li>The output is sent to notification nodes (Discount Uses and Init Message) to confirm successful registration on the Blockchain.</li>
</ul>
<p><img alt="Traceability Gateway" src="../images/WP7-Blockchain-Pay-Per_volume_RegisterUSes.png" /></p>
<p><em>Figure 33. Pay Per Volume zApp Usage Registration</em></p>
<h4 id="822-blockchain-pay-per-use-ppu">8.2.2 Blockchain Pay Per Use (PPU)</h4>
<p>This section describes the Node-RED flow and Gateway Nodes for managing the Pay Per Use (PPU) use case when using Blockchain-based smart contracts.</p>
<ul>
<li>The first Block provides general information regarding a Smart Contract, such as Functionalities available, initialization information and usage registration.</li>
<li>Second block provides information regarding the zApp Smart Contract installation on industrial equipment.</li>
<li>Third block is an example of the Usage registration for a certain functionality.</li>
</ul>
<p><img alt="Traceability Gateway" src="../images/Figure_34.png" /></p>
<p><em>Figure 34. Pay Per Use Example</em></p>
<p>Due to the nature of Pay Per Use, the Functionality of the usage must be provided for adequate billing. The functionality is defined on the Smart Contract; when using the <code>GetInitInfo</code> Node, the user will obtain information regarding acceptable uses for traceability purposes. As can be seen in Figure 35, the functionalities accepted by this Smart Contract are 'ANALYSIS', 'PREDICTION' and 'MODEL'.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_35.png" /></p>
<p><em>Figure 35. Pay Per Use (PPU) Functionalities Available</em></p>
<p><code>Invoke Init</code> node is used for zApp initialization. They need the arguments <code>SmartContract ID</code>, <code>MachineID</code> (i.e. Custom Industrial equipment name) and <code>InitTime</code> (in UTC format).</p>
<p>Figure 36. Smart Contract Example 'HSO_Aero_VisualAnalysis_v0.2_ppu_2' is installed in the 'Custom_MachineName_4' equipment:</p>
<p><img alt="Traceability Gateway" src="../images/Figure_36.png" /></p>
<p><em>Figure 36. Pay Per Use (PPU) zApp Initialization on a Machine</em></p>
<p><code>Invoke Info</code> nodes for zApp usage registration need the arguments <code>SmartContract ID</code>, <code>Uses Count</code>, <code>InitTime</code> (in UTC format), and <code>FunctionalityName</code> to be included.
In the previous example, the Smart Contract functionalities are 'ANALYSIS', 'PREDICTION' and 'MODEL'. An 'ANALYSIS' use is registered in the Smart Contract as can be seen in Figure 37.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_37.png" /></p>
<p><em>Figure 37. Pay Per Use (PPU) zApp Invoke Init Node Usage</em></p>
<p>When the Invoke function has been successfully deployed, a confirmation <code>true</code> message will be received by the user.
This payload confirms that the Blockchain insertion has been performed correctly as can be seen in Figure 38.</p>
<p><img alt="Traceability Gateway" src="../images/Figure10_7_success_BC_INSERTION.png" /></p>
<p><em>Figure 38. Pay Per Use (PPU) zApp Invoke Info Node Usage</em></p>
<p>Note: In case the Smart Contract is CLOUD based, it does NOT need to be initialized/installed on factory equipment.</p>
<p>The following flow examples include simple operations such as:</p>
<ol>
<li>Retrieving information about the current state of a purchased Smart Contract.</li>
<li>Installation of a Smart Contract on a specific machine.</li>
<li>Blockchain use registration associated with the PPU Smart Contract.</li>
</ol>
<p><strong>1. Retrieving information about the current state of a purchased Smart Contract.</strong></p>
<p>For retrieveing information about a PPU Smart Contract, the <code>GetInit</code> Node is used. Note that <code>GetAllInfo</code> and <code>GetUserInfo</code> Nodes are NOT available for this PPU use-case.
For Usage monitoring, there are specific nodes: <code>Get All Info Functionality</code> and <code>Get Period Functionality</code>.</p>
<p>The first one, <code>Get All Info Functionality</code>, provides all the historical data of a Smart Contract Usage registration for a certain Functionality and a certain period of time.
As can be seen in the flow below, the historical data regarding the 'ANALYSIS' functionality is provided (Figure 39.)</p>
<p><img alt="Traceability Gateway" src="../images/Figure_39.png" /></p>
<p><em>Figure 39. Pay Per Use (PPU) zApp Get All Info Functionality Node Usage</em></p>
<p>The second node, <code>Get Period Functionality</code>, provides only the last USE information regarding a certain functionality and for a certain period of time.
In Figure 40. can be seen the Input data required and the output message with the information regarding the ANALYSIS functionality.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_40.png" /></p>
<p><em>Figure 40. Pay Per Use (PPU) zApp Get Period Functionality Node Usage</em></p>
<p>Both of these Nodes <code>Get All Info Functionality</code> and <code>Get Period Functionality</code> provide the information based on the functionality type.
For instance, considering the previously used Smart Contract, historical data for the 'ANALYSIS', 'PREDICTION' or 'MODEL' can be provided as can be seen in Figure 41.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_41.png" /></p>
<p><em>Figure 41. Pay Per Use (PPU) zApp Functionality Uses</em></p>
<p>The <code>GetInit</code> Node should provide a message with the initialization information that specifies the installation (or purchase date if not installed yet) of a Smart Contract, as shown in Figure 42.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_42.png" /></p>
<p><em>Figure 42. Pay Per Use (PPU) zApp Get Init Node Usage</em></p>
<p>In case the Smart Contract is not installed yet, and the user is trying to access it, the following error is returned as in Figure 43.
This error <code>app is not installed yet</code> indicates that the SmartContract needs to be installed on a MachineID in order to start using it according to the flow in section 2 below.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_43.png" /></p>
<p><em>Figure 43. Pay Per Use (PPU) zApp Init Error</em></p>
<p><strong>2. Installation of a Smart Contract on a specific machine</strong></p>
<p>By using the <code>Invoke Init</code> Node and passing the arguments <code>SmartContract ID</code> and <code>MachineID</code> (i.e. Custom_MachineName_4) the Smart Contract is initialized in the equipment (Figure 44.)</p>
<p><img alt="Traceability Gateway" src="../images/Figure_44.png" /></p>
<p><em>Figure 44. Pay Per Use (PPU) zApp Init Parameters</em></p>
<p>When the SC is successfully initialized, a confirmation message is returned <code>initTrue</code> (Figure 45.)</p>
<p><img alt="Traceability Gateway" src="../images/Figure_45.png" /></p>
<p><em>Figure 45. Pay Per Use (PPU) zApp Init Confirmation message</em></p>
<p>Our SC is ready to be used in the 'Custom_MachineName_4'. For confirmation, please check with the <code>GetInit</code> Node the SC status.
Both activation date and functionalities are returned.
In the example below the Pay Per Use (PPU) functionality alternatives available are: 'ANALYSIS', 'PREDICTION' and 'MODEL' and the <code>Operation</code> field is confirmed as <code>Installation</code> on the <code>MachineID</code> selected (Figure 46.).</p>
<p><img alt="Traceability Gateway" src="../images/Figure_46.png" /></p>
<p><em>Figure 46. Pay Per Use (PPU) zApp Installation Confirmation</em></p>
<p><strong>3. Blockchain use registration associated with the PPU Smart Contract .</strong></p>
<p>In order to use the Pay Per Use (PPU) Smart Contract, the functionality field must be provided. For a certain use registration, the node Invoke Info is used.</p>
<p>Considering the previous example, the functionality to be provided will be one of the fields mentioned: 'ANALYSIS', 'PREDICTION' or 'MODEL'.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_47.png" /></p>
<p><em>Figure 47. Pay Per Use (PPU) zApp Functionality Parameters</em></p>
<p>In case the User Registration has been successfully integrated into the Blockchain registry, the following confirmation message will appear.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_48.png" /></p>
<p><em>Figure 48. Pay Per Use (PPU) zApp Use Registration Confirmation</em></p>
<p>In case the functionality provided is not available/wrong for the purchased SC, the component will provide the following error message:</p>
<p><img alt="Traceability Gateway" src="../images/Figure_49.png" /></p>
<p><em>Figure 49. Pay Per Use (PPU) zApp Use Registration Error</em></p>
<h4 id="823-blockchain-pay-per-period-ppp">8.2.3 Blockchain Pay Per Period (PPP)</h4>
<p>This section describes the Node-RED flow and Gateway Nodes for managing the Pay Per Period (PPP) use case when using Blockchain-based smart contracts.</p>
<ul>
<li>These contracts provide unlimited usage of a certain zApp for a limited amount of time that is expressed in days.</li>
<li>
<p>The number of Uses registered is accumulated per each iteration with the SC and registered in the variable 'AccumUses'.</p>
</li>
<li>
<p>The first Block provides general information regarding a Smart Contract, such as Functionalities available, initialization information and usage registration.</p>
</li>
<li>Second block provides information regarding the zApp Smart Contract installation and usage on industrial equipment.</li>
</ul>
<p><img alt="Traceability Gateway" src="../images/Figure_50.png" /></p>
<p><em>Figure 50. Pay Per Period (PPP) zApp Basic Blocks</em></p>
<h5 id="8231-cloud-zapp-pay-per-period-ppp">8.2.3.1 Cloud zApp Pay Per Period (PPP)</h5>
<p>In case the Smart Contract is CLOUD based, it does NOT need to be initialized/installed on factory equipment.
The <code>GetAllInfo</code> node will provide all the SC information:</p>
<ul>
<li>MachineID: <code>cloud</code>, it is ready to be used.</li>
</ul>
<p>The <code>GetInitInfo</code> node will send an error indicating it cannot be installed due to its CLOUD nature.
<img alt="Traceability Gateway" src="../images/Figure_51.png" /></p>
<p><em>Figure 51. Pay Per Period (PPP) CLOUD zApp response</em></p>
<ul>
<li>MachineID: <code>cloud</code>, it is ready to be used.</li>
</ul>
<h5 id="8232-onprem-zapp-pay-per-period-ppp">8.2.3.2 Onprem zApp Pay Per Period (PPP)</h5>
<p>In case the Smart Contract is deployed as ONPREM, it does NEED to be initialized/installed on factory equipment.</p>
<p>The <code>GetAllInfo</code> node will provide all the SC information:</p>
<ul>
<li>MachineID: <code>unknow</code>, needs to be initialized on industrial equipment by providing a <code>MachineID</code> (i.e. Custom_Inspection_Equipment)</li>
</ul>
<p>The <code>GetInitInfo</code> node will send an error indicating it cannot be installed due to its ONPREM nature.
An error indicating that the equipment needs to be initialized is returned by GetInitInfo node.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_52.png" /></p>
<p><em>Figure 52. Pay Per Period (PPP) ONPREM zApp response</em></p>
<p>To avoid this error, user must INSTALL the Smart Contract to a factory equipment by assigning a Machine ID to it as shown in <em>Figure: 53:</em></p>
<p><img alt="Traceability Gateway" src="../images/Figure_53.png" /></p>
<p><em>Figure 53. Pay Per Period (PPP) ONPREM zApp Machine Installation</em></p>
<p>After the SC has been successfully installed on the Device (i.e.: MIROCT_3D) a initTrue message shsould appear as shown in <em>Figure: 54</em></p>
<p><img alt="Traceability Gateway" src="../images/Figure_54.png" /></p>
<p><em>Figure 54. Pay Per Period (PPP) Success Initialization Message</em></p>
<p>Now the <code>GetInitInfo</code> node will provide the information regarding the installation as shown on <em>Figure: 55</em>
This information contains details about the installation date as well as the Machine ID to which the SC has been installed.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_55.png" /></p>
<p><em>Figure 55. Pay Per Period (PPP) Get Init Info Message</em></p>
<p>Now our Smart Contract is ready to be used and to track some usage.
When user invokes the <code>InvokeInfo</code> node, data is saved in the Blockchain and a 'true' message as shown in <em>Figure 56</em> will be shown.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_56.png" /></p>
<p><em>Figure 56. Pay Per Period (PPP) Sucess Usage Message</em></p>
<p>NOTE: When the period has expried, the <code>InvokeInfo</code> node porvidesthe folowing message indicating that the data has been stored but the contract is no longer active as can be seen in <em>Figure 57</em>.</p>
<p><img alt="Traceability Gateway" src="../images/Figure_57.png" /></p>
<p><em>Figure 57. Pay Per Period (PPP) Expired SC Usage Message</em></p>
<h3 id="83-traceability-gateway-use-case-nodes">8.3. Traceability Gateway Use Case Nodes</h3>
<p>In the ZDZW project, there are several zApps that encompass different data communication and connection methods, including TCP/IP, MQTT, OPC-UA, and custom-based APIs.
Also, the data storage is different according to the selected solution and use-case application, including relational and non-relational databases that are located locally or in the cloud.
Several ZDZW zApp use cases are presented to developers to clarify and enlighten the potential Node-RED can have on data management.</p>
<h4 id="831-av-ai-based-qc-zapp">8.3.1 AV AI-based QC zApp</h4>
<p>In the ZDZW framework of action our Artificial Vision Artificial Intelligence Quality Control is based upon custom computer vision models that are easily deployed in industrial facilities.
This zApp tool will help to tailor-made vision algorithms for custom inspection services. By implementing this zApp, Users will gain control to customize state-of-the-art models that will ease and optimize the inspection process during QA/QC procedures.</p>
<p>For that purpose, the AV AI-based QC zApp solution relies on image inference for anomaly detection.
Batch images are sent to the zApp for anomaly detection, the inference result is saved in a non-realtional database which is MongoDB that is located locally or in the cloud. This data is typically saved in JSON format:</p>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="p">{</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="nt">&quot;$oid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;665f2a5da771ee83d31a96ee&quot;</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">  </span><span class="nt">&quot;_cls&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;InferenceDocument.InferenceDetectionDocument&quot;</span><span class="p">,</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Inference 2024-06-04&quot;</span><span class="p">,</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">  </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">    </span><span class="nt">&quot;$date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-06-04T14:53:17.441Z&quot;</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="w">  </span><span class="nt">&quot;modified&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="w">    </span><span class="nt">&quot;$date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-06-04T14:51:03.205Z&quot;</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="w">  </span><span class="nt">&quot;company&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VSYS&quot;</span><span class="p">,</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="w">  </span><span class="nt">&quot;user&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mdelpin&quot;</span><span class="p">,</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="w">  </span><span class="nt">&quot;training&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="w">    </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;COMPLETED&quot;</span><span class="p">,</span>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="w">    </span><span class="nt">&quot;metrics&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="w">      </span><span class="nt">&quot;total_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">87.80523338720177</span><span class="p">,</span>
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="w">      </span><span class="nt">&quot;avg_preprocess_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.101826365625368</span><span class="p">,</span>
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="w">      </span><span class="nt">&quot;avg_inference_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">32.55792443797048</span><span class="p">,</span>
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a><span class="w">      </span><span class="nt">&quot;avg_postprocess_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.41774154704422317</span><span class="p">,</span>
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a><span class="w">      </span><span class="nt">&quot;avg_img_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">33.30982760065764</span>
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a><span class="w">  </span><span class="nt">&quot;images&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-7-27"><a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-7-28"><a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a><span class="w">      </span><span class="nt">&quot;_cls&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;InferenceDetectionImageDocument&quot;</span><span class="p">,</span>
</span><span id="__span-7-29"><a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a><span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;167612_3754_20240105_223025_028.jpg&quot;</span><span class="p">,</span>
</span><span id="__span-7-30"><a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a><span class="w">      </span><span class="nt">&quot;processed&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-7-31"><a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a><span class="w">      </span><span class="nt">&quot;results&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-7-32"><a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-7-33"><a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a><span class="w">          </span><span class="nt">&quot;class_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-7-34"><a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a><span class="w">          </span><span class="nt">&quot;confidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6938128689144347</span><span class="p">,</span>
</span><span id="__span-7-35"><a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a><span class="w">          </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4442461876577044</span><span class="p">,</span>
</span><span id="__span-7-36"><a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a><span class="w">          </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.170319901118551</span><span class="p">,</span>
</span><span id="__span-7-37"><a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a><span class="w">          </span><span class="nt">&quot;w&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7542081040197404</span><span class="p">,</span>
</span><span id="__span-7-38"><a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a><span class="w">          </span><span class="nt">&quot;h&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7598171420591529</span>
</span><span id="__span-7-39"><a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-7-40"><a id="__codelineno-7-40" name="__codelineno-7-40" href="#__codelineno-7-40"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-7-41"><a id="__codelineno-7-41" name="__codelineno-7-41" href="#__codelineno-7-41"></a><span class="w">          </span><span class="nt">&quot;class_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-7-42"><a id="__codelineno-7-42" name="__codelineno-7-42" href="#__codelineno-7-42"></a><span class="w">          </span><span class="nt">&quot;confidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9486363012441077</span><span class="p">,</span>
</span><span id="__span-7-43"><a id="__codelineno-7-43" name="__codelineno-7-43" href="#__codelineno-7-43"></a><span class="w">          </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.10568511120992286</span><span class="p">,</span>
</span><span id="__span-7-44"><a id="__codelineno-7-44" name="__codelineno-7-44" href="#__codelineno-7-44"></a><span class="w">          </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1907250650376784</span><span class="p">,</span>
</span><span id="__span-7-45"><a id="__codelineno-7-45" name="__codelineno-7-45" href="#__codelineno-7-45"></a><span class="w">          </span><span class="nt">&quot;w&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1497690740691806</span><span class="p">,</span>
</span><span id="__span-7-46"><a id="__codelineno-7-46" name="__codelineno-7-46" href="#__codelineno-7-46"></a><span class="w">          </span><span class="nt">&quot;h&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.791912658254414</span>
</span><span id="__span-7-47"><a id="__codelineno-7-47" name="__codelineno-7-47" href="#__codelineno-7-47"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-7-48"><a id="__codelineno-7-48" name="__codelineno-7-48" href="#__codelineno-7-48"></a><span class="w">      </span><span class="p">]</span>
</span><span id="__span-7-49"><a id="__codelineno-7-49" name="__codelineno-7-49" href="#__codelineno-7-49"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-7-50"><a id="__codelineno-7-50" name="__codelineno-7-50" href="#__codelineno-7-50"></a><span class="w">  </span><span class="p">],</span>
</span><span id="__span-7-51"><a id="__codelineno-7-51" name="__codelineno-7-51" href="#__codelineno-7-51"></a><span class="w">  </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-52"><a id="__codelineno-7-52" name="__codelineno-7-52" href="#__codelineno-7-52"></a><span class="w">    </span><span class="nt">&quot;_cls&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;InferenceDetectionParametersDocument&quot;</span><span class="p">,</span>
</span><span id="__span-7-53"><a id="__codelineno-7-53" name="__codelineno-7-53" href="#__codelineno-7-53"></a><span class="w">    </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;best&quot;</span><span class="p">,</span>
</span><span id="__span-7-54"><a id="__codelineno-7-54" name="__codelineno-7-54" href="#__codelineno-7-54"></a><span class="w">    </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">640</span><span class="p">,</span>
</span><span id="__span-7-55"><a id="__codelineno-7-55" name="__codelineno-7-55" href="#__codelineno-7-55"></a><span class="w">    </span><span class="nt">&quot;max_detections&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-7-56"><a id="__codelineno-7-56" name="__codelineno-7-56" href="#__codelineno-7-56"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-7-57"><a id="__codelineno-7-57" name="__codelineno-7-57" href="#__codelineno-7-57"></a><span class="w">  </span><span class="nt">&quot;results_meta&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-58"><a id="__codelineno-7-58" name="__codelineno-7-58" href="#__codelineno-7-58"></a><span class="w">    </span><span class="nt">&quot;class_names&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-7-59"><a id="__codelineno-7-59" name="__codelineno-7-59" href="#__codelineno-7-59"></a><span class="w">      </span><span class="s2">&quot;Hole&quot;</span><span class="p">,</span>
</span><span id="__span-7-60"><a id="__codelineno-7-60" name="__codelineno-7-60" href="#__codelineno-7-60"></a><span class="w">      </span><span class="s2">&quot;Septum&quot;</span>
</span><span id="__span-7-61"><a id="__codelineno-7-61" name="__codelineno-7-61" href="#__codelineno-7-61"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-7-62"><a id="__codelineno-7-62" name="__codelineno-7-62" href="#__codelineno-7-62"></a><span class="w">    </span><span class="nt">&quot;class_colours&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-7-63"><a id="__codelineno-7-63" name="__codelineno-7-63" href="#__codelineno-7-63"></a><span class="w">      </span><span class="s2">&quot;#f4cd92&quot;</span><span class="p">,</span>
</span><span id="__span-7-64"><a id="__codelineno-7-64" name="__codelineno-7-64" href="#__codelineno-7-64"></a><span class="w">      </span><span class="s2">&quot;#61b4d8&quot;</span>
</span><span id="__span-7-65"><a id="__codelineno-7-65" name="__codelineno-7-65" href="#__codelineno-7-65"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-7-66"><a id="__codelineno-7-66" name="__codelineno-7-66" href="#__codelineno-7-66"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-7-67"><a id="__codelineno-7-67" name="__codelineno-7-67" href="#__codelineno-7-67"></a><span class="p">}</span>
</span></code></pre></div>
<p>Our Node-RED microservice allows developers to easily connect to the local/cloud non-relational database to store the inference result of the images.
For that purpose, the Node-RED microservice contains MongoDB nodes that can be configured in each scenario for a seamless connection.
To enable the connection on this node for data insertion, it must be configured according to <em>Figure 41. and Figure 42</em>.</p>
<p>In <em>Figure 41</em>, the connection string to the database must be specified, the mode or operation type (collection or database operation), the collection or database name upon which this operation will be performed, and the operation to be performed in the pipeline. The example provided specifies the inference of an on-poem device performing inferences on an industrial scenario. The <code>insertOne</code> operation has been selected as an example for that purpose.</p>
<p>Common collection operations are <code>find</code>, <code>findOne</code>, <code>insertOne</code>, <code>insertMany</code>, <code>updateOne</code>, <code>updateMany</code>, <code>deleteOne</code>, <code>deleteMany</code>, <code>aggregate</code> and <a href="https://flows.nodered.org/node/node-red-contrib-mongodb4">more</a>.</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-VSYS-Mongo-Node.jpg" /></p>
<p><em>Figure 50. MongoDB Node Camera Inference Connection</em></p>
<p>Our <em>Figure 50</em> shows advanced options in the MongoDB node. These options relate to the user management on the local/cloud database and help provide limited Read/Write access to certain users when developing new pipelines in the Node-RED microservice.</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-VSYS-Mongo-Node-Configuration.jpg" /></p>
<p><em>Figure 51. MongoDB Node Input Data</em></p>
<p>Once our Camera Inference Pipeline is ready, our zApp application will allow us to save/read/write data in our local/cloud non-relational database.
If the camera communication protocol changes from default, the pipeline can be easily updated by importing any widely used protocol nodes (TCP/IP, OPC-UA or MQTT) to the flow.</p>
<p>When the database connection is set, and the equipment is connected, it is time to implement and deploy the Blockchain nodes that provide traceability to the process.
For that purpose, the proposed pipeline will provide robustness mechanisms against data corruption. The pipeline shown in <em>Figure 43</em> provides a mechanism that checks whether new data have been inserted into the non-relational database (new uses or inspections have taken place); in case new uses are registered, the Blockchain is updated with the date, time and number of uses are discounted from the total. This tool can help to provide robustness in inspection operations when no internet connection (or connection is lost) with the inspection equipment.</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-VSYS-Blockchain.jpg" /></p>
<p><em>Figure 52. MongoDB and Blockchain robustness mechanism</em></p>
<p><em>Figure 53</em> and <em>Figure 54</em> show both scenarios in the pipeline, scenarios in which new uses are detected and inserted in the Blockchain and when NO new uses are detected by the pipeline, respectively.
Considering this pipeline, both INVOKE (writing) and GET (read) Blockchain nodes are included in the pipeline. The pipeline can be set to be run periodically, providing custom needs in terms of Blockchain traceability.</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-VSYS-Blockchain_New_uses.jpg" /></p>
<p><em>Figure 53. New Uses detected</em></p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-VSYS-Blockchain_No_new_uses.jpg" /></p>
<p><em>Figure 54. No New Uses detected</em></p>
<p>The pipeline shown above is only an example of the mechanisms that can be easily integrated into our AV AI-based QC zApp.
This tool can help developers to gain valuable insights, develop new robustness pipelines and ensure Blockchain traceability integration with the specific zApp connection methods.</p>
<h5 id="8311-welding-inspector-zapp">8.3.1.1 Welding Inspector zApp</h5>
<p>The Welding Inspector zApp relies on the information provided by the Electro-Magnetic Acoustic Transducer (E-MAT) equipment. Our Node-RED microservice comes preconfigured to enable communication with the equipment according to the protocols defined by Innserpec.</p>
<p>There are two main modes in which the equipment communication with the microservice can be carried out which are via TCP/IP protocol and through the custom API provided by Innerspec. Both methods are already preconfigured in our Node-RED microservice with the port configuration (for TCP/IP protocol) and API calls (for the custom API) according to Innerspec documentation.</p>
<ul>
<li>TCP/IP: The communication relies on the client/server configuration depending on the Inspection mode selected.
  All the ports can be customized to be in the range of 1000 to 65535 (expect ports 3000, 4000, 7001, 8000, 9000 and 9001).</li>
</ul>
<p>There are three (3) modes by default on the E-MAT equipment. Test mode (testing purposes) is by default on port 5000, Scan mode (calibration purposes) in port 2000 and Inspection mode (pay per use mode) in port 1000. The connection with these ports on the local host can be achieved as shown in the following <em>Figure 55. and Figure 56</em></p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-EMAT-TEST-SCAN-CONFIG.jpg" /></p>
<p><em>Figure 55. E-MAT Client/Server TCP/IP addresses for testing and scanning</em></p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-EMAT-INSPECTION-CONFIG.jpg" /></p>
<p><em>Figure 56. E-MAT Client/Server TCP/IP addresses for inspection</em></p>
<p>Once the connection is established with the E-MAT equipment via TCP/IP protocol, the information regarding the inspection batch is displayed on the debug window as shown in <em>Figure 48</em> and according to the following JSON structure.</p>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="p">{</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">  </span><span class="nt">&quot;inspectionType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Defines the inspection mode in whihc the sysem is operating</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">  </span><span class="nt">&quot;3&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;INSPECTION&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// it can be Test, Scan or Inspection mode</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">  </span><span class="nt">&quot;getInspectionJob&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4568&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Provides the inspectionJob ID</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">  </span><span class="nt">&quot;start&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1720610016391</span><span class="p">,</span><span class="w"> </span><span class="c1">// Starting time in UNIX format</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">  </span><span class="nt">&quot;stop&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1720610016613</span><span class="p">,</span><span class="w"> </span><span class="c1">// End time in UNIX format</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">  </span><span class="nt">&quot;insp_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">222</span><span class="p">,</span><span class="w"> </span><span class="c1">// Duration time</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">  </span><span class="nt">&quot;recordNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="c1">// recordID number</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">  </span><span class="nt">&quot;tag&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// Wave parameters registered by E-MAT euipment</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">    </span><span class="nt">&quot;CH#_GATE#_AMPLITUDE (%)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">    </span><span class="nt">&quot;CH#_GATE#_THICKNESS (mm)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="w">    </span><span class="nt">&quot;CH#_GATE#_TOF (s)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="w">  </span><span class="nt">&quot;disposition&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="p">}</span>
</span></code></pre></div>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-EMAT-DEBUG-INFO.jpg" /></p>
<p><em>Figure 57. E-MAT Debug Inspection Information</em></p>
<ul>
<li>Custom API: The communication relies on client/server requests via HTTP protocol. For the custom API, the port configured for the communication is the 7001.
  This port is set by default and cannot be changed. Thus, it is not available in TCP/IP communication protocol. The API provides the information via HTTP protocol, so the nodes to be configured will be HTTP nodes, as can be seen in <em>Figure 49</em>, which shows all the nodes available to configure HTTP requests and the connection on port 7001.</li>
</ul>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-EMAT-HTTP.jpg" /></p>
<p><em>Figure 58. E-MAT Debug Inspection Information</em></p>
<p>Several API calls can be used with Innerspec API that provide the last inspection performed <em>Figure 50</em> (/api/inspection/last), request for the number of records in an interval of time <em>Figure 51</em> (/api/inspection/from/{startDate}/to/{endDate}), request based on a certain tag <em>Figure 52</em> (/api/inspection/by-tag/{tag}) and a request based on a certain <code>recordNumber</code> <em>Figure 53</em> (/api/inspection/{recordNumber}).</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-EMAT-HTTP-last.jpg" /></p>
<p><em>Figure 59. E-MAT Last Inspection API Call</em></p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-EMAT-HTTP-interval.jpg" /></p>
<p><em>Figure 60. E-MAT {startDate}/to/{endDate} API Call</em></p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-EMAT-HTTP-tag.jpg" /></p>
<p><em>Figure 61. E-MAT {tag} API Call</em></p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-EMAT-HTTP-recordNumber.jpg" /></p>
<p><em>Figure 62. E-MAT {recordNumber} API Call</em></p>
<p>All the API requests based on HTTP protocol are available, accessible and easily integrated with the Blockchain nodes for traceability purposes. The proposed pipeline in <em>Figure 54</em> provides the integration of API HTTP requests with the Blockchain nodes so new undetected uses can be easily registered thanks to the pipeline continous checks.</p>
<p>First part of the Pipeline (marked in red), checks remaining uses and read current E-MAT equipment use. The second part of the pipeline (marked in blue) checks whether new unregistered uses have been detected, and lastly, the third part of the pipeline (marked in green) updates the Blockchain in case any new uses have been registered.</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-EMAT-HTTP-Blockchain-Pipeline.jpg" /></p>
<p><em>Figure 63 E-MAT Blockchain Pipeline</em></p>
<p>This pipeline is only an example of the different mechanisms that can be used to relate Welding Inspector zApp with the technology of Blockchain in order to create and integrate new mechanisms that avoid data loss and data corruption under industrial scenarios. Developers can customize their own pipelines based on traceability restrictions for each customer.</p>
<h4 id="832-visual-inspector-zapp">8.3.2 Visual Inspector zApp</h4>
<p>Within ZDZW Marketplace Visual Inspector zApp can be found. This zApp provides single-piece-flow analysis based on a 6-camera inference system. The data gathered by the cameras is stored in a local instance in MySQL Database.</p>
<h4 id="833-node-red-dependencies">8.3.3 Node-RED Dependencies</h4>
<p>Our Node-RED microservice has the capability of connecting to this local MySQL instance thanks to the use of custom Node-RED libraries, on this example <a href="https://flows.nodered.org/node/node-red-node-mysql">node-red-node-mysql</a> library was used to enable the connection and operations with the local MySQL instance database.</p>
<p>For that purpose new libraries can be added in the 'Manage Palette' options shown on <em>Figure 55</em> where developers can install different nodes for other relational and non-relational databases.</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-ITI-MYSQL_Palette.jpg" /></p>
<p><em>Figure 64. Palette Options Node-RED</em></p>
<p>In <em>Figure 65</em> it can be seen all the dependencies and versions that are currently installed. New or existing nodes can be updated, installed or removed as pleased by developers, allowing flexibility for new database connections or database migrations.</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-ITI-MYSQL_Install.jpg" /></p>
<p><em>Figure 65. Dependencies Install Node-RED</em></p>
<h5 id="8331-mysql-local-instance">8.3.3.1 MySQL Local Instance</h5>
<p>To connect and interact with the MySQL Local Database it is needed to have a Local MySQL instance up in the device where the Node-RED pipeline is configured.
In <em>Figure 66</em>, it can be seen the pre-configured MySQL connection to a local instance in port 3306.</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-ITI-MYSQL_instance.jpg" /></p>
<p><em>Figure 66. MySQL Local Database Instance Connection</em></p>
<p>This local database instance contains the inference information gathered by the Visual Inspector zApp cameras.
The database architecture is summarized in <em>Figure 58</em> where the Table database structure is presented.</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-ITI-MYSQL.jpg" /></p>
<p><em>Figure 67. MySQL Local Database Architecture</em></p>
<h5 id="8332-blockchain-pipeline">8.3.3.2 Blockchain Pipeline</h5>
<p>To ensure robustness in the use of zApp during the inspection procedure, pipelines such as the one shown in <em>Figure 59</em> can be implemented to ensure correct Blockchain data insertion.
In the first part of the pipeline, the number of remaining uses is read to grant access to the inspection zApp and allow image inference on the equipment. The second part of the pipeline connects with the local MySQL instance to check whether new uses have been registered in the database but not in the Blockchain. Depending on the result of this logic, the Blockchain information will be updated according to the new uses registered.</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-ITI-MYSQL_Pipeline.jpg" /></p>
<p><em>Figure 68. Blockchain Pipeline</em></p>
<p>This pipeline is only an example of the multiple mechanisms that can be deployed by using the Node-RED microservice combined with local database instances and Blockchain nodes.
Based on node traceability requirements, pipelines can be updated to enhance robustness, prevent data leakages and ensure process traceability.
In order to enable the database connection with Node-RED microservice, MySQL node must be configured with the local database instance information.</p>
<p>In case multiple databases are being used, all the database connection strings can be stored in the node for easier and enhanced accessibility <em>Figure 60</em>. In our use-case, the database connection contains the parameters upon which it is based MySQL local instance (Host, Port, User, Password and Database), as can be seen in <em>Figure 61</em>.</p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-ITI-MYSQL_Selection.jpg" /></p>
<p><em>Figure 69. MySQL Database Selection</em></p>
<p><img alt="Traceability Gateway" src="../images/WP7-UT-traceability-zApp-ITI-MYSQL_Connection.jpg" /></p>
<p><em>Figure 70. MySQL Node Configuration</em></p>
<h3 id="84-usage-tracking-visualization">8.4. Usage Tracking Visualization</h3>
<p>The Usage Tracking Visualization tool allows users to monitor and analyze smart contract usage data through an intuitive web application. To access the tool, users must enter the application's URL in their browser and log in using valid credentials.</p>
<p>Upon accessing the application, users are redirected to the Keycloak login page for authentication, as shown in <strong>Figure 71</strong>. After successful authentication, users are redirected back to the application to begin tracking their smart contract usage.</p>
<p><img alt="Login" src="../images/WP7-UT-usage-tracking-login.png" /></p>
<p><em>Figure 71. Login page</em></p>
<h4 id="smart-contract-selection-and-overview">Smart Contract Selection and Overview</h4>
<p><img alt="List SCs" src="../images/WP7-UT-usage-tracking-SCs.png" /></p>
<p><em>Figure 72. Smart contracts list</em></p>
<p>The interface includes a dropdown menu labeled "Smart Contracts," allowing users to select a specific smart contract. Each contract is displayed with its name, version, and payment model (e.g., PayPerVolume, PayPerUse, or PayPerPeriod). This feature simplifies the process of identifying and managing contracts, ensuring efficient access to usage data and insights for each contract.</p>
<h4 id="common-components-across-views">Common Components Across Views</h4>
<p>All smart contract views share the following components:
- <strong>CompanyID, MachineID, and ProviderID:</strong> Identifiers for the company, machine, and service provider associated with the contract.
- <strong>Contract Type:</strong> Displays the payment model (e.g., PayPerVolume).
- <strong>Lifecycle Details:</strong> Includes purchase date, installation timestamp, and decommissioning status.
- <strong>Version Management:</strong> Displays the current version of the contract, with a "Versions" button to view a list of all versions.
- <strong>Smart Contract Info Button:</strong> Provides a detailed view of the smart contract's content and signing details.</p>
<p><img alt="Data details" src="../images/WP7-UT-usage-tracking-data.png" /></p>
<p><em>Figure 73. Data details</em></p>
<p><img alt="Versions list details" src="../images/WP7-UT-usage-tracking-list-versions-btn.png" /></p>
<p><em>Figure 74. Versions list details</em></p>
<h4 id="smart-contract-details-and-signing-information">Smart Contract Details and Signing Information</h4>
<p><img alt="Smart contract" src="../images/WP7-UT-usage-tracking-SC.png" /></p>
<p><em>Figure 75. Smart contract raw content</em></p>
<p>Users can view the raw content of their smart contracts, including detailed code and transaction history, for transparency and in-depth analysis.</p>
<p><img alt="Smart contract data" src="../images/WP7-UT-usage-tracking-SC-signed.png" /></p>
<p><em>Figure 76. Smart contract data</em></p>
<p>Additionally, the application visualizes data related to when each smart contract was signed, including the date, time, involved parties, and transaction details.</p>
<h4 id="interactive-timeline-charts">Interactive Timeline Charts</h4>
<p>All timeline charts include a menu with the following options:
- <strong>Date Range Selection:</strong> Allows users to filter data by specific timeframes.
- <strong>Download Image:</strong> Exports the chart as a <code>.png</code> file.
- <strong>Restore Data:</strong> Resets the chart to its original data sources.
- <strong>Image Data View:</strong> Displays a table with the chart's data.
- <strong>Zoom Area and Restore Zoom:</strong> Enables zooming into specific areas and resetting the zoom level.</p>
<p><img alt="Range selection" src="../images/WP7-UT-usage-tracking-chart-timeline-range2.png" /></p>
<p><em>Figure 77. Range selection</em></p>
<p><img alt="Range column grouping" src="../images/WP7-UT-usage-tracking-chart-timeline-range.png" /></p>
<p><em>Figure 78. Range column grouping</em></p>
<p><img alt="Chart Menu" src="../images/WP7-UT-usage-tracking-chartmenu.png" /></p>
<p><em>Figure 79. Chart Menu</em></p>
<p><img alt="Downloaded image example" src="../images/WP7-UT-usage-tracking-download-image.png" /></p>
<p><em>Figure 80. Downloaded image example</em></p>
<p><img alt="Chart data view" src="../images/WP7-UT-usage-tracking-data-view-chart.png" /></p>
<p><em>Figure 81. Chart data view</em></p>
<h4 id="paypervolume-model-view">PayPerVolume Model View</h4>
<p>When a PayPerVolume smart contract is selected, the application provides a comprehensive overview, as illustrated in Figure 8.67. Key features include:</p>
<ul>
<li><strong>Usage Overview:</strong> A donut chart visually representing the proportion of consumed and remaining units, offering a quick snapshot of the contract's usage status.</li>
<li><strong>Usage Timeline:</strong> A line chart displaying usage trends over time, with smart contract versions clearly labeled in the background for context. An inline zoom slider allows users to filter and focus on specific data ranges effortlessly.</li>
</ul>
<p><img alt="Pay Per Volume" src="../images/WP7-UT-usage-tracking-PPV2.png" /></p>
<p><em>Figure 82. Pay Per Volume</em></p>
<p>Interactive features, such as date selection and buttons for viewing detailed contract information, refreshing data, and checking the last usage, enhance the user experience.</p>
<h4 id="payperuse-model-view">PayPerUse Model View</h4>
<p>For PayPerUse smart contracts, users must first select a specific functionality associated with the contract. This ensures focused tracking of individual features or services.</p>
<p><img alt="usage-tracking-PPU-functionalities" src="../images/WP7-UT-usage-tracking-PPU-fun.png" /></p>
<p><em>Figure 83. Pay Per Use functionalities</em></p>
<p>After selecting a functionality, the interface displays usage details, including:
- <strong>Timeline Section:</strong> A column chart showing usage counts for the selected functionality over specific time intervals. An inline zoom slider allows users to filter and focus on specific data ranges effortlessly.</p>
<p><img alt="Pay Per Use view" src="../images/WP7-UT-usage-tracking-PPU2.png" /></p>
<p><em>Figure 84. Pay Per Use view</em></p>
<h4 id="payperperiod-model-view">PayPerPeriod Model View</h4>
<p>For PayPerPeriod smart contracts, the interface provides the following features:</p>
<ul>
<li><strong>Timeline Section:</strong> A column chart that visually represents usage counts over specific time intervals, allowing users to track and analyze their usage patterns effectively.</li>
<li><strong>Period Banner:</strong> A prominent banner at the top of the interface displaying the number of days remaining in the current subscription period, ensuring users are aware of their subscription status.</li>
<li><strong>Days Bought Banner:</strong> A banner indicating the total number of days purchased for the subscription, providing a clear overview of the subscription duration.</li>
</ul>
<p><img alt="Figure 85. Pay Per Period view" src="../images/WP7-UT-usage-tracking-PPP2.png" /></p>
<p><em>Figure 85. Pay Per Period view</em></p>
<p>Additionally, the interface includes a visual alert system to notify users as their subscription nears expiration:
- When more than 10 days remain, the "Expires In" banner is displayed in <strong>green</strong>, indicating that the subscription is currently valid and no immediate action is required.
- When fewer than 10 days remain, the "Expires In" banner is displayed in <strong>yellow</strong>, signaling a warning to the user.
- When fewer than 3 days remain, the "Expires In" banner changes to <strong>red</strong>, indicating an urgent alert.</p>
<p><img alt="Figure 86. Valid subscription" src="../images/WP7-UT-usage-tracking-PPP-green.png" /></p>
<p><em>Figure 86. Valid subscription</em></p>
<p><img alt="Figure 87. Subscription nearing expiration" src="../images/WP7-UT-usage-tracking-PPP-warning.png" /></p>
<p><em>Figure 87. Subscription nearing expiration</em></p>
<p><img alt="Figure 88. Subscription expiration imminent" src="../images/WP7-UT-usage-tracking-PPP-alert.png" /></p>
<p><em>Figure 88. Subscription expiration imminent</em></p>
<h3 id="85-blockchain-platform">8.5. Blockchain Platform</h3>
<p>This backend is only intended for the marketplace, the traceability gateway, and the usage tracking visualization. If, however, you decide to use this API, you will need to manage the authentication process that is usually handled by the node red. Otherwise, this API will not work for you.</p>
<p>The Blockchain data storage and retrieval services are provided through a Blockchain API, as shown in Figure 1. This API exposes the Blockchain services to the Traceability Gateway and the zApp Usage Tracking to facilitate the integration of all the modules that make up T7.4.</p>
<p>This API is deployed on the AWS instance, as the Computation Requirements section explains. The connection to this API is made through HTTPS and the <code>api.zdzw-blockchain.com</code> portal, for which an IP-based access control has been configured. Therefore, access privileges have been given to the Traceability Gateway, the Marketplace and the zApp Usage Tracking. This access control using security groups ensures the privacy of the solution, guaranteeing control over the conditions under which they interact with the Blockchain platform.</p>
<p>Depending on the business model of each zApp, the smart contract will be different. Three smart contract models have been defined: Pay per Volume, Pay per Use and Pay per Period (Time subscription).</p>
<p>The API provides usage information in JSON format for all three cases, although the structure varies slightly.</p>
<p>For Pay per Volume:</p>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="p">{</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CoolingTank_125-23&quot;</span><span class="p">,</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">   </span><span class="nt">&quot;MaxUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A&quot;</span><span class="p">,</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">   </span><span class="nt">&quot;SmartContractID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZW-API_ThermalAnalysis_ppv_1&quot;</span><span class="p">,</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">   </span><span class="nt">&quot;UserID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZW-API&quot;</span><span class="p">,</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">   </span><span class="nt">&quot;ZappID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ThermalAnalysis&quot;</span><span class="p">,</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">   </span><span class="nt">&quot;Info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-18 17:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;decommission&quot;</span><span class="p">,</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-25 06:36:46&quot;</span><span class="p">,</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">         </span><span class="nt">&quot;UsesLeft&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-989898</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 12:45:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 12:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;use&quot;</span><span class="p">,</span>
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-25 06:35:44&quot;</span><span class="p">,</span>
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="w">         </span><span class="nt">&quot;UsesLeft&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-9-24"><a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-9-25"><a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-9-26"><a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-9-27"><a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;installation&quot;</span><span class="p">,</span>
</span><span id="__span-9-28"><a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-25 06:34:09&quot;</span><span class="p">,</span>
</span><span id="__span-9-29"><a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a><span class="w">         </span><span class="nt">&quot;UsesLeft&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span>
</span><span id="__span-9-30"><a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-9-31"><a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-9-32"><a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-9-33"><a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-9-34"><a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;purchase&quot;</span><span class="p">,</span>
</span><span id="__span-9-35"><a id="__codelineno-9-35" name="__codelineno-9-35" href="#__codelineno-9-35"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-25 06:31:22&quot;</span><span class="p">,</span>
</span><span id="__span-9-36"><a id="__codelineno-9-36" name="__codelineno-9-36" href="#__codelineno-9-36"></a><span class="w">         </span><span class="nt">&quot;UsesLeft&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span>
</span><span id="__span-9-37"><a id="__codelineno-9-37" name="__codelineno-9-37" href="#__codelineno-9-37"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-9-38"><a id="__codelineno-9-38" name="__codelineno-9-38" href="#__codelineno-9-38"></a><span class="w">   </span><span class="p">]</span>
</span><span id="__span-9-39"><a id="__codelineno-9-39" name="__codelineno-9-39" href="#__codelineno-9-39"></a><span class="p">}</span>
</span></code></pre></div>
<p>For Pay per Use:</p>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="p">{</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">   </span><span class="nt">&quot;Functionalities&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE,EVALUATION,GRAPHS,PREDICTION&quot;</span><span class="p">,</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CoolingTank_XG500K&quot;</span><span class="p">,</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;B&quot;</span><span class="p">,</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">   </span><span class="nt">&quot;SmartContractId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZWEurope_ThermalControl_ppu_2&quot;</span><span class="p">,</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">   </span><span class="nt">&quot;UserID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZWEurope&quot;</span><span class="p">,</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">   </span><span class="nt">&quot;ZappID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ThermalControl&quot;</span><span class="p">,</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">   </span><span class="nt">&quot;Info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE&quot;</span><span class="p">,</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 16:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;use&quot;</span><span class="p">,</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-03 14:18:40&quot;</span><span class="p">,</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">         </span><span class="nt">&quot;UsesCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 12:45:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE&quot;</span><span class="p">,</span>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 12:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;use&quot;</span><span class="p">,</span>
</span><span id="__span-10-23"><a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-03 14:18:16&quot;</span><span class="p">,</span>
</span><span id="__span-10-24"><a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a><span class="w">         </span><span class="nt">&quot;UsesCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span>
</span><span id="__span-10-25"><a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-10-26"><a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-10-27"><a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-10-28"><a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE,EVALUATION,GRAPHS,PREDICTION&quot;</span><span class="p">,</span>
</span><span id="__span-10-29"><a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-10-30"><a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;installation&quot;</span><span class="p">,</span>
</span><span id="__span-10-31"><a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-03 14:18:10&quot;</span><span class="p">,</span>
</span><span id="__span-10-32"><a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a><span class="w">         </span><span class="nt">&quot;UsesCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-10-33"><a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-10-34"><a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-10-35"><a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-10-36"><a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE,EVALUATION,GRAPHS,PREDICTION&quot;</span><span class="p">,</span>
</span><span id="__span-10-37"><a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-10-38"><a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;purchase&quot;</span><span class="p">,</span>
</span><span id="__span-10-39"><a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-03 14:17:53&quot;</span><span class="p">,</span>
</span><span id="__span-10-40"><a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a><span class="w">         </span><span class="nt">&quot;UsesCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-10-41"><a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-10-42"><a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a><span class="w">   </span><span class="p">]</span>
</span><span id="__span-10-43"><a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a><span class="p">}</span>
</span></code></pre></div>
<p>For Pay per Period:</p>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="p">{</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">   </span><span class="nt">&quot;ActivationTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-18 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">   </span><span class="nt">&quot;ExpirationTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-12-07 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;WingInspector_27&quot;</span><span class="p">,</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;C&quot;</span><span class="p">,</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">   </span><span class="nt">&quot;SmartContractId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZWAsia_Hardness_Inspector_v2.1X_ppp_1&quot;</span><span class="p">,</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">   </span><span class="nt">&quot;SubscribedDays&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">   </span><span class="nt">&quot;UserID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZWAsia&quot;</span><span class="p">,</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">   </span><span class="nt">&quot;ZappID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Hardness_Inspector_v2.1X&quot;</span><span class="p">,</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">   </span><span class="nt">&quot;Info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="w">         </span><span class="nt">&quot;AccumUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-19 12:45:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-19 12:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;use&quot;</span><span class="p">,</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-17 10:00:55 UTC&quot;</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="w">         </span><span class="nt">&quot;AccumUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-18 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;installation&quot;</span><span class="p">,</span>
</span><span id="__span-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-17 09:59:45 UTC&quot;</span>
</span><span id="__span-11-25"><a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-11-26"><a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-11-27"><a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a><span class="w">         </span><span class="nt">&quot;AccumUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-11-28"><a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-12-07 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-11-29"><a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-18 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-11-30"><a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;activation&quot;</span><span class="p">,</span>
</span><span id="__span-11-31"><a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-16 13:56:56 UTC&quot;</span>
</span><span id="__span-11-32"><a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-11-33"><a id="__codelineno-11-33" name="__codelineno-11-33" href="#__codelineno-11-33"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-11-34"><a id="__codelineno-11-34" name="__codelineno-11-34" href="#__codelineno-11-34"></a><span class="w">         </span><span class="nt">&quot;AccumUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-11-35"><a id="__codelineno-11-35" name="__codelineno-11-35" href="#__codelineno-11-35"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-11-36"><a id="__codelineno-11-36" name="__codelineno-11-36" href="#__codelineno-11-36"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-11-37"><a id="__codelineno-11-37" name="__codelineno-11-37" href="#__codelineno-11-37"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;purchase&quot;</span><span class="p">,</span>
</span><span id="__span-11-38"><a id="__codelineno-11-38" name="__codelineno-11-38" href="#__codelineno-11-38"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-16 13:49:51 UTC&quot;</span>
</span><span id="__span-11-39"><a id="__codelineno-11-39" name="__codelineno-11-39" href="#__codelineno-11-39"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-11-40"><a id="__codelineno-11-40" name="__codelineno-11-40" href="#__codelineno-11-40"></a><span class="w">   </span><span class="p">]</span>
</span><span id="__span-11-41"><a id="__codelineno-11-41" name="__codelineno-11-41" href="#__codelineno-11-41"></a><span class="p">}</span>
</span></code></pre></div>
<p>Leveraging this data model, the Blockchain API facilitates the storage of lifecycle information in a Blockchain network, ensuring robust traceability. In addition, the API includes several visualisation functions to improve the representation and understanding of the data.</p>
<p>For this purpose, the following milestones in the lifecycle of a smart contract have been identified:</p>
<ul>
<li>Creation of the smart contract during the acquisition of the zApp.</li>
<li>Activation of the subscription for the Pay per Period model.</li>
<li>Installation of the zApp if it is on-premise.</li>
<li>Use of the zApp.</li>
<li>Decommissioning of the zApp.</li>
</ul>
<p>For this purpose, functionalities have been created in the API that allow these tasks to be carried out. In addition, the API also offers a multitude of endpoints to obtain data for visualisation. In the following, the endpoints' example statements are given.</p>
<p>When using the API, it is important to consider certain aspects:</p>
<ul>
<li>The API is case-sensitive.</li>
<li>All timestamps must be in UTC and in the following format: YYYY-MM-DD hh:mm:ss. It is up to the user to pass the appropriate time format. Failure to do so may lead to errors in the traceability of the information.</li>
<li>Optional values must still include the tags. E.g., <code>"InitTime"=""</code> or <code>"EndTime"=""</code></li>
<li>Inputs may not contain special characters.</li>
<li>If successful, the output of the API may vary, but if unsuccessful, the API will return:</li>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li>Other error messages, depending on the requested endpoint.</li>
</ul>
<p>However, a more detailed description, defining inputs, outputs, as well as the response of the endpoints both in case of correct operation and error, is given in the <a href="https://github.com/zdzw-eu/UsageTraceability/blob/main/docs/annex/ZDZW_AmazonManagedBlockhainDeployment_ANNEX.pdf">Annex</a>.</p>
<h4 id="851-application-purchase">8.5.1. Application Purchase</h4>
<p>Each time a User purchases a zApp, the Marketplace uses this functionality to store that application's purchase conditions. The endpoint for this action is <code>/createSmartContractZapp</code>.</p>
<p>The input parameters for this endpoint are as follows. All of them must be defined (i.e., there are no optional parameters). Failing to do so will cause the API to be unpredictable, and data traceability may be lost.</p>
<h5 id="8511-inputs">8.5.1.1. Inputs</h5>
<ul>
<li><strong>MarketPlaceID:</strong> The Marketplace identifier, it is a case-sensitive string.</li>
<li><strong>MarketPlaceIP:</strong> The Marketplace IP. This value is requested in case it might be necessary to manage the API security groups in the future.</li>
<li><strong>ProviderID:</strong> The Provider identifier, a case-sensitive string.</li>
<li><strong>ProviderIP:</strong> The provider IP. This value is requested in case it might be necessary to manage the API security groups in the future.</li>
<li><strong>UserID:</strong> The User identifier (i.e., the company that buys the zApp), a case-sensitive string.</li>
<li><strong>UserIP:</strong> The user IP. This value is requested in case it might be necessary to manage the API security groups in the future.</li>
<li><strong>SCType:</strong> The business model chosen by the User. It is case-sensitive.</li>
<li>For <em>pay-per-volume</em> this field must always be an <code>A</code>.</li>
<li>For <em>pay-per-use</em>, it must always be a <code>B</code>.</li>
<li>For <em>pay-per-period</em>, it must be a <code>C</code>.</li>
<li><strong>ZAppID:</strong> The zApp identifier, a case-sensitive string.</li>
<li><strong>OnPremise:</strong> A boolean value passed as string.</li>
<li>It is <code>true</code> if the app will be <em>on-premise</em>.</li>
<li>It will be <code>false</code> if the app is on the <em>cloud</em>.</li>
<li><strong>InitTime:</strong> The timestamp of when the zApp was purchased. It <em>must</em> be provided in UTC.</li>
</ul>
<p>Furthermore, the following inputs will be added depending on the PayType, and they are mandatory for each PayType:</p>
<ul>
<li><strong>MaxUses:</strong> This value must be provided <em>only</em> for the pay-per-volume. An int value passed as string. Contains the max uses defined for the zApp according to the User's purchase.</li>
<li><strong>FunctionalityIDs:</strong> This value must be provided <em>only</em> for the pay-per-use. A string containing <em>all</em> the purchased functionalities, separated by commas and with <em>no whitespaces between commas and functionalities</em>. For example, <code>measure,evaluation,graphs,prediction</code>.</li>
<li><strong>Days:</strong> This value must be provided <em>only</em> for the pay-per-period. An int value passed as string. It contains the number of days the user has purchased.</li>
</ul>
<h5 id="8512-outputs">8.5.1.2. Outputs</h5>
<p>If successful, the API will return:</p>
<ul>
<li><code>200</code></li>
<li>The unique identifier of the contract created for that sale. For example: <code>ZDZW-API_ThermalAnalysis_ppv_1</code>.</li>
</ul>
<p>If unsuccessful, the API can return any of the following:</p>
<ul>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li><code>no smart contract found for SCType: &lt;SCType&gt;</code>: SCType must be <code>A</code>, <code>B</code> or <code>C</code>.</li>
<li>Pay-Per-Volume can also return:</li>
<li><code>maxUses is required for SCType: A</code>: MaxUses is a mandatory input for pay-per-volume.</li>
<li><code>maxUses cannot be negative for SCType: A</code>: MaxUses cannot be a negative number.</li>
<li>Pay-Per-Use can also return:</li>
<li><code>functionlityIds is required for SCType: B</code>: This input is mandatory for pay-per-use.</li>
<li>Pay-Per-Period can also return:</li>
<li><code>days is required for SCType: C</code>: Days is a mandatory input for pay per period.</li>
<li><code>days cannot be negative or zero for SCType: C</code>: Days cannot be a negative number or zero.</li>
</ul>
<h5 id="8513-examples">8.5.1.3. Examples</h5>
<p>Creating a <em>pay-per-volume</em> Smart Contract:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/createSmartContractZapp<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;MarketPlaceID&quot;: &quot;ZDZW_API_Example&quot;, &quot;MarketPlaceIP&quot;: &quot;172.16.100.23&quot;, &quot;ProviderID&quot;:&quot;Provider_Example&quot;, &quot;ProviderIP&quot;:&quot;165.18.120.13&quot;, &quot;UserID&quot;:&quot;ZDZW-API&quot;, &quot;UserIP&quot;: &quot;185.23.154.53&quot;, &quot;SCType&quot;:&quot;A&quot;, &quot;ZAppID&quot;: &quot;ThermalAnalysis&quot;, &quot;OnPremise&quot;:true, &quot;MaxUses&quot;:&quot;500&quot;,&quot;InitTime&quot;:&quot;2024-09-17 8:00:00&quot;}&#39;</span>
</span></code></pre></div>
<p>Creating a <em>pay-per-use</em> Smart Contract.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/createSmartContractZapp<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;MarketPlaceID&quot;: &quot;ZDZWStore&quot;, &quot;ProviderID&quot;:&quot;Provider2&quot;, &quot;ProviderIP&quot;:&quot;185.28.103.28&quot;, &quot;UserID&quot;:&quot;ZDZWAmerica&quot;, &quot;UserIP&quot;: &quot;170.58.133.53&quot;, &quot;SCType&quot;:&quot;B&quot;, &quot;ZAppID&quot;: &quot;ThermalControl&quot;, &quot;OnPremise&quot;:true, &quot;FunctionalityIDs&quot;:&quot;measure,evaluation,graphs,prediction&quot;, &quot;InitTime&quot;:&quot;2024-09-17 8:00:00&quot;}&#39;</span>
</span></code></pre></div>
<p>Creating a <em>pay-per-period</em> Smart Contract.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/createSmartContractZapp<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;MarketPlaceID&quot;: &quot;ZDZWStore&quot;, &quot;MarketPlaceIP&quot;: &quot;172.16.100.23&quot;, &quot;ProviderID&quot;:&quot;Provider1&quot;, &quot;ProviderIP&quot;:&quot;165.18.120.13&quot;, &quot;UserID&quot;:&quot;ZDZWAsia&quot;, &quot;UserIP&quot;: &quot;185.23.154.53&quot;, &quot;SCType&quot;:&quot;C&quot;, &quot;ZAppID&quot;: &quot;Hardness_Inspector_v2.1X&quot;, &quot;OnPremise&quot;:true, &quot;Days&quot;:&quot;80&quot;,&quot;InitTime&quot;:&quot;2024-09-17 8:00:00&quot;}&#39;</span>
</span></code></pre></div>
<h4 id="852-installation-of-the-application-on-a-machine">8.5.2. Installation of the Application on a Machine</h4>
<p>If the application is on-premise, the user must specify which machine it has been installed on. This information must be recorded in the Blockchain, creating the ledger where the usage information will be stored later. The endpoint for this action is <code>/invokeInit</code>.</p>
<p>This functionality <strong>must not</strong> be used if the application runs on cloud. The API will throw an error.</p>
<h5 id="8521-inputs">8.5.2.1. Inputs</h5>
<p>The input parameters for this endpoint are the following, all of which are mandatory. Failing to provide an input will cause the API to be unpredictable, and data traceability may be lost.</p>
<ul>
<li><strong>SmartContractID:</strong> The Smart Contract identifier, a case-sensitive string. This parameter is created when the zApp is purchased.</li>
<li><strong>MachineID:</strong> The Machine identifier, a case-sensitive string.</li>
<li><strong>InitTime:</strong> The timestamp for when the zApp was installed. It <em>must</em> be provided in UTC.</li>
</ul>
<h5 id="8522-outputs">8.5.2.2. Outputs</h5>
<p>If successful, the API will return:</p>
<ul>
<li><code>200 OK</code></li>
<li><code>init true</code></li>
</ul>
<p>If unsuccessful, the API can return any of the following:</p>
<ul>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li><code>machine ID is required</code>: The MachineID was not passed as input.</li>
<li><code>app is on cloud</code>: Cloud apps cannot be installed on-premise.</li>
<li><code>app already installed in the defined machine</code>: Cannot be installed twice.</li>
<li><code>app already installed in another machine</code>: App already installed in another machine. One SmartContractID implies one machine.</li>
<li><code>no records found for identifier: &lt;identifier&gt;</code>: The introduced SmartContractID does not exist.</li>
</ul>
<h5 id="8523-example">8.5.2.3. Example</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/invokeInit<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;SmartContractID&quot;: &quot;ZDZW-API_ThermalAnalysis_ppv_1&quot;, &quot;MachineID&quot;:&quot;CoolingTank_125-23&quot;, &quot;InitTime&quot;:&quot;2024-09-17 10:30:00&quot;}&#39;</span>
</span></code></pre></div>
<h4 id="853-application-usage">8.5.3. Application Usage</h4>
<p>Whenever an application is used, information about that use is stored on the blockchain network. The endpoint for this action is <code>/invokeInfo</code>.</p>
<ul>
<li>In the <em>pay-per-volume</em> model, this data can be used to track whether a user is trying to exceed their purchased uses or how many uses they have left.</li>
<li>The <em>pay-per-use</em> model provides information about how many times the app has been used. This endpoint must be called <strong>for each functionality</strong> in pay-per-use.</li>
<li>The <em>pay-per-period</em> model provides information about how many times the app has been used in the allotted time.</li>
</ul>
<h5 id="8531-inputs">8.5.3.1. Inputs</h5>
<p>All input parameters for this endpoint (listed below) are <em>mandatory</em> except EndTime.</p>
<ul>
<li><strong>SmartContractID:</strong> The Smart Contract identifier, a case-sensitive string. This parameter is created when the zApp is purchased.</li>
<li><strong>UsesCount:</strong> An int value, passed as a string, reflecting the number of uses accumulated over a given time or starting at a given timestamp.</li>
<li><strong>InitTime:</strong> The timestamp reflecting when the uses specified in UsesCount started. It <em>must</em> be provided in UTC.</li>
<li><strong>EndTime:</strong> This value is <strong>optional</strong>, but the tag should be included, e.g., <code>"EndTime":""</code>. It is the timestamp marking the end of the uses specified in UsesCount. It <em>must</em> be provided in UTC.</li>
</ul>
<p>Furthermore, for pay-per-use user <em>must</em> also provide:</p>
<ul>
<li><strong>FunctionalityName:</strong> This input is mandatory in pay-per-use. A string identifying a <em>single</em> functionality. If, for example, during the purchase, the purchased list of functionalities was <code>measure,evaluation,graphs,prediction</code>, the <code>FunctionalityName</code> can be <code>measure</code>. Uses for non-purchased functionalities <em>cannot</em> be accumulated.</li>
</ul>
<h5 id="8532-outputs">8.5.3.2. Outputs</h5>
<p>If successful, the API will return:</p>
<ul>
<li><code>200</code></li>
</ul>
<p>And one of the following strings:</p>
<ul>
<li><code>true</code>: Everything went OK.</li>
<li><code>app blocked: data stored but inaccurate due to the app being blocked, leading to incorrect user metrics and data</code>: Usage successfully stored in the Blockchain, but the app is supposedly decommissioned.</li>
<li><code>data stored, but more than one use with the same begin and end time</code>: the provided InitTime and EndTime are the same for more than one UsesCount. This will generate issues for visualization.</li>
<li>Additionally, for pay-per-period, it can also return:</li>
<li><code>data stored, but expiration date surpassed</code>: The usage was successfully stored in the Blockchain, but the uses happened after the expiration date. This warning only exists for pay-per-period.</li>
<li>And for pay-per-volume, it can return:</li>
<li><code>data stored, but purchased uses exceeded</code>: Usage successfully stored in the Blockchain, but the purchased maximum uses have been exceeded. This warning only exists for pay-per-volume.</li>
</ul>
<p>If unsuccessful, the API can return any of the following:</p>
<ul>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li><code>failed to store data in the blockchain</code>: It was not possible to store usage data in the Blockchain.</li>
<li><code>usesCount is required</code>: UsesCount is mandatory as input.</li>
<li><code>cannot load negative uses</code>: UsesCount must be positive.</li>
<li><code>app not installed</code>: The app is identified as on-premise but has not been installed. It must be installed before being used.</li>
<li><code>no records found for identifier: &lt;identifier&gt;</code>: The introduced SmartContractID does not exist.</li>
<li>Pay-Per-Use can also return:</li>
<li><code>only one functionality is allowed</code>: This error is present in pay-per-use. More than one functionality was loaded in <code>FunctionalityName</code> when only one was expected.</li>
<li><code>functionality &lt;FunctionalityName&gt; not purchased or available for SmartContractID: &lt;SmartContractID&gt;</code>: Tried to load uses for a functionality not purchased.</li>
<li>Pay-Per-Period can also return:</li>
<li><code>app not activated</code>: This error is present in pay-per-period. It happens when the app has not been activated. On-premise apps are activated when installation takes place. In cloud apps, the activation occurs when the first use is to be stored.</li>
</ul>
<h5 id="8533-example">8.5.3.3. Example</h5>
<p>For <em>pay-per-volume</em> and <em>pay per period</em>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/invokeInfo<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;SmartContractID&quot;: &quot;ZDZW-API_ThermalAnalysis_ppv_1&quot;, &quot;UsesCount&quot;:&quot;400&quot;, &quot;InitTime&quot;:&quot;2024-09-17 12:00:00&quot;, &quot;EndTime&quot;:&quot;2024-09-17 12:45:00&quot;}&#39;</span>
</span></code></pre></div>
<p>For <em>pay-per-use</em> the usage of each functionality is mapped individually, so the FunctionalityName should only contain one functionality:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/invokeInfo<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;SmartContractID&quot;:&quot;Ikerlan_Thermal_Analysis_v3_ppv_1&quot;, &quot;UsesCount&quot;:&quot;10&quot;, &quot;InitTime&quot;:&quot;2024-09-17 12:00:00&quot;, &quot;EndTime&quot;:&quot;2024-09-17 12:45:00&quot;, &quot;FunctionalityName&quot;:&quot;measure&quot;}&#39;</span>
</span></code></pre></div>
<h4 id="854-application-renewal">8.5.4. Application Renewal</h4>
<p>For pay-per-period and pay-per-volume, users and companies buy the right to use an application for a limited amount of uses or a limited amount of days. Users may want to continue using the app without creating a new contact when reaching the usage limit. That is, they may wish to renew it.</p>
<p>In this case, this endpoint allows them to do so; by allowing them to use the same SmartContractID, they can renew it under the same conditions. E.g., Suppose originally the zApp was purchased for a maximum use of 30 uses, and the user renews it when there were 5 uses left. In that case, it will automatically be renewed for the right of an additional 30 uses, resulting in a new maximum use of 38.5.6. The same approach is used for days that will be added to the expiration timestamp.</p>
<h5 id="8541-inputs">8.5.4.1. Inputs</h5>
<p>The input parameters for this endpoint are as follows:</p>
<ul>
<li><strong>SmartContractID:</strong> The Smart Contract identifier, a case-sensitive string. This parameter is created when the zApp is purchased.</li>
<li><strong>Time:</strong> The timestamp of when the SmartContract is renewed, must be provided un UTC.</li>
</ul>
<h5 id="8542-outputs">8.5.4.2. Outputs</h5>
<p>If successful, the API will return:</p>
<ul>
<li><code>200</code></li>
<li><code>"New version is &lt;version number&gt;</code></li>
</ul>
<p>If unsuccessful, the API can return any of the following:</p>
<ul>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li><code>smartContractID is required</code>: Passing a smartContractID as input is mandatory.</li>
<li><code>time is required</code>: Passing a timestamp as input is mandatory.</li>
<li><code>the zApp has not been installed yet. cannot renew</code>: When the app is on-premise, it can only be renewed after it has been installed.</li>
<li><code>this endpoint is not allowed for pay per use</code>: The endpoint cannot be used for Pay-per-Use.</li>
<li><code>no records found for identifier: &lt;identifier&gt;</code>: The introduced SmartContractID does not exist.</li>
</ul>
<h5 id="8543-example">8.5.4.3. Example</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/renewSmartContractZapp<span class="w"> </span>-include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;SmartContractID&quot;: &quot;SecondTestMarch_TestApp02_ppp_1&quot;,&quot;Time&quot;:&quot;2025-03-31 9:00:00&quot;}&#39;</span>
</span></code></pre></div>
<h4 id="855-application-decommissioning">8.5.5. Application Decommissioning</h4>
<p>When an application reaches the end of its usage, its allotted time or the service is cancelled, the contract must also be decommissioned. This endpoint indicates that the contract has been decommissioned but keeps the information stored up to that moment accessible. The endpoint for this action is <code>/blockUser</code>.</p>
<h5 id="8551-inputs">8.5.5.1. Inputs</h5>
<p>The input parameters for this endpoint are as follows:</p>
<ul>
<li><strong>SmartContractID:</strong> The Smart Contract identifier, a case-sensitive string. This parameter is created when the zApp is purchased.</li>
<li><strong>Time:</strong> The timestamp of when the SmartContract is decommissioned, must be provided un UTC.</li>
</ul>
<h5 id="8552-outputs">8.5.5.2. Outputs</h5>
<p>If successful, the API will return:</p>
<ul>
<li><code>200</code></li>
<li><code>block true</code></li>
</ul>
<p>If unsuccessful, the API can return any of the following:</p>
<ul>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li><code>time is required</code>: Passing a timestamp as input is mandatory.</li>
<li><code>no records found for identifier: &lt;identifier&gt;</code>: The introduced SmartContractID does not exist.</li>
</ul>
<h5 id="8553-example">8.5.5.3. Example</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/blockUser<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;SmartContractID&quot;: &quot;ZDZW-API_ThermalAnalysis_ppv_1&quot;, &quot;Time&quot;:&quot;2024-09-18 17:00:00&quot;}&#39;</span>
</span></code></pre></div>
<h4 id="856-get-all-the-contracts-owned-by-a-company">8.5.6. Get all the Contracts owned by a Company</h4>
<p>This functionality displays all the Smart Contracts owned by a marketplace user. The endpoint for this action is <code>/getCompanySmartContracts</code>.</p>
<h5 id="8561-inputs">8.5.6.1. Inputs</h5>
<p>The input parameters for this endpoint are as follows:</p>
<ul>
<li><strong>UserID:</strong> The User identifier, a case-sensitive string.</li>
</ul>
<h5 id="8562-outputs">8.5.6.2. Outputs</h5>
<p>If succesful, the API will return:</p>
<ul>
<li><code>200 OK</code></li>
<li>A JSON containing a list of all smart contracts owned by that user, alongside the application they are related to and the pay type. For example:</li>
</ul>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="p">{</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">   </span><span class="nt">&quot;List&quot;</span><span class="p">:[</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">         </span><span class="nt">&quot;SmartContractID&quot;</span><span class="p">:</span><span class="s2">&quot;ZDZW-API_ThermalAnalysis_ppv_1&quot;</span><span class="p">,</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">         </span><span class="nt">&quot;ZAppID&quot;</span><span class="p">:</span><span class="s2">&quot;ThermalAnalysis&quot;</span><span class="p">,</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="s2">&quot;pay per volume, no functionalities&quot;</span><span class="p">,</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">         </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00&quot;</span><span class="p">,</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">         </span><span class="nt">&quot;VersionTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-29 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">         </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="s2">&quot;PayPerVolume&quot;</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="w">         </span><span class="nt">&quot;SmartContractID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZW-API_ThermalControl_ppu_1&quot;</span><span class="p">,</span>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="w">         </span><span class="nt">&quot;ZAppID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ThermalControl&quot;</span><span class="p">,</span>
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE,EVALUATION,GRAPHS,PREDICTION&quot;</span><span class="p">,</span>
</span><span id="__span-20-15"><a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="w">         </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;04&quot;</span><span class="p">,</span>
</span><span id="__span-20-16"><a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a><span class="w">         </span><span class="nt">&quot;VersionTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-03-21 09:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-20-17"><a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a><span class="w">         </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PayPerUse&quot;</span>
</span><span id="__span-20-18"><a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-20-19"><a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-20-20"><a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a><span class="w">         </span><span class="nt">&quot;SmartContractID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZW-API_VisualInspector_ppp_1&quot;</span><span class="p">,</span>
</span><span id="__span-20-21"><a id="__codelineno-20-21" name="__codelineno-20-21" href="#__codelineno-20-21"></a><span class="w">         </span><span class="nt">&quot;ZAppID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VisualInspector&quot;</span><span class="p">,</span>
</span><span id="__span-20-22"><a id="__codelineno-20-22" name="__codelineno-20-22" href="#__codelineno-20-22"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pay per period, no functionalities&quot;</span><span class="p">,</span>
</span><span id="__span-20-23"><a id="__codelineno-20-23" name="__codelineno-20-23" href="#__codelineno-20-23"></a><span class="w">         </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;01&quot;</span><span class="p">,</span>
</span><span id="__span-20-24"><a id="__codelineno-20-24" name="__codelineno-20-24" href="#__codelineno-20-24"></a><span class="w">         </span><span class="nt">&quot;VersionTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-03-21 09:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-20-25"><a id="__codelineno-20-25" name="__codelineno-20-25" href="#__codelineno-20-25"></a><span class="w">         </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PayPerPeriod&quot;</span>
</span><span id="__span-20-26"><a id="__codelineno-20-26" name="__codelineno-20-26" href="#__codelineno-20-26"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-20-27"><a id="__codelineno-20-27" name="__codelineno-20-27" href="#__codelineno-20-27"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-20-28"><a id="__codelineno-20-28" name="__codelineno-20-28" href="#__codelineno-20-28"></a><span class="w">         </span><span class="nt">&quot;SmartContractID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;HSO_Aero_SurfaceInspector_v1.12_ppp_1&quot;</span><span class="p">,</span>
</span><span id="__span-20-29"><a id="__codelineno-20-29" name="__codelineno-20-29" href="#__codelineno-20-29"></a><span class="w">         </span><span class="nt">&quot;ZAppID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SurfaceInspector_v1.12&quot;</span><span class="p">,</span>
</span><span id="__span-20-30"><a id="__codelineno-20-30" name="__codelineno-20-30" href="#__codelineno-20-30"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pay per period, no functionalities&quot;</span><span class="p">,</span>
</span><span id="__span-20-31"><a id="__codelineno-20-31" name="__codelineno-20-31" href="#__codelineno-20-31"></a><span class="w">         </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00&quot;</span><span class="p">,</span>
</span><span id="__span-20-32"><a id="__codelineno-20-32" name="__codelineno-20-32" href="#__codelineno-20-32"></a><span class="w">         </span><span class="nt">&quot;VersionTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-11-21 09:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-20-33"><a id="__codelineno-20-33" name="__codelineno-20-33" href="#__codelineno-20-33"></a><span class="w">         </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PayPerPeriod&quot;</span>
</span><span id="__span-20-34"><a id="__codelineno-20-34" name="__codelineno-20-34" href="#__codelineno-20-34"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-20-35"><a id="__codelineno-20-35" name="__codelineno-20-35" href="#__codelineno-20-35"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-20-36"><a id="__codelineno-20-36" name="__codelineno-20-36" href="#__codelineno-20-36"></a><span class="w">         </span><span class="nt">&quot;SmartContractID&quot;</span><span class="p">:</span><span class="s2">&quot;ZDZW-API_ThermalAnalysis_ppv_2&quot;</span><span class="p">,</span>
</span><span id="__span-20-37"><a id="__codelineno-20-37" name="__codelineno-20-37" href="#__codelineno-20-37"></a><span class="w">         </span><span class="nt">&quot;ZAppID&quot;</span><span class="p">:</span><span class="s2">&quot;ThermalAnalysis&quot;</span><span class="p">,</span>
</span><span id="__span-20-38"><a id="__codelineno-20-38" name="__codelineno-20-38" href="#__codelineno-20-38"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="s2">&quot;pay per volume, no functionalities&quot;</span><span class="p">,</span>
</span><span id="__span-20-39"><a id="__codelineno-20-39" name="__codelineno-20-39" href="#__codelineno-20-39"></a><span class="w">         </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;02&quot;</span><span class="p">,</span>
</span><span id="__span-20-40"><a id="__codelineno-20-40" name="__codelineno-20-40" href="#__codelineno-20-40"></a><span class="w">         </span><span class="nt">&quot;VersionTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-03-31 09:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-20-41"><a id="__codelineno-20-41" name="__codelineno-20-41" href="#__codelineno-20-41"></a><span class="w">         </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="s2">&quot;PayPerVolume&quot;</span>
</span><span id="__span-20-42"><a id="__codelineno-20-42" name="__codelineno-20-42" href="#__codelineno-20-42"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-20-43"><a id="__codelineno-20-43" name="__codelineno-20-43" href="#__codelineno-20-43"></a><span class="w">   </span><span class="p">]</span>
</span><span id="__span-20-44"><a id="__codelineno-20-44" name="__codelineno-20-44" href="#__codelineno-20-44"></a><span class="p">}</span>
</span></code></pre></div>
<p>If unsuccessful, the API can return any of the following:</p>
<ul>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li><code>No apps found for user ID &lt;UserID&gt;</code>: The provided UserID is incorrect.</li>
</ul>
<h5 id="8563-example">8.5.6.3. Example</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/getCompanySmartContracts<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;UserID&quot;:&quot;ZDZW-API&quot;}&#39;</span>
</span></code></pre></div>
<h4 id="857-get-the-metadata-of-a-smart-contract">8.5.7. Get the Metadata of a Smart Contract</h4>
<p>This functionality displays all Smart Contracts owned by a marketplace user. The endpoint for this action is <code>/getSmartContractMetaData</code>.</p>
<h5 id="8571-inputs">8.5.7.1. Inputs</h5>
<p>The input parameters for this endpoint are as follows:</p>
<ul>
<li><strong>SmartContractID:</strong> The Smart Contract identifier, a case-sensitive string. This parameter is created when the zApp is purchased.</li>
</ul>
<h5 id="8572-outputs">8.5.7.2. Outputs</h5>
<p>If succesful, the API will return:</p>
<ul>
<li><code>200 OK</code></li>
<li>A JSON containing all the metadata for the specified contract.</li>
</ul>
<p>For example, the following JSON is the metadata for a pay-per-volume application on-premise, which has been purchased, installed, and decommissioned.</p>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="p">{</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">   </span><span class="nt">&quot;CompanyID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZW-API&quot;</span><span class="p">,</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">   </span><span class="nt">&quot;DecommissionTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-18 17:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">   </span><span class="nt">&quot;InstallTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CoolingTank_125-23&quot;</span><span class="p">,</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">   </span><span class="nt">&quot;MaxUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">   </span><span class="nt">&quot;ProviderID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Provider_Example&quot;</span><span class="p">,</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PayPerVolume&quot;</span><span class="p">,</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="w">   </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00&quot;</span><span class="p">,</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="w">   </span><span class="nt">&quot;zAppID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ThermalAnalysis&quot;</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="p">}</span>
</span></code></pre></div>
<p>Meanwhile, this is the output for the pay-per-use application, which has been purchased, installed, and is still in use.</p>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="p">{</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="w">   </span><span class="nt">&quot;CompanyID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZWEurope&quot;</span><span class="p">,</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">   </span><span class="nt">&quot;DecommissionTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;still in use&quot;</span><span class="p">,</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">   </span><span class="nt">&quot;FunctionalityIDs&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE,EVALUATION,GRAPHS,PREDICTION&quot;</span><span class="p">,</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">   </span><span class="nt">&quot;InstallTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CoolingTank_XG500K&quot;</span><span class="p">,</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">   </span><span class="nt">&quot;ProviderID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Provider1&quot;</span><span class="p">,</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PayPerUse&quot;</span><span class="p">,</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="w">   </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00&quot;</span><span class="p">,</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="w">   </span><span class="nt">&quot;zAppID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ThermalControl&quot;</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="p">}</span>
</span></code></pre></div>
<p>Finally, this is the output for the pay-per-period application, which has been purchased, activated, installed, and decomissioned.</p>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="p">{</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="w">   </span><span class="nt">&quot;zAppID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Thermal_Control_v0.2&quot;</span><span class="p">,</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">   </span><span class="nt">&quot;CompanyID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;IKERLAN&quot;</span><span class="p">,</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">   </span><span class="nt">&quot;ProviderID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;LocalProvider_01&quot;</span><span class="p">,</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PayPerPeriod&quot;</span><span class="p">,</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CoolingTank_125-01&quot;</span><span class="p">,</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="w">   </span><span class="nt">&quot;InstallTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="w">   </span><span class="nt">&quot;DecommissionTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;still in use&quot;</span><span class="p">,</span>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="w">   </span><span class="nt">&quot;ActivationTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="w">   </span><span class="nt">&quot;ExpirationTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-12-06 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="w">   </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00&quot;</span><span class="p">,</span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="w">   </span><span class="nt">&quot;SubscribedDays&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span>
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="p">}</span>
</span></code></pre></div>
<p>If unsuccessful, the API can return any of the following:</p>
<ul>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li><code>no records found for identifier: &lt;identifier&gt;</code>: The introduced SmartContractID does not exist.</li>
</ul>
<h5 id="8573-example">8.5.7.3. Example</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/getSmartContractMetaData<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;SmartContractID&quot;:&quot;ZDZW-API_ThermalAnalysis_ppv_1&quot;}&#39;</span>
</span></code></pre></div>
<h4 id="858-get-purchase-data-about-an-application">8.5.8. Get purchase data about an application</h4>
<p>This functionality provides information about the conditions under which a specific app was purchased. The endpoint for this action is <code>/getInitInfoSmartContractZapps</code></p>
<h5 id="8581-inputs">8.5.8.1. Inputs</h5>
<p>The input parameters for this endpoint are as follows:</p>
<ul>
<li><strong>SmartContractID:</strong> The Smart Contract identifier, a case-sensitive string. This parameter is created when the zApp is purchased.</li>
</ul>
<h5 id="8582-outputs">8.5.8.2. Outputs</h5>
<p>If succesful, the API will return:</p>
<ul>
<li><code>200 OK</code></li>
<li>A JSON containing the purchase information. For example, in the case of pay-per-volume:</li>
</ul>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="p">{</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unknown&quot;</span><span class="p">,</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">   </span><span class="nt">&quot;MaxUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">650</span><span class="p">,</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-29 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A&quot;</span><span class="p">,</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="w">   </span><span class="nt">&quot;SmartContractId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZW-API_3D_Visualization_v01.12b_ppv_1&quot;</span><span class="p">,</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="w">   </span><span class="nt">&quot;UserID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZW-API&quot;</span><span class="p">,</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="w">   </span><span class="nt">&quot;ZappID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3D_Visualization_v01.12b&quot;</span><span class="p">,</span>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="w">   </span><span class="nt">&quot;Info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-29 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;purchase&quot;</span><span class="p">,</span>
</span><span id="__span-26-14"><a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-04 07:28:15&quot;</span><span class="p">,</span>
</span><span id="__span-26-15"><a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="w">         </span><span class="nt">&quot;UsesLeft&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">650</span>
</span><span id="__span-26-16"><a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-26-17"><a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a><span class="w">   </span><span class="p">]</span>
</span><span id="__span-26-18"><a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>For example, in the case of pay-per-use:</li>
</ul>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="p">{</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="w">   </span><span class="nt">&quot;Functionalities&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE,EVALUATION,GRAPHS,PREDICTION&quot;</span><span class="p">,</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unknown&quot;</span><span class="p">,</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;B&quot;</span><span class="p">,</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="w">   </span><span class="nt">&quot;SmartContractId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZWEurope_ThermalControl_ppu_2&quot;</span><span class="p">,</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="w">   </span><span class="nt">&quot;UserID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZWEurope&quot;</span><span class="p">,</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="w">   </span><span class="nt">&quot;ZappID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ThermalControl&quot;</span><span class="p">,</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="w">   </span><span class="nt">&quot;Info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-27-13"><a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-27-14"><a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;purchase&quot;</span><span class="p">,</span>
</span><span id="__span-27-15"><a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-03 14:17:53&quot;</span><span class="p">,</span>
</span><span id="__span-27-16"><a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a><span class="w">         </span><span class="nt">&quot;UsesCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-27-17"><a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-27-18"><a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a><span class="w">   </span><span class="p">]</span>
</span><span id="__span-27-19"><a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>And in the case of pay-per-period:</li>
</ul>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="p">{</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="w">   </span><span class="nt">&quot;ActivationTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">   </span><span class="nt">&quot;ExpirationTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="w">   </span><span class="nt">&quot;Info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="w">         </span><span class="nt">&quot;AccumUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;purchase&quot;</span><span class="p">,</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-11-11 14:29:40 UTC&quot;</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="w">   </span><span class="p">],</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unknown&quot;</span><span class="p">,</span>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;C&quot;</span><span class="p">,</span>
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="w">   </span><span class="nt">&quot;SmartContractId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;IKERLAN_Thermal_Control_v0.2_ppp_1&quot;</span><span class="p">,</span>
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="w">   </span><span class="nt">&quot;SubscribedDays&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span>
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="w">   </span><span class="nt">&quot;UserID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;IKERLAN&quot;</span><span class="p">,</span>
</span><span id="__span-28-19"><a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="w">   </span><span class="nt">&quot;ZappID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Thermal_Control_v0.2&quot;</span>
</span><span id="__span-28-20"><a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="p">}</span>
</span></code></pre></div>
<p>If unsuccessful, the API can return any of the following:</p>
<ul>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li><code>no records found for identifier: &lt;identifier&gt;</code>: SmartContractID does not exist.</li>
</ul>
<h5 id="8583-example">8.5.8.3. Example</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/getInitInfoSmartContractZapps<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;SmartContractID&quot;:&quot;ZDZW-API_ThermalAnalysis_ppv_1&quot;}&#39;</span>
</span></code></pre></div>
<h4 id="859-get-installation-data-about-an-application">8.5.9. Get installation data about an application</h4>
<p>If the application is on-premise and has already been installed, this endpoint shows the installation data, including the machine on which the app was installed. The endpoint for this action is <code>/getInitInfo</code>.</p>
<h5 id="8591-inputs">8.5.9.1. Inputs</h5>
<ul>
<li><strong>SmartContractID:</strong> The Smart Contract identifier, a case-sensitive string. This parameter is created when the zApp is purchased.</li>
</ul>
<h5 id="8592-outputs">8.5.9.2. Outputs</h5>
<p>If succesful, the API will return:</p>
<ul>
<li><code>200 OK</code></li>
<li>A JSON containing the installation information. For example, in pay-per-use:</li>
</ul>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="p">{</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="s2">&quot;CoolingTank_125-23&quot;</span><span class="p">,</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">   </span><span class="nt">&quot;MaxUses&quot;</span><span class="p">:</span><span class="mi">500</span><span class="p">,</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="s2">&quot;A&quot;</span><span class="p">,</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">   </span><span class="nt">&quot;SmartContractID&quot;</span><span class="p">:</span><span class="s2">&quot;ZDZW-API_ThermalAnalysis_ppv_1&quot;</span><span class="p">,</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="w">   </span><span class="nt">&quot;UserID&quot;</span><span class="p">:</span><span class="s2">&quot;ZDZW-API&quot;</span><span class="p">,</span>
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="w">   </span><span class="nt">&quot;ZappID&quot;</span><span class="p">:</span><span class="s2">&quot;ThermalAnalysis&quot;</span><span class="p">,</span>
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="w">   </span><span class="nt">&quot;Info&quot;</span><span class="p">:[</span>
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-30-11"><a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-30-12"><a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="s2">&quot;2024-09-17 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-30-13"><a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="s2">&quot;installation&quot;</span><span class="p">,</span>
</span><span id="__span-30-14"><a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="s2">&quot;2024-09-25 06:34:09&quot;</span><span class="p">,</span>
</span><span id="__span-30-15"><a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a><span class="w">         </span><span class="nt">&quot;UsesLeft&quot;</span><span class="p">:</span><span class="mi">500</span>
</span><span id="__span-30-16"><a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-30-17"><a id="__codelineno-30-17" name="__codelineno-30-17" href="#__codelineno-30-17"></a><span class="w">   </span><span class="p">]</span>
</span><span id="__span-30-18"><a id="__codelineno-30-18" name="__codelineno-30-18" href="#__codelineno-30-18"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>And in pay-per-volume:</li>
</ul>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="p">{</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CoolingTank_XG500K&quot;</span><span class="p">,</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;B&quot;</span><span class="p">,</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="w">   </span><span class="nt">&quot;SmartContractId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZWEurope_ThermalControl_ppu_1&quot;</span><span class="p">,</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="w">   </span><span class="nt">&quot;UserID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZWEurope&quot;</span><span class="p">,</span>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="w">   </span><span class="nt">&quot;ZappID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ThermalControl&quot;</span><span class="p">,</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="w">   </span><span class="nt">&quot;Functionalities&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE,EVALUATION,GRAPHS,PREDICTION&quot;</span><span class="p">,</span>
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="w">   </span><span class="nt">&quot;Info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE,EVALUATION,GRAPHS,PREDICTION&quot;</span><span class="p">,</span>
</span><span id="__span-31-13"><a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-31-14"><a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;installation&quot;</span><span class="p">,</span>
</span><span id="__span-31-15"><a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-03 12:56:03&quot;</span><span class="p">,</span>
</span><span id="__span-31-16"><a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="w">         </span><span class="nt">&quot;UsesCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-31-17"><a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-31-18"><a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="w">   </span><span class="p">]</span>
</span><span id="__span-31-19"><a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>And in pay-per-period:</li>
</ul>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="p">{</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="w">  </span><span class="nt">&quot;ActivationTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="w">  </span><span class="nt">&quot;ExpirationTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-12-06 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="w">  </span><span class="nt">&quot;Info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="w">      </span><span class="nt">&quot;AccumUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="w">      </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="w">      </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-32-9"><a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="w">      </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;installation&quot;</span><span class="p">,</span>
</span><span id="__span-32-10"><a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="w">      </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-11-11 14:30:06 UTC&quot;</span>
</span><span id="__span-32-11"><a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-32-12"><a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="w">  </span><span class="p">],</span>
</span><span id="__span-32-13"><a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="w">  </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CoolingTank_125-01&quot;</span><span class="p">,</span>
</span><span id="__span-32-14"><a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a><span class="w">  </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-32-15"><a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a><span class="w">  </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;C&quot;</span><span class="p">,</span>
</span><span id="__span-32-16"><a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a><span class="w">  </span><span class="nt">&quot;SmartContractId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;IKERLAN_Thermal_Control_v0.2_ppp_1&quot;</span><span class="p">,</span>
</span><span id="__span-32-17"><a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a><span class="w">  </span><span class="nt">&quot;SubscribedDays&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span>
</span><span id="__span-32-18"><a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a><span class="w">  </span><span class="nt">&quot;UserID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;IKERLAN&quot;</span><span class="p">,</span>
</span><span id="__span-32-19"><a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a><span class="w">  </span><span class="nt">&quot;ZappID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Thermal_Control_v0.2&quot;</span>
</span><span id="__span-32-20"><a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a><span class="p">}</span>
</span></code></pre></div>
<p>If unsuccessful, the API can return any of the following:</p>
<ul>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li><code>app is on cloud, cannot be installed</code>: If the zApp is purchased to be on cloud, it cannot be installed.</li>
<li><code>app not installed yet</code>: The app was purchased to be installed on-premise, but this has not happened yet.</li>
<li><code>no records found for identifier: &lt;identifier&gt;</code>: SmartContractID does not exist.</li>
</ul>
<h5 id="8593-example">8.5.9.3. Example</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/getInitInfo<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;SmartContractID&quot;:&quot;ZDZW-API_ThermalAnalysis_ppv_1&quot;}&#39;</span>
</span></code></pre></div>
<h4 id="8510-get-usage-information-from-a-zapp-for-pay-per-volume-and-pay-per-period">8.5.10. Get usage information from a zApp (for Pay per Volume and Pay per Period)</h4>
<p>All information related to the use of an application can be retrieved. The endpoint for this action is <code>/getAllInfo</code>.</p>
<h5 id="85101-inputs">8.5.10.1. Inputs</h5>
<ul>
<li><strong>SmartContractID:</strong> The Smart Contract identifier, a case-sensitive string. This parameter is created when the zApp is purchased.</li>
<li><strong>InitTime:</strong> This parameter is <strong>optional</strong>, but the tag should be included, e.g., <code>"InitTime":""</code>. It allows to delimit the information's time range, defining the timestamp from which the information will be obtained. If not defined, it will return from the oldest stored data. It <em>must</em> be provided in UTC.</li>
<li><strong>EndTime:</strong> This parameter is <strong>optional</strong>, but the tag should be included, e.g., <code>"EndTime":""</code>; It allows to delimit the time range of information to be obtained, defining the timestamp limit from which you wish to obtain the information. It will return all the information until the newest input if it is not defined. It <em>must</em> be provided in UTC.</li>
</ul>
<h5 id="85102-outputs">8.5.10.2. Outputs</h5>
<p>If succesful, the API will return:</p>
<ul>
<li><code>200 OK</code></li>
<li>A JSON containing the usage information. For example for pay-per-volume:</li>
</ul>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="p">{</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CoolingTank_125-23&quot;</span><span class="p">,</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="w">   </span><span class="nt">&quot;MaxUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A&quot;</span><span class="p">,</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="w">   </span><span class="nt">&quot;SmartContractID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZW-API_ThermalAnalysis_ppv_1&quot;</span><span class="p">,</span>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="w">   </span><span class="nt">&quot;UserID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZW-API&quot;</span><span class="p">,</span>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="w">   </span><span class="nt">&quot;ZappID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ThermalAnalysis&quot;</span><span class="p">,</span>
</span><span id="__span-34-9"><a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="w">   </span><span class="nt">&quot;Info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-34-10"><a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-34-11"><a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-34-12"><a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-18 17:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-34-13"><a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;decommission&quot;</span><span class="p">,</span>
</span><span id="__span-34-14"><a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-25 06:36:46&quot;</span><span class="p">,</span>
</span><span id="__span-34-15"><a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a><span class="w">         </span><span class="nt">&quot;UsesLeft&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-989898</span>
</span><span id="__span-34-16"><a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-34-17"><a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-34-18"><a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 12:45:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-34-19"><a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 12:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-34-20"><a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;use&quot;</span><span class="p">,</span>
</span><span id="__span-34-21"><a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-25 06:35:44&quot;</span><span class="p">,</span>
</span><span id="__span-34-22"><a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a><span class="w">         </span><span class="nt">&quot;UsesLeft&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-34-23"><a id="__codelineno-34-23" name="__codelineno-34-23" href="#__codelineno-34-23"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-34-24"><a id="__codelineno-34-24" name="__codelineno-34-24" href="#__codelineno-34-24"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-34-25"><a id="__codelineno-34-25" name="__codelineno-34-25" href="#__codelineno-34-25"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-34-26"><a id="__codelineno-34-26" name="__codelineno-34-26" href="#__codelineno-34-26"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-34-27"><a id="__codelineno-34-27" name="__codelineno-34-27" href="#__codelineno-34-27"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;installation&quot;</span><span class="p">,</span>
</span><span id="__span-34-28"><a id="__codelineno-34-28" name="__codelineno-34-28" href="#__codelineno-34-28"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-25 06:34:09&quot;</span><span class="p">,</span>
</span><span id="__span-34-29"><a id="__codelineno-34-29" name="__codelineno-34-29" href="#__codelineno-34-29"></a><span class="w">         </span><span class="nt">&quot;UsesLeft&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span>
</span><span id="__span-34-30"><a id="__codelineno-34-30" name="__codelineno-34-30" href="#__codelineno-34-30"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-34-31"><a id="__codelineno-34-31" name="__codelineno-34-31" href="#__codelineno-34-31"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-34-32"><a id="__codelineno-34-32" name="__codelineno-34-32" href="#__codelineno-34-32"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-34-33"><a id="__codelineno-34-33" name="__codelineno-34-33" href="#__codelineno-34-33"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-34-34"><a id="__codelineno-34-34" name="__codelineno-34-34" href="#__codelineno-34-34"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;purchase&quot;</span><span class="p">,</span>
</span><span id="__span-34-35"><a id="__codelineno-34-35" name="__codelineno-34-35" href="#__codelineno-34-35"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-25 06:31:22&quot;</span><span class="p">,</span>
</span><span id="__span-34-36"><a id="__codelineno-34-36" name="__codelineno-34-36" href="#__codelineno-34-36"></a><span class="w">         </span><span class="nt">&quot;UsesLeft&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span>
</span><span id="__span-34-37"><a id="__codelineno-34-37" name="__codelineno-34-37" href="#__codelineno-34-37"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-34-38"><a id="__codelineno-34-38" name="__codelineno-34-38" href="#__codelineno-34-38"></a><span class="w">   </span><span class="p">]</span>
</span><span id="__span-34-39"><a id="__codelineno-34-39" name="__codelineno-34-39" href="#__codelineno-34-39"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>And for pay-per-period:</li>
</ul>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="p">{</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="w">   </span><span class="nt">&quot;ActivationTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-18 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">   </span><span class="nt">&quot;ExpirationTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-12-07 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;WingInspector_27&quot;</span><span class="p">,</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;C&quot;</span><span class="p">,</span>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">   </span><span class="nt">&quot;SmartContractId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZWAsia_Hardness_Inspector_v2.1X_ppp_1&quot;</span><span class="p">,</span>
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="w">   </span><span class="nt">&quot;SubscribedDays&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span>
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="w">   </span><span class="nt">&quot;UserID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZWAsia&quot;</span><span class="p">,</span>
</span><span id="__span-35-10"><a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="w">   </span><span class="nt">&quot;ZappID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Hardness_Inspector_v2.1X&quot;</span><span class="p">,</span>
</span><span id="__span-35-11"><a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="w">   </span><span class="nt">&quot;Info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-35-12"><a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-35-13"><a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="w">         </span><span class="nt">&quot;AccumUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">54</span><span class="p">,</span>
</span><span id="__span-35-14"><a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-35-15"><a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-27 17:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-35-16"><a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;decommission&quot;</span><span class="p">,</span>
</span><span id="__span-35-17"><a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-17 10:01:18 UTC&quot;</span>
</span><span id="__span-35-18"><a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-35-19"><a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-35-20"><a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a><span class="w">         </span><span class="nt">&quot;AccumUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">54</span><span class="p">,</span>
</span><span id="__span-35-21"><a id="__codelineno-35-21" name="__codelineno-35-21" href="#__codelineno-35-21"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-35-22"><a id="__codelineno-35-22" name="__codelineno-35-22" href="#__codelineno-35-22"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-26 17:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-35-23"><a id="__codelineno-35-23" name="__codelineno-35-23" href="#__codelineno-35-23"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;use&quot;</span><span class="p">,</span>
</span><span id="__span-35-24"><a id="__codelineno-35-24" name="__codelineno-35-24" href="#__codelineno-35-24"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-17 10:01:12 UTC&quot;</span>
</span><span id="__span-35-25"><a id="__codelineno-35-25" name="__codelineno-35-25" href="#__codelineno-35-25"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-35-26"><a id="__codelineno-35-26" name="__codelineno-35-26" href="#__codelineno-35-26"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-35-27"><a id="__codelineno-35-27" name="__codelineno-35-27" href="#__codelineno-35-27"></a><span class="w">         </span><span class="nt">&quot;AccumUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span>
</span><span id="__span-35-28"><a id="__codelineno-35-28" name="__codelineno-35-28" href="#__codelineno-35-28"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-35-29"><a id="__codelineno-35-29" name="__codelineno-35-29" href="#__codelineno-35-29"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-24 11:50:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-35-30"><a id="__codelineno-35-30" name="__codelineno-35-30" href="#__codelineno-35-30"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;use&quot;</span><span class="p">,</span>
</span><span id="__span-35-31"><a id="__codelineno-35-31" name="__codelineno-35-31" href="#__codelineno-35-31"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-17 10:01:08 UTC&quot;</span>
</span><span id="__span-35-32"><a id="__codelineno-35-32" name="__codelineno-35-32" href="#__codelineno-35-32"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-35-33"><a id="__codelineno-35-33" name="__codelineno-35-33" href="#__codelineno-35-33"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-35-34"><a id="__codelineno-35-34" name="__codelineno-35-34" href="#__codelineno-35-34"></a><span class="w">         </span><span class="nt">&quot;AccumUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
</span><span id="__span-35-35"><a id="__codelineno-35-35" name="__codelineno-35-35" href="#__codelineno-35-35"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-35-36"><a id="__codelineno-35-36" name="__codelineno-35-36" href="#__codelineno-35-36"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-19 16:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-35-37"><a id="__codelineno-35-37" name="__codelineno-35-37" href="#__codelineno-35-37"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;use&quot;</span><span class="p">,</span>
</span><span id="__span-35-38"><a id="__codelineno-35-38" name="__codelineno-35-38" href="#__codelineno-35-38"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-17 10:01:03 UTC&quot;</span>
</span><span id="__span-35-39"><a id="__codelineno-35-39" name="__codelineno-35-39" href="#__codelineno-35-39"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-35-40"><a id="__codelineno-35-40" name="__codelineno-35-40" href="#__codelineno-35-40"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-35-41"><a id="__codelineno-35-41" name="__codelineno-35-41" href="#__codelineno-35-41"></a><span class="w">         </span><span class="nt">&quot;AccumUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span>
</span><span id="__span-35-42"><a id="__codelineno-35-42" name="__codelineno-35-42" href="#__codelineno-35-42"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-19 12:45:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-35-43"><a id="__codelineno-35-43" name="__codelineno-35-43" href="#__codelineno-35-43"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-19 12:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-35-44"><a id="__codelineno-35-44" name="__codelineno-35-44" href="#__codelineno-35-44"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;use&quot;</span><span class="p">,</span>
</span><span id="__span-35-45"><a id="__codelineno-35-45" name="__codelineno-35-45" href="#__codelineno-35-45"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-17 10:00:55 UTC&quot;</span>
</span><span id="__span-35-46"><a id="__codelineno-35-46" name="__codelineno-35-46" href="#__codelineno-35-46"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-35-47"><a id="__codelineno-35-47" name="__codelineno-35-47" href="#__codelineno-35-47"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-35-48"><a id="__codelineno-35-48" name="__codelineno-35-48" href="#__codelineno-35-48"></a><span class="w">         </span><span class="nt">&quot;AccumUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-35-49"><a id="__codelineno-35-49" name="__codelineno-35-49" href="#__codelineno-35-49"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-35-50"><a id="__codelineno-35-50" name="__codelineno-35-50" href="#__codelineno-35-50"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-18 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-35-51"><a id="__codelineno-35-51" name="__codelineno-35-51" href="#__codelineno-35-51"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;installation&quot;</span><span class="p">,</span>
</span><span id="__span-35-52"><a id="__codelineno-35-52" name="__codelineno-35-52" href="#__codelineno-35-52"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-17 09:59:45 UTC&quot;</span>
</span><span id="__span-35-53"><a id="__codelineno-35-53" name="__codelineno-35-53" href="#__codelineno-35-53"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-35-54"><a id="__codelineno-35-54" name="__codelineno-35-54" href="#__codelineno-35-54"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-35-55"><a id="__codelineno-35-55" name="__codelineno-35-55" href="#__codelineno-35-55"></a><span class="w">         </span><span class="nt">&quot;AccumUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-35-56"><a id="__codelineno-35-56" name="__codelineno-35-56" href="#__codelineno-35-56"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-12-07 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-35-57"><a id="__codelineno-35-57" name="__codelineno-35-57" href="#__codelineno-35-57"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-18 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-35-58"><a id="__codelineno-35-58" name="__codelineno-35-58" href="#__codelineno-35-58"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;activation&quot;</span><span class="p">,</span>
</span><span id="__span-35-59"><a id="__codelineno-35-59" name="__codelineno-35-59" href="#__codelineno-35-59"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-16 13:56:56 UTC&quot;</span>
</span><span id="__span-35-60"><a id="__codelineno-35-60" name="__codelineno-35-60" href="#__codelineno-35-60"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-35-61"><a id="__codelineno-35-61" name="__codelineno-35-61" href="#__codelineno-35-61"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-35-62"><a id="__codelineno-35-62" name="__codelineno-35-62" href="#__codelineno-35-62"></a><span class="w">         </span><span class="nt">&quot;AccumUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-35-63"><a id="__codelineno-35-63" name="__codelineno-35-63" href="#__codelineno-35-63"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-35-64"><a id="__codelineno-35-64" name="__codelineno-35-64" href="#__codelineno-35-64"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-35-65"><a id="__codelineno-35-65" name="__codelineno-35-65" href="#__codelineno-35-65"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;purchase&quot;</span><span class="p">,</span>
</span><span id="__span-35-66"><a id="__codelineno-35-66" name="__codelineno-35-66" href="#__codelineno-35-66"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-16 13:49:51 UTC&quot;</span>
</span><span id="__span-35-67"><a id="__codelineno-35-67" name="__codelineno-35-67" href="#__codelineno-35-67"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-35-68"><a id="__codelineno-35-68" name="__codelineno-35-68" href="#__codelineno-35-68"></a><span class="w">   </span><span class="p">]</span>
</span><span id="__span-35-69"><a id="__codelineno-35-69" name="__codelineno-35-69" href="#__codelineno-35-69"></a><span class="p">}</span>
</span></code></pre></div>
<p>If unsuccessful, the API can return any of the following:</p>
<ul>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li><code>no records found for identifier: &lt;SmartContractID&gt;"</code>: SmartContractID was not found. This can happen when calling a SmartContractID that does not exist.</li>
<li><code>this endpoint cannot be used for pay per use</code>: SmartContractID was identified as pay-per-use; thus, this endpoint cannot be used.</li>
<li><code>no smart contract found for SCType: &lt;payType&gt;</code>: SCType are either <code>A</code>, <code>B</code> or <code>C</code>. Anything else will throw an error.</li>
</ul>
<h5 id="85103-example">8.5.10.3. Example</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/getAllInfo<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;SmartContractID&quot;:&quot;ZDZW-API_ThermalAnalysis_ppv_1&quot;, &quot;InitTime&quot;:&quot;&quot;, &quot;EndTime&quot;:&quot;&quot;}&#39;</span>
</span></code></pre></div>
<h4 id="8511-get-functionality-usage-information-from-a-zapp-only-for-pay-per-use">8.5.11. Get functionality usage information from a zApp (only for Pay per Use)</h4>
<p>All information related to the use of an application functionality can be retrieved. The endpoint for this action is <code>/getAllInfoFunctionality</code>.</p>
<h5 id="85111-inputs">8.5.11.1. Inputs</h5>
<ul>
<li><strong>SmartContractID:</strong> The Smart Contract identifier, a case-sensitive string. This parameter is created when the zApp is purchased.</li>
<li><strong>InitTime:</strong> This parameter is <strong>optional</strong>, but the tag should be included, e.g., <code>"InitTime":""</code>. It allows to delimit the information's time range, defining the timestamp from which the information will be obtained. If not defined, it will return from the oldest stored data. It <em>must</em> be provided in UTC.</li>
<li><strong>EndTime:</strong> This parameter is <strong>optional</strong>, but the tag should be included, e.g., <code>"EndTime":""</code>; It allows to delimit the time range of information to be obtained, defining the timestamp limit from which you wish to obtain the information. It will return all the information until the newest input if it is not defined. It <em>must</em> be provided in UTC.</li>
<li><strong>FunctionalityName:</strong> A string identifying a <em>single</em> functionality. Mandatory.</li>
</ul>
<h5 id="85112-outputs">8.5.11.2. Outputs</h5>
<p>If succesful, the API will return:</p>
<ul>
<li><code>200 OK</code></li>
<li>A JSON containing the usage information. For example:</li>
</ul>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="p">{</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="w">   </span><span class="nt">&quot;Functionalities&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE,EVALUATION,GRAPHS,PREDICTION&quot;</span><span class="p">,</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CoolingTank_XG500K&quot;</span><span class="p">,</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;B&quot;</span><span class="p">,</span>
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="w">   </span><span class="nt">&quot;SmartContractId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZWEurope_ThermalControl_ppu_2&quot;</span><span class="p">,</span>
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="w">   </span><span class="nt">&quot;UserID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZWEurope&quot;</span><span class="p">,</span>
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="w">   </span><span class="nt">&quot;ZappID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ThermalControl&quot;</span><span class="p">,</span>
</span><span id="__span-37-9"><a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="w">   </span><span class="nt">&quot;Info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-37-10"><a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-37-11"><a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-37-12"><a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE&quot;</span><span class="p">,</span>
</span><span id="__span-37-13"><a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 16:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-37-14"><a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;use&quot;</span><span class="p">,</span>
</span><span id="__span-37-15"><a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-03 14:18:40&quot;</span><span class="p">,</span>
</span><span id="__span-37-16"><a id="__codelineno-37-16" name="__codelineno-37-16" href="#__codelineno-37-16"></a><span class="w">         </span><span class="nt">&quot;UsesCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span>
</span><span id="__span-37-17"><a id="__codelineno-37-17" name="__codelineno-37-17" href="#__codelineno-37-17"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-37-18"><a id="__codelineno-37-18" name="__codelineno-37-18" href="#__codelineno-37-18"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-37-19"><a id="__codelineno-37-19" name="__codelineno-37-19" href="#__codelineno-37-19"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 12:45:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-37-20"><a id="__codelineno-37-20" name="__codelineno-37-20" href="#__codelineno-37-20"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE&quot;</span><span class="p">,</span>
</span><span id="__span-37-21"><a id="__codelineno-37-21" name="__codelineno-37-21" href="#__codelineno-37-21"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 12:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-37-22"><a id="__codelineno-37-22" name="__codelineno-37-22" href="#__codelineno-37-22"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;use&quot;</span><span class="p">,</span>
</span><span id="__span-37-23"><a id="__codelineno-37-23" name="__codelineno-37-23" href="#__codelineno-37-23"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-03 14:18:16&quot;</span><span class="p">,</span>
</span><span id="__span-37-24"><a id="__codelineno-37-24" name="__codelineno-37-24" href="#__codelineno-37-24"></a><span class="w">         </span><span class="nt">&quot;UsesCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span>
</span><span id="__span-37-25"><a id="__codelineno-37-25" name="__codelineno-37-25" href="#__codelineno-37-25"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-37-26"><a id="__codelineno-37-26" name="__codelineno-37-26" href="#__codelineno-37-26"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-37-27"><a id="__codelineno-37-27" name="__codelineno-37-27" href="#__codelineno-37-27"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-37-28"><a id="__codelineno-37-28" name="__codelineno-37-28" href="#__codelineno-37-28"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE,EVALUATION,GRAPHS,PREDICTION&quot;</span><span class="p">,</span>
</span><span id="__span-37-29"><a id="__codelineno-37-29" name="__codelineno-37-29" href="#__codelineno-37-29"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 10:30:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-37-30"><a id="__codelineno-37-30" name="__codelineno-37-30" href="#__codelineno-37-30"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;installation&quot;</span><span class="p">,</span>
</span><span id="__span-37-31"><a id="__codelineno-37-31" name="__codelineno-37-31" href="#__codelineno-37-31"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-03 14:18:10&quot;</span><span class="p">,</span>
</span><span id="__span-37-32"><a id="__codelineno-37-32" name="__codelineno-37-32" href="#__codelineno-37-32"></a><span class="w">         </span><span class="nt">&quot;UsesCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-37-33"><a id="__codelineno-37-33" name="__codelineno-37-33" href="#__codelineno-37-33"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-37-34"><a id="__codelineno-37-34" name="__codelineno-37-34" href="#__codelineno-37-34"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-37-35"><a id="__codelineno-37-35" name="__codelineno-37-35" href="#__codelineno-37-35"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-37-36"><a id="__codelineno-37-36" name="__codelineno-37-36" href="#__codelineno-37-36"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE,EVALUATION,GRAPHS,PREDICTION&quot;</span><span class="p">,</span>
</span><span id="__span-37-37"><a id="__codelineno-37-37" name="__codelineno-37-37" href="#__codelineno-37-37"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-37-38"><a id="__codelineno-37-38" name="__codelineno-37-38" href="#__codelineno-37-38"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;purchase&quot;</span><span class="p">,</span>
</span><span id="__span-37-39"><a id="__codelineno-37-39" name="__codelineno-37-39" href="#__codelineno-37-39"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-03 14:17:53&quot;</span><span class="p">,</span>
</span><span id="__span-37-40"><a id="__codelineno-37-40" name="__codelineno-37-40" href="#__codelineno-37-40"></a><span class="w">         </span><span class="nt">&quot;UsesCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-37-41"><a id="__codelineno-37-41" name="__codelineno-37-41" href="#__codelineno-37-41"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-37-42"><a id="__codelineno-37-42" name="__codelineno-37-42" href="#__codelineno-37-42"></a><span class="w">   </span><span class="p">]</span>
</span><span id="__span-37-43"><a id="__codelineno-37-43" name="__codelineno-37-43" href="#__codelineno-37-43"></a><span class="p">}</span>
</span></code></pre></div>
<p>If unsuccessful, the API can return any of the following:</p>
<ul>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li><code>functionality is required</code>: FunctionalityName is a mandatory input.</li>
<li><code>only one functionality is allowed</code>: More than one functionality has been loaded in <code>FunctionalityName</code>.</li>
<li><code>no records found for identifier: &lt;SmartContractID&gt;"</code>: SmartContractID was not found. This can happen when calling a SmartContractID that does not exist.</li>
<li><code>this endpoint is only for pay per use</code>: tried to use this endpoint with a SmartContractID that is not pay-per-use.</li>
<li><code>functionality &lt;FunctionalityName&gt; not purchased or available for SmartContractID: &lt;SmartContractID&gt;</code>: Tried to load uses for a functionality not purchased.</li>
</ul>
<h5 id="85113-example">8.5.11.3. Example</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/getAllInfoFunctionality<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;SmartContractID&quot;:&quot;ZDZWEurope_ThermalControl_ppu_2&quot;, &quot;InitTime&quot;:&quot;&quot;, &quot;EndTime&quot;:&quot;&quot;, &quot;FunctionalityName&quot;:&quot;measure&quot;}&#39;</span>
</span></code></pre></div>
<h4 id="8512-get-the-last-usage-status-from-a-zapp">8.5.12. Get the last usage status from a zApp</h4>
<p>This endpoint provides information about the last registered state of an app. The API endpoint for this action is <code>/getUserInfo</code>.</p>
<h5 id="85121-inputs">8.5.12.1. Inputs</h5>
<ul>
<li><strong>SmartContractID:</strong> The Smart Contract identifier, a case-sensitive string. This parameter is created when the zApp is purchased.</li>
</ul>
<h5 id="85122-outputs">8.5.12.2. Outputs</h5>
<p>If succesful, the API will return:</p>
<ul>
<li><code>200 OK</code></li>
<li>A JSON containing the last transaction related to said SmartContractID. For example:</li>
</ul>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="p">{</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unknown&quot;</span><span class="p">,</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">   </span><span class="nt">&quot;MaxUses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A&quot;</span><span class="p">,</span>
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="w">   </span><span class="nt">&quot;SmartContractID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZW-API_ThermalAnalysis_ppv_1&quot;</span><span class="p">,</span>
</span><span id="__span-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="w">   </span><span class="nt">&quot;UserID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZW-API&quot;</span><span class="p">,</span>
</span><span id="__span-39-8"><a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="w">   </span><span class="nt">&quot;ZappID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ThermalAnalysis&quot;</span><span class="p">,</span>
</span><span id="__span-39-9"><a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="w">   </span><span class="nt">&quot;Info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-39-10"><a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-39-11"><a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-39-12"><a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-18 17:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-39-13"><a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;decommission&quot;</span><span class="p">,</span>
</span><span id="__span-39-14"><a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-25 06:36:46&quot;</span><span class="p">,</span>
</span><span id="__span-39-15"><a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a><span class="w">         </span><span class="nt">&quot;UsesLeft&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-989898</span>
</span><span id="__span-39-16"><a id="__codelineno-39-16" name="__codelineno-39-16" href="#__codelineno-39-16"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-39-17"><a id="__codelineno-39-17" name="__codelineno-39-17" href="#__codelineno-39-17"></a><span class="w">   </span><span class="p">]</span>
</span><span id="__span-39-18"><a id="__codelineno-39-18" name="__codelineno-39-18" href="#__codelineno-39-18"></a><span class="p">}</span>
</span></code></pre></div>
<p>If unsuccessful, the API can return any of the following:</p>
<ul>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li><code>this endpoint is only for pay per volume</code>: The endpoint is being called for a SmartContractID that is not pay-per-volume.</li>
</ul>
<h5 id="85123-example">8.5.12.3. Example</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/getUserInfo<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;SmartContractID&quot;:&quot;ZDZW-API_ThermalAnalysis_ppv_1&quot;}&#39;</span>
</span></code></pre></div>
<h4 id="8513-get-the-accumulated-uses-for-a-functionality-of-zapp-for-pay-per-use">8.5.13. Get the accumulated uses for a functionality of zApp (for Pay per Use)</h4>
<p>This function provides information on the accumulated uses for a given functionality in a given period of time. The endpoint for this action is <code>/getPeriodFunctionality</code>.</p>
<h5 id="85131-input">8.5.13.1. Input</h5>
<ul>
<li><strong>SmartContractID:</strong> The Smart Contract identifier, a case-sensitive string. This parameter is created when the zApp is purchased.</li>
<li><strong>FunctionalityName:</strong> A string identifying a <em>single</em> functionality.</li>
<li><strong>InitTime:</strong> This parameter is <strong>optional</strong>, but the tag should be included, e.g., <code>"InitTime":""</code>. This parameter allows you to specify a starting point to delimit the time range of the data to be retrieved. Only data whose timestamp is after the defined date will be retrieved. For example, if a start date of <code>2024-05-24 12:00:00</code> is set, data from <code>2024-05-24 12:00:01</code>onwards will be retrieved, <em>excluding data dated on or before</em> <code>2024-05-24 12:00:00</code>. The oldest available data will be returned if no start date is provided. The date <em>must</em> be provided in UTC.</li>
<li><strong>EndTime:</strong> This parameter is <strong>optional</strong>, but the tag should be included, e.g., <code>"EndTime":""</code>. This parameter allows you to delimit the time range of the data to be retrieved, establishing the limit to which you wish to obtain the information. Only data whose timestamp is before the defined date will be retrieved. For example, if an EndTime of <code>2023-01-01 00:00:00</code> is set, data up to <code>2022-12-31 23:59:59</code> will be retrieved, <em>excluding data with a date equal to or after</em> <code>2023-01-01 00:00:00</code>. Data up to the most recent entry shall be returned if not defined. The date <em>must</em> be provided in UTC.</li>
</ul>
<h5 id="85132-outputs">8.5.13.2. Outputs</h5>
<p>If succesful, the API will return:</p>
<ul>
<li><code>200 OK</code></li>
<li>A JSON containing the purchase information. For example:</li>
</ul>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="p">{</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="w">   </span><span class="nt">&quot;Functionalities&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MEASURE,EVALUATION,GRAPHS,PREDICTION&quot;</span><span class="p">,</span>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="w">   </span><span class="nt">&quot;MachineID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CoolingTank_XG500K&quot;</span><span class="p">,</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">   </span><span class="nt">&quot;PurchaseTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="w">   </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;B&quot;</span><span class="p">,</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="w">   </span><span class="nt">&quot;SmartContractId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZWEurope_ThermalControl_ppu_2&quot;</span><span class="p">,</span>
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="w">   </span><span class="nt">&quot;UserID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ZDZWEurope&quot;</span><span class="p">,</span>
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="w">   </span><span class="nt">&quot;ZappID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ThermalControl&quot;</span><span class="p">,</span>
</span><span id="__span-41-9"><a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="w">   </span><span class="nt">&quot;Info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-41-10"><a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-41-11"><a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="w">         </span><span class="nt">&quot;EndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 08:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-41-12"><a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="w">         </span><span class="nt">&quot;FunctionalityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GRAPHS&quot;</span><span class="p">,</span>
</span><span id="__span-41-13"><a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a><span class="w">         </span><span class="nt">&quot;InitTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-17 17:00:00 UTC&quot;</span><span class="p">,</span>
</span><span id="__span-41-14"><a id="__codelineno-41-14" name="__codelineno-41-14" href="#__codelineno-41-14"></a><span class="w">         </span><span class="nt">&quot;Operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-41-15"><a id="__codelineno-41-15" name="__codelineno-41-15" href="#__codelineno-41-15"></a><span class="w">         </span><span class="nt">&quot;TransTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-41-16"><a id="__codelineno-41-16" name="__codelineno-41-16" href="#__codelineno-41-16"></a><span class="w">         </span><span class="nt">&quot;UsesCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span>
</span><span id="__span-41-17"><a id="__codelineno-41-17" name="__codelineno-41-17" href="#__codelineno-41-17"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-41-18"><a id="__codelineno-41-18" name="__codelineno-41-18" href="#__codelineno-41-18"></a><span class="w">   </span><span class="p">]</span>
</span><span id="__span-41-19"><a id="__codelineno-41-19" name="__codelineno-41-19" href="#__codelineno-41-19"></a><span class="p">}</span>
</span></code></pre></div>
<p>If unsuccessful, the API can return any of the following:</p>
<ul>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li><code>functionality is required</code>: FunctionalityName is a mandatory input.</li>
<li><code>only one functionality is allowed</code>: More than one functionality has been loaded in <code>FunctionalityName</code>.</li>
<li><code>no records found for identifier: &lt;SmartContractID&gt;"</code>: SmartContractID was not found. This can happen when calling a SmartContractID that does not exist.</li>
<li><code>this endpoint is only for pay per use</code>: tried to use this endpoint with a SmartContractID that is not pay-per-use.</li>
<li><code>functionality &lt;FunctionalityName&gt; not purchased or available for SmartContractID: &lt;SmartContractID&gt;</code>: Tried to load uses for a functionality not purchased.</li>
</ul>
<h5 id="85133-example">8.5.13.3. Example</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/getUserInfo<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;SmartContractID&quot;:&quot;Ikerlan_Thermal_Analysis_v3_ppv_1&quot;, &quot;InitTime&quot;:&quot;2024-05-24 12:01:33&quot;, &quot;EndTime&quot;:&quot;2024-05-27 12:01:33&quot;}&#39;</span>
</span></code></pre></div>
<h4 id="8514-get-all-the-smart-contract-a-company-owns-for-a-specific-zapp">8.5.14. Get all the Smart Contract a Company owns for a specific zApp</h4>
<p>This function provides a list of all the Smart Contracts owned by a company for a specific zApp. The endpoint for this action is <code>/getCompanyAppIDs</code>.</p>
<h5 id="85141-inputs">8.5.14.1. Inputs</h5>
<ul>
<li><strong>ZAppID:</strong> The zApp identifier, a case-sensitive string.</li>
<li><strong>UserID:</strong> The User identifier (i.e., the company that buys the zApp), a case-sensitive string.</li>
</ul>
<h5 id="85142-outputs">8.5.14.2. Outputs</h5>
<p>If succesful, the API will return:</p>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="p">{</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="w">    </span><span class="nt">&quot;List&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="w">            </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PayPerVolume&quot;</span><span class="p">,</span>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="w">            </span><span class="nt">&quot;SmartContractID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CompanyA_VisualInspector_ppv_2&quot;</span><span class="p">,</span>
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="w">            </span><span class="nt">&quot;Status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Blocked&quot;</span><span class="p">,</span>
</span><span id="__span-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="w">            </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00&quot;</span>
</span><span id="__span-43-8"><a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-43-9"><a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-43-10"><a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a><span class="w">            </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PayPerVolume&quot;</span><span class="p">,</span>
</span><span id="__span-43-11"><a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a><span class="w">            </span><span class="nt">&quot;SmartContractID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CompanyA_VisualInspector_ppv_1&quot;</span><span class="p">,</span>
</span><span id="__span-43-12"><a id="__codelineno-43-12" name="__codelineno-43-12" href="#__codelineno-43-12"></a><span class="w">            </span><span class="nt">&quot;Status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Active&quot;</span><span class="p">,</span>
</span><span id="__span-43-13"><a id="__codelineno-43-13" name="__codelineno-43-13" href="#__codelineno-43-13"></a><span class="w">            </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00&quot;</span>
</span><span id="__span-43-14"><a id="__codelineno-43-14" name="__codelineno-43-14" href="#__codelineno-43-14"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-43-15"><a id="__codelineno-43-15" name="__codelineno-43-15" href="#__codelineno-43-15"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-43-16"><a id="__codelineno-43-16" name="__codelineno-43-16" href="#__codelineno-43-16"></a><span class="w">            </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PayPerVolume&quot;</span><span class="p">,</span>
</span><span id="__span-43-17"><a id="__codelineno-43-17" name="__codelineno-43-17" href="#__codelineno-43-17"></a><span class="w">            </span><span class="nt">&quot;SmartContractID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CompanyA_VisualInspector_ppu_1&quot;</span><span class="p">,</span>
</span><span id="__span-43-18"><a id="__codelineno-43-18" name="__codelineno-43-18" href="#__codelineno-43-18"></a><span class="w">            </span><span class="nt">&quot;Status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Blocked&quot;</span><span class="p">,</span>
</span><span id="__span-43-19"><a id="__codelineno-43-19" name="__codelineno-43-19" href="#__codelineno-43-19"></a><span class="w">            </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00&quot;</span>
</span><span id="__span-43-20"><a id="__codelineno-43-20" name="__codelineno-43-20" href="#__codelineno-43-20"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-43-21"><a id="__codelineno-43-21" name="__codelineno-43-21" href="#__codelineno-43-21"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-43-22"><a id="__codelineno-43-22" name="__codelineno-43-22" href="#__codelineno-43-22"></a><span class="w">            </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PayPerPeriod&quot;</span><span class="p">,</span>
</span><span id="__span-43-23"><a id="__codelineno-43-23" name="__codelineno-43-23" href="#__codelineno-43-23"></a><span class="w">            </span><span class="nt">&quot;SmartContractID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CompanyA_VisualInspector_ppp_3&quot;</span><span class="p">,</span>
</span><span id="__span-43-24"><a id="__codelineno-43-24" name="__codelineno-43-24" href="#__codelineno-43-24"></a><span class="w">            </span><span class="nt">&quot;Status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Active&quot;</span><span class="p">,</span>
</span><span id="__span-43-25"><a id="__codelineno-43-25" name="__codelineno-43-25" href="#__codelineno-43-25"></a><span class="w">            </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00&quot;</span>
</span><span id="__span-43-26"><a id="__codelineno-43-26" name="__codelineno-43-26" href="#__codelineno-43-26"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-43-27"><a id="__codelineno-43-27" name="__codelineno-43-27" href="#__codelineno-43-27"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-43-28"><a id="__codelineno-43-28" name="__codelineno-43-28" href="#__codelineno-43-28"></a><span class="w">            </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PayPerPeriod&quot;</span><span class="p">,</span>
</span><span id="__span-43-29"><a id="__codelineno-43-29" name="__codelineno-43-29" href="#__codelineno-43-29"></a><span class="w">            </span><span class="nt">&quot;SmartContractID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CompanyA_VisualInspector_ppp_1&quot;</span><span class="p">,</span>
</span><span id="__span-43-30"><a id="__codelineno-43-30" name="__codelineno-43-30" href="#__codelineno-43-30"></a><span class="w">            </span><span class="nt">&quot;Status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Active&quot;</span><span class="p">,</span>
</span><span id="__span-43-31"><a id="__codelineno-43-31" name="__codelineno-43-31" href="#__codelineno-43-31"></a><span class="w">            </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00&quot;</span>
</span><span id="__span-43-32"><a id="__codelineno-43-32" name="__codelineno-43-32" href="#__codelineno-43-32"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-43-33"><a id="__codelineno-43-33" name="__codelineno-43-33" href="#__codelineno-43-33"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-43-34"><a id="__codelineno-43-34" name="__codelineno-43-34" href="#__codelineno-43-34"></a><span class="w">            </span><span class="nt">&quot;SCType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PayPerPeriod&quot;</span><span class="p">,</span>
</span><span id="__span-43-35"><a id="__codelineno-43-35" name="__codelineno-43-35" href="#__codelineno-43-35"></a><span class="w">            </span><span class="nt">&quot;SmartContractID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CompanyA_VisualInspector_ppp_2&quot;</span><span class="p">,</span>
</span><span id="__span-43-36"><a id="__codelineno-43-36" name="__codelineno-43-36" href="#__codelineno-43-36"></a><span class="w">            </span><span class="nt">&quot;Status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Active&quot;</span><span class="p">,</span>
</span><span id="__span-43-37"><a id="__codelineno-43-37" name="__codelineno-43-37" href="#__codelineno-43-37"></a><span class="w">            </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00&quot;</span>
</span><span id="__span-43-38"><a id="__codelineno-43-38" name="__codelineno-43-38" href="#__codelineno-43-38"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-43-39"><a id="__codelineno-43-39" name="__codelineno-43-39" href="#__codelineno-43-39"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-43-40"><a id="__codelineno-43-40" name="__codelineno-43-40" href="#__codelineno-43-40"></a><span class="p">}</span>
</span></code></pre></div>
<p>If unsuccessful, the API can return any of the following:</p>
<ul>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li><code>no records found for identifier: &lt;SmartContractID&gt;</code>: SmartContractID was not found. This can happen when calling a SmartContractID that does not exist.</li>
</ul>
<h5 id="85143-example">8.5.14.3. Example</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/getCompanyAppIDs<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;UserID&quot;:&quot;CompanyA&quot;, &quot;ZAppID&quot;:&quot;VisualInspector&quot;}&#39;</span>
</span></code></pre></div>
<h4 id="8515-get-all-the-versions-for-a-specific-smartcontract">8.5.15. Get all the versions for a specific SmartContract</h4>
<p>This function provides a list of all the Smart Contracts owned by a company for a specific zApp. The endpoint for this action is <code>/getContractVersions</code>.</p>
<h5 id="85151-inputs">8.5.15.1. Inputs</h5>
<ul>
<li><strong>SmartContractID:</strong> The Smart Contract identifier, a case-sensitive string. This parameter is created when the zApp is purchased.</li>
</ul>
<h5 id="85152-outputs">8.5.15.2. Outputs</h5>
<p>If succesful, the API will return:</p>
<div class="language-JSON highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="p">{</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="w">   </span><span class="nt">&quot;List&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="w">         </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;02&quot;</span><span class="p">,</span>
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="w">         </span><span class="nt">&quot;VersionTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-03-31 09:00:00 UTC&quot;</span>
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-45-8"><a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="w">         </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;01&quot;</span><span class="p">,</span>
</span><span id="__span-45-9"><a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="w">         </span><span class="nt">&quot;VersionTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-03-21 09:00:00 UTC&quot;</span>
</span><span id="__span-45-10"><a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-45-11"><a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-45-12"><a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a><span class="w">         </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00&quot;</span><span class="p">,</span>
</span><span id="__span-45-13"><a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a><span class="w">         </span><span class="nt">&quot;VersionTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-02-21 09:00:00 UTC&quot;</span>
</span><span id="__span-45-14"><a id="__codelineno-45-14" name="__codelineno-45-14" href="#__codelineno-45-14"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-45-15"><a id="__codelineno-45-15" name="__codelineno-45-15" href="#__codelineno-45-15"></a><span class="w">   </span><span class="p">]</span>
</span><span id="__span-45-16"><a id="__codelineno-45-16" name="__codelineno-45-16" href="#__codelineno-45-16"></a><span class="p">}</span>
</span></code></pre></div>
<p>If unsuccessful, the API can return any of the following:</p>
<ul>
<li><code>400</code>: The input data does not have the correct format.</li>
<li><code>500</code>: The API has failed.</li>
<li><code>no records found for identifier: &lt;SmartContractID&gt;</code>: SmartContractID was not found. This can happen when calling a SmartContractID that does not exist.</li>
</ul>
<h5 id="85153-example">8.5.15.3. Example</h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>curl<span class="w"> </span>https://api.zdzw-blockchain.com/getContractVersions<span class="w"> </span>--include<span class="w"> </span>--header<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span>--request<span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="w"> </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;SmartContractID&quot;:&quot;VisualInspector&quot;}&#39;</span>
</span></code></pre></div>
<h2 id="9-additional-material">9. Additional Material</h2>
<h3 id="91-additional-learning-material">9.1. Additional Learning Material</h3>
<p>HyperLedged Fabric <a href="https://www.hyperledger.org/projects/fabric">https://www.hyperledger.org/projects/fabric</a></p>
<p>Amazon Managed Blockchain <a href="https://aws.amazon.com/es/managed-blockchain/">https://aws.amazon.com/es/managed-blockchain/</a></p>
<h3 id="92-anexes">9.2. Anexes</h3>
<p>Amazon Managed Blockchain Deployment <a href="https://github.com/zdzw-eu/UsageTraceability/blob/main/docs/annex/ZDZW_AmazonManagedBlockhainDeployment_ANNEX.pdf">https://github.com/zdzw-eu/UsageTraceability/blob/main/docs/annex/ZDZW_AmazonManagedBlockhainDeployment_ANNEX.pdf</a>
Blockchain Selection Analysis <a href="https://github.com/zdzw-eu/Usage-Traceability/blob/main/docs/annex/ZDZW-Blockchain_Justification.pdf">https://github.com/zdzw-eu/Usage-Traceability/blob/main/docs/annex/ZDZW-Blockchain_Justification.pdf</a>
API Documentation <a href="https://github.com/zdzw-eu/Usage-Traceability/blob/main/docs/annex/ZDZW_API_Blockchain_documentation.md">https://github.com/zdzw-eu/Usage-Traceability/blob/main/docs/annex/ZDZW_API_Blockchain_documentation.md</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>